#include "resources.h"

const char indexHtml[] PROGMEM = R"rawliteral(
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/icon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ESP32 Sequent Driver</title>
    <script type="module">var et=Object.defineProperty;var tt=(t,e,n)=>e in t?et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pe=(t,e,n)=>(tt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function S(){}const nt=t=>t;function lt(t,e){for(const n in e)t[n]=e[n];return t}function He(t){return t()}function Se(){return Object.create(null)}function J(t){t.forEach(He)}function $e(t){return typeof t=="function"}function T(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function it(t){return Object.keys(t).length===0}function st(t,...e){if(t==null){for(const l of e)l(void 0);return S}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function L(t,e,n){t.$$.on_destroy.push(st(e,n))}function Je(t,e,n,l){if(t){const i=Ve(t,e,n,l);return t[0](i)}}function Ve(t,e,n,l){return t[1]&&l?lt(n.ctx.slice(),t[1](l(e))):n.ctx}function We(t,e,n,l){if(t[2]&&l){const i=t[2](l(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],r=Math.max(e.dirty.length,i.length);for(let o=0;o<r;o+=1)s[o]=e.dirty[o]|i[o];return s}return e.dirty|i}return e.dirty}function Ke(t,e,n,l,i,s){if(i){const r=Ve(e,n,l,s);t.p(r,i)}}function Ge(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function Ee(t){return t??""}function B(t,e,n){return t.set(n),e}const Qe=typeof window<"u";let ot=Qe?()=>window.performance.now():()=>Date.now(),be=Qe?t=>requestAnimationFrame(t):S;const X=new Set;function Xe(t){X.forEach(e=>{e.c(t)||(X.delete(e),e.f())}),X.size!==0&&be(Xe)}function rt(t){let e;return X.size===0&&be(Xe),{promise:new Promise(n=>{X.add(e={c:t,f:n})}),abort(){X.delete(e)}}}function b(t,e){t.appendChild(e)}function Ye(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ut(t){const e=v("style");return e.textContent="/* empty */",ct(Ye(t),e),e.sheet}function ct(t,e){return b(t.head||t,e),e.sheet}function y(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function we(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function F(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function I(t){return document.createTextNode(t)}function E(){return I(" ")}function ve(){return I("")}function O(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function c(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ft(t){return Array.from(t.childNodes)}function U(t,e){e=""+e,t.data!==e&&(t.data=e)}function qe(t,e){t.value=e??""}function at(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function dt(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}const re=new Map;let ue=0;function pt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function mt(t,e){const n={stylesheet:ut(e),rules:{}};return re.set(t,n),n}function Ie(t,e,n,l,i,s,r,o=0){const u=16.666/l;let f=`{
`;for(let m=0;m<=1;m+=u){const d=e+(n-e)*s(m);f+=m*100+`%{${r(d,1-d)}}
`}const a=f+`100% {${r(n,1-n)}}
}`,h=`__svelte_${pt(a)}_${o}`,g=Ye(t),{stylesheet:p,rules:_}=re.get(g)||mt(g,t);_[h]||(_[h]=!0,p.insertRule(`@keyframes ${h} ${a}`,p.cssRules.length));const $=t.style.animation||"";return t.style.animation=`${$?`${$}, `:""}${h} ${l}ms linear ${i}ms 1 both`,ue+=1,h}function _t(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=n.length-l.length;i&&(t.style.animation=l.join(", "),ue-=i,ue||ht())}function ht(){be(()=>{ue||(re.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&k(e)}),re.clear())})}let ke;function te(t){ke=t}const G=[],he=[];let Y=[];const Ne=[],gt=Promise.resolve();let ge=!1;function $t(){ge||(ge=!0,gt.then(Ze))}function ne(t){Y.push(t)}const me=new Set;let W=0;function Ze(){if(W!==0)return;const t=ke;do{try{for(;W<G.length;){const e=G[W];W++,te(e),bt(e.$$)}}catch(e){throw G.length=0,W=0,e}for(te(null),G.length=0,W=0;he.length;)he.pop()();for(let e=0;e<Y.length;e+=1){const n=Y[e];me.has(n)||(me.add(n),n())}Y.length=0}while(G.length);for(;Ne.length;)Ne.pop()();ge=!1,me.clear(),te(t)}function bt(t){if(t.fragment!==null){t.update(),J(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ne)}}function wt(t){const e=[],n=[];Y.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Y=e}let ee;function vt(){return ee||(ee=Promise.resolve(),ee.then(()=>{ee=null})),ee}function _e(t,e,n){t.dispatchEvent(dt(`${e?"intro":"outro"}${n}`))}const se=new Set;let D;function ye(){D={r:0,c:[],p:D}}function Ce(){D.r||J(D.c),D=D.p}function q(t,e){t&&t.i&&(se.delete(t),t.i(e))}function N(t,e,n,l){if(t&&t.o){if(se.has(t))return;se.add(t),D.c.push(()=>{se.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const kt={duration:0};function Pe(t,e,n,l){let s=e(t,n,{direction:"both"}),r=l?0:1,o=null,u=null,f=null,a;function h(){f&&_t(t,f)}function g(_,$){const m=_.b-r;return $*=Math.abs(m),{a:r,b:_.b,d:m,duration:$,start:_.start,end:_.start+$,group:_.group}}function p(_){const{delay:$=0,duration:m=300,easing:d=nt,tick:C=S,css:w}=s||kt,R={start:ot()+$,b:_};_||(R.group=D,D.r+=1),"inert"in t&&(_?a!==void 0&&(t.inert=a):(a=t.inert,t.inert=!0)),o||u?u=R:(w&&(h(),f=Ie(t,r,_,m,$,d,w)),_&&C(0,1),o=g(R,m),ne(()=>_e(t,_,"start")),rt(P=>{if(u&&P>u.start&&(o=g(u,m),u=null,_e(t,o.b,"start"),w&&(h(),f=Ie(t,r,o.b,o.duration,0,d,s.css))),o){if(P>=o.end)C(r=o.b,1-r),_e(t,o.b,"end"),u||(o.b?h():--o.group.r||J(o.group.c)),o=null;else if(P>=o.start){const de=P-o.start;r=o.a+o.d*d(de/o.duration),C(r,1-r)}}return!!(o||u)}))}return{run(_){$e(s)?vt().then(()=>{s=s({direction:_?"in":"out"}),p(_)}):p(_)},end(){h(),o=u=null}}}function Z(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function A(t){t&&t.c()}function M(t,e,n){const{fragment:l,after_update:i}=t.$$;l&&l.m(e,n),ne(()=>{const s=t.$$.on_mount.map(He).filter($e);t.$$.on_destroy?t.$$.on_destroy.push(...s):J(s),t.$$.on_mount=[]}),i.forEach(ne)}function j(t,e){const n=t.$$;n.fragment!==null&&(wt(n.after_update),J(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function yt(t,e){t.$$.dirty[0]===-1&&(G.push(t),$t(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function z(t,e,n,l,i,s,r=null,o=[-1]){const u=ke;te(t);const f=t.$$={fragment:null,ctx:[],props:s,update:S,not_equal:i,bound:Se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Se(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};r&&r(f.root);let a=!1;if(f.ctx=n?n(t,e.props||{},(h,g,...p)=>{const _=p.length?p[0]:g;return f.ctx&&i(f.ctx[h],f.ctx[h]=_)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](_),a&&yt(t,h)),g}):[],f.update(),a=!0,J(f.before_update),f.fragment=l?l(f.ctx):!1,e.target){if(e.hydrate){const h=ft(e.target);f.fragment&&f.fragment.l(h),h.forEach(k)}else f.fragment&&f.fragment.c();e.intro&&q(t.$$.fragment),M(t,e.target,e.anchor),Ze()}te(u)}class H{constructor(){pe(this,"$$");pe(this,"$$set")}$destroy(){j(this,1),this.$destroy=S}$on(e,n){if(!$e(n))return S;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!it(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ct="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ct);const K=[];function ie(t,e=S){let n;const l=new Set;function i(o){if(T(t,o)&&(t=o,n)){const u=!K.length;for(const f of l)f[1](),K.push(f,t);if(u){for(let f=0;f<K.length;f+=2)K[f][0](K[f+1]);K.length=0}}}function s(o){i(o(t))}function r(o,u=S){const f=[o,u];return l.add(f),l.size===1&&(n=e(i,s)||S),o(t),()=>{l.delete(f),l.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:r}}const oe=ie(!1),ce=ie("192.168.4.1"),le=ie({states:[],cameras:[],isRunning:!1,sequenceFilename:"",cameraIP:"192.168.4.7",actionIndex:0,timeUntilNext:0,totalActions:0}),Q=ie(!1),fe=ie();function St(t){const e=t-1;return e*e*e+1}function Le(t,{delay:e=0,duration:n=400,easing:l=St,axis:i="y"}={}){const s=getComputedStyle(t),r=+s.opacity,o=i==="y"?"height":"width",u=parseFloat(s[o]),f=i==="y"?["top","bottom"]:["left","right"],a=f.map(d=>`${d[0].toUpperCase()}${d.slice(1)}`),h=parseFloat(s[`padding${a[0]}`]),g=parseFloat(s[`padding${a[1]}`]),p=parseFloat(s[`margin${a[0]}`]),_=parseFloat(s[`margin${a[1]}`]),$=parseFloat(s[`border${a[0]}Width`]),m=parseFloat(s[`border${a[1]}Width`]);return{delay:e,duration:n,easing:l,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*r};${o}: ${d*u}px;padding-${f[0]}: ${d*h}px;padding-${f[1]}: ${d*g}px;margin-${f[0]}: ${d*p}px;margin-${f[1]}: ${d*_}px;border-${f[0]}-width: ${d*$}px;border-${f[1]}-width: ${d*m}px;`}}const Et=t=>({}),Oe=t=>({});function Re(t){let e,n,l,i;const s=t[4].default,r=Je(s,t,t[3],null);return{c(){e=v("div"),r&&r.c(),c(e,"id",n=`${t[0]}-body`),c(e,"class","body svelte-sext2k")},m(o,u){y(o,e,u),r&&r.m(e,null),i=!0},p(o,u){r&&r.p&&(!i||u&8)&&Ke(r,s,o,o[3],i?We(s,o[3],u,null):Ge(o[3]),null),(!i||u&1&&n!==(n=`${o[0]}-body`))&&c(e,"id",n)},i(o){i||(q(r,o),o&&ne(()=>{i&&(l||(l=Pe(e,Le,{duration:300},!0)),l.run(1))}),i=!0)},o(o){N(r,o),o&&(l||(l=Pe(e,Le,{duration:300},!1)),l.run(0)),i=!1},d(o){o&&k(e),r&&r.d(o),o&&l&&l.end()}}}function qt(t){let e,n,l,i,s,r,o,u,f,a,h,g,p;const _=t[4].heading,$=Je(_,t,t[3],Oe);let m=t[1]&&Re(t);return{c(){e=v("div"),n=v("button"),$&&$.c(),l=E(),i=v("div"),s=F("svg"),r=F("path"),a=E(),m&&m.c(),c(r,"d","M15 18l-6-6 6-6"),c(s,"class",o=Ee(t[1]?"rotated":"")+" svelte-sext2k"),c(s,"xmlns","http://www.w3.org/2000/svg"),c(s,"width","24"),c(s,"height","24"),c(s,"viewBox","0 0 24 24"),c(s,"fill","none"),c(s,"stroke","currentColor"),c(s,"stroke-width","2"),c(s,"stroke-linecap","round"),c(s,"stroke-linejoin","round"),c(i,"class","arrow-container svelte-sext2k"),c(n,"class","heading svelte-sext2k"),c(n,"title",u=t[1]?"Collapse section":"Expand section"),c(n,"aria-expanded",t[1]),c(n,"aria-controls",f=`${t[0]}-body`),c(e,"class","section svelte-sext2k")},m(d,C){y(d,e,C),b(e,n),$&&$.m(n,null),b(n,l),b(n,i),b(i,s),b(s,r),b(e,a),m&&m.m(e,null),h=!0,g||(p=O(n,"click",t[2]),g=!0)},p(d,[C]){$&&$.p&&(!h||C&8)&&Ke($,_,d,d[3],h?We(_,d[3],C,Et):Ge(d[3]),Oe),(!h||C&2&&o!==(o=Ee(d[1]?"rotated":"")+" svelte-sext2k"))&&c(s,"class",o),(!h||C&2&&u!==(u=d[1]?"Collapse section":"Expand section"))&&c(n,"title",u),(!h||C&2)&&c(n,"aria-expanded",d[1]),(!h||C&1&&f!==(f=`${d[0]}-body`))&&c(n,"aria-controls",f),d[1]?m?(m.p(d,C),C&2&&q(m,1)):(m=Re(d),m.c(),q(m,1),m.m(e,null)):m&&(ye(),N(m,1,1,()=>{m=null}),Ce())},i(d){h||(q($,d),q(m),h=!0)},o(d){N($,d),N(m),h=!1},d(d){d&&k(e),$&&$.d(d),m&&m.d(),g=!1,p()}}}function It(t,e,n){let{$$slots:l={},$$scope:i}=e,{name:s}=e;const r=`${s}-expanded`;let o;localStorage.getItem(r)?o=localStorage.getItem(r)==String(!0):o=!0;function u(){n(1,o=!o),s&&localStorage.setItem(r,String(o))}return t.$$set=f=>{"name"in f&&n(0,s=f.name),"$$scope"in f&&n(3,i=f.$$scope)},[s,o,u,i,l]}class ae extends H{constructor(e){super(),z(this,e,It,qt,T,{name:0})}}function Nt(t){let e,n,l;return{c(){e=v("button"),e.textContent="Disconnect"},m(i,s){y(i,e,s),n||(l=O(e,"click",t[5]),n=!0)},p:S,d(i){i&&k(e),n=!1,l()}}}function Pt(t){let e,n,l;return{c(){e=v("button"),e.textContent="Connect"},m(i,s){y(i,e,s),n||(l=O(e,"click",t[4]),n=!0)},p:S,d(i){i&&k(e),n=!1,l()}}}function Lt(t){let e;return{c(){e=v("p"),e.textContent="Disconnected",c(e,"class","error")},m(n,l){y(n,e,l)},p:S,d(n){n&&k(e)}}}function Ot(t){let e,n,l;return{c(){e=v("p"),n=I("Connected to "),l=I(t[3]),c(e,"class","success")},m(i,s){y(i,e,s),b(e,n),b(e,l)},p(i,s){s&8&&U(l,i[3])},d(i){i&&k(e)}}}function Rt(t){let e;return{c(){e=v("p"),e.textContent="Connecting..."},m(n,l){y(n,e,l)},p:S,d(n){n&&k(e)}}}function Ft(t){let e,n,l,i,s,r,o,u,f;function a(m,d){return!m[2]||m[0]!=m[3]?Pt:Nt}let h=a(t),g=h(t);function p(m,d){return m[1]?Rt:m[2]?Ot:Lt}let _=p(t),$=_(t);return{c(){e=v("label"),n=v("span"),n.textContent="IP address:",l=E(),i=v("input"),s=E(),g.c(),r=E(),$.c(),o=ve(),c(i,"placeholder","ESP32 IP address")},m(m,d){y(m,e,d),b(e,n),b(e,l),b(e,i),qe(i,t[0]),y(m,s,d),g.m(m,d),y(m,r,d),$.m(m,d),y(m,o,d),u||(f=O(i,"input",t[6]),u=!0)},p(m,d){d&1&&i.value!==m[0]&&qe(i,m[0]),h===(h=a(m))&&g?g.p(m,d):(g.d(1),g=h(m),g&&(g.c(),g.m(r.parentNode,r))),_===(_=p(m))&&$?$.p(m,d):($.d(1),$=_(m),$&&($.c(),$.m(o.parentNode,o)))},d(m){m&&(k(e),k(s),k(r),k(o)),g.d(m),$.d(m),u=!1,f()}}}function Mt(t){let e;return{c(){e=v("h2"),e.textContent="Connect to ESP32",c(e,"slot","heading")},m(n,l){y(n,e,l)},p:S,d(n){n&&k(e)}}}function jt(t){let e,n;return e=new ae({props:{name:"connect-esp",$$slots:{heading:[Mt],default:[Ft]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment)},m(l,i){M(e,l,i),n=!0},p(l,[i]){const s={};i&1039&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){N(e.$$.fragment,l),n=!1},d(l){j(e,l)}}}function At(t,e,n){let l,i,s,r,o;L(t,fe,p=>n(7,l=p)),L(t,oe,p=>n(2,i=p)),L(t,Q,p=>n(8,s=p)),L(t,le,p=>n(9,r=p)),L(t,ce,p=>n(3,o=p));let u=o,f;function a(){B(ce,o=u,o),l==null||l.close(),B(fe,l=new WebSocket(`ws://${o}:81`),l),l.addEventListener("message",p=>{B(le,r=JSON.parse(p.data),r),B(Q,s=!1,s)}),l.addEventListener("open",p=>{B(oe,i=!0,i),n(1,f=!1)}),l.addEventListener("close",p=>{B(oe,i=!1,i),n(1,f=!1)}),n(1,f=!0)}function h(){l==null||l.close()}a();function g(){u=this.value,n(0,u)}return[u,f,i,o,a,h,g]}class xt extends H{constructor(e){super(),z(this,e,At,jt,T,{})}}function Fe(t,e,n){const l=t.slice();return l[16]=e[n],l}function Me(t){let e,n,l;return{c(){e=v("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect></svg>',c(e,"title","Stop running sequence"),c(e,"class","svelte-10mdo5p")},m(i,s){y(i,e,s),n||(l=O(e,"click",t[5]),n=!0)},p:S,d(i){i&&k(e),n=!1,l()}}}function Dt(t){let e;return{c(){e=v("p"),e.textContent="Sequence stopped."},m(n,l){y(n,e,l)},p:S,d(n){n&&k(e)}}}function Tt(t){let e,n,l=t[3].sequenceFilename+"",i,s;return{c(){e=v("p"),n=I("Sequence '"),i=I(l),s=I("' running...")},m(r,o){y(r,e,o),b(e,n),b(e,i),b(e,s)},p(r,o){o&8&&l!==(l=r[3].sequenceFilename+"")&&U(i,l)},d(r){r&&k(e)}}}function Bt(t){let e;return{c(){e=v("p"),e.textContent="Loading..."},m(n,l){y(n,e,l)},p:S,d(n){n&&k(e)}}}function je(t){let e,n,l=t[3].actionIndex+"",i,s,r=t[3].totalActions+"",o,u,f;return{c(){e=v("p"),n=I("Action index: "),i=I(l),s=I(" / "),o=I(r),u=I(`\r
      Time until next action: `),f=I(t[1])},m(a,h){y(a,e,h),b(e,n),b(e,i),b(e,s),b(e,o),b(e,u),b(e,f)},p(a,h){h&8&&l!==(l=a[3].actionIndex+"")&&U(i,l),h&8&&r!==(r=a[3].totalActions+"")&&U(o,r),h&2&&U(f,a[1])},d(a){a&&k(e)}}}function Ut(t){let e,n,l,i,s,r;function o(){return t[9](t[16])}return{c(){e=v("button"),n=F("svg"),l=F("polygon"),c(l,"points","5 3 19 12 5 21 5 3"),c(n,"xmlns","http://www.w3.org/2000/svg"),c(n,"width","1em"),c(n,"height","1em"),c(n,"viewBox","0 0 24 24"),c(n,"fill","none"),c(n,"stroke","currentColor"),c(n,"stroke-width","2"),c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(e,"title",i=`Start '${t[16]}' sequence`)},m(u,f){y(u,e,f),b(e,n),b(n,l),s||(r=O(e,"click",o),s=!0)},p(u,f){t=u,f&4&&i!==(i=`Start '${t[16]}' sequence`)&&c(e,"title",i)},d(u){u&&k(e),s=!1,r()}}}function zt(t){let e,n,l,i,s,r;return{c(){e=v("button"),n=F("svg"),l=F("rect"),c(l,"x","3"),c(l,"y","3"),c(l,"width","18"),c(l,"height","18"),c(l,"rx","2"),c(l,"ry","2"),c(n,"xmlns","http://www.w3.org/2000/svg"),c(n,"width","1em"),c(n,"height","1em"),c(n,"viewBox","0 0 24 24"),c(n,"fill","none"),c(n,"stroke","currentColor"),c(n,"stroke-width","2"),c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(e,"title",i=`Stop '${t[16]}' sequence`)},m(o,u){y(o,e,u),b(e,n),b(n,l),s||(r=O(e,"click",t[8]),s=!0)},p(o,u){u&4&&i!==(i=`Stop '${o[16]}' sequence`)&&c(e,"title",i)},d(o){o&&k(e),s=!1,r()}}}function Ae(t){let e,n,l=t[16]+"",i,s,r,o,u,f,a,h,g,p,_,$,m,d,C;function w(x,V){return x[3].isRunning&&x[3].sequenceFilename===x[16]?zt:Ut}let R=w(t),P=R(t);function de(){return t[10](t[16])}return{c(){e=v("div"),n=v("div"),i=I(l),s=E(),r=v("div"),o=E(),P.c(),u=E(),f=v("button"),a=F("svg"),h=F("polyline"),g=F("path"),p=F("line"),_=F("line"),m=E(),at(r,"flex","1"),c(h,"points","3 6 5 6 21 6"),c(g,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),c(p,"x1","10"),c(p,"y1","11"),c(p,"x2","10"),c(p,"y2","17"),c(_,"x1","14"),c(_,"y1","11"),c(_,"x2","14"),c(_,"y2","17"),c(a,"xmlns","http://www.w3.org/2000/svg"),c(a,"width","1em"),c(a,"height","1em"),c(a,"viewBox","0 0 24 24"),c(a,"fill","none"),c(a,"stroke","currentColor"),c(a,"stroke-width","2"),c(a,"stroke-linecap","round"),c(a,"stroke-linejoin","round"),c(f,"title",$=`Delete '${t[16]}' sequence`),c(e,"class","sequence-container svelte-10mdo5p")},m(x,V){y(x,e,V),b(e,n),b(n,i),b(e,s),b(e,r),b(e,o),P.m(e,null),b(e,u),b(e,f),b(f,a),b(a,h),b(a,g),b(a,p),b(a,_),b(e,m),d||(C=O(f,"click",de),d=!0)},p(x,V){t=x,V&4&&l!==(l=t[16]+"")&&U(i,l),R===(R=w(t))&&P?P.p(t,V):(P.d(1),P=R(t),P&&(P.c(),P.m(e,u))),V&4&&$!==($=`Delete '${t[16]}' sequence`)&&c(f,"title",$)},d(x){x&&k(e),P.d(),d=!1,C()}}}function Ht(t){let e,n,l,i,s,r,o,u,f,a=t[3].isRunning&&Me(t);function h(d,C){return d[0]?Bt:d[3].isRunning?Tt:Dt}let g=h(t),p=g(t),_=t[3].isRunning&&je(t),$=Z(t[2]),m=[];for(let d=0;d<$.length;d+=1)m[d]=Ae(Fe(t,$,d));return{c(){e=v("div"),a&&a.c(),n=E(),l=v("button"),l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.5 2v6h-6M21.34 15.57a10 10 0 1 1-.57-8.38"></path></svg>',i=E(),p.c(),s=E(),_&&_.c(),r=E();for(let d=0;d<m.length;d+=1)m[d].c();o=ve(),c(l,"title","Refresh sequence list"),c(l,"class","svelte-10mdo5p"),c(e,"class","icon-buttons-container svelte-10mdo5p")},m(d,C){y(d,e,C),a&&a.m(e,null),b(e,n),b(e,l),y(d,i,C),p.m(d,C),y(d,s,C),_&&_.m(d,C),y(d,r,C);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(d,C);y(d,o,C),u||(f=O(l,"click",t[6]),u=!0)},p(d,C){if(d[3].isRunning?a?a.p(d,C):(a=Me(d),a.c(),a.m(e,n)):a&&(a.d(1),a=null),g===(g=h(d))&&p?p.p(d,C):(p.d(1),p=g(d),p&&(p.c(),p.m(s.parentNode,s))),d[3].isRunning?_?_.p(d,C):(_=je(d),_.c(),_.m(r.parentNode,r)):_&&(_.d(1),_=null),C&188){$=Z(d[2]);let w;for(w=0;w<$.length;w+=1){const R=Fe(d,$,w);m[w]?m[w].p(R,C):(m[w]=Ae(R),m[w].c(),m[w].m(o.parentNode,o))}for(;w<m.length;w+=1)m[w].d(1);m.length=$.length}},d(d){d&&(k(e),k(i),k(s),k(r),k(o)),a&&a.d(),p.d(d),_&&_.d(d),we(m,d),u=!1,f()}}}function Jt(t){let e;return{c(){e=v("h2"),e.textContent="Sequence",c(e,"slot","heading")},m(n,l){y(n,e,l)},p:S,d(n){n&&k(e)}}}function Vt(t){let e,n;return e=new ae({props:{name:"sequence",$$slots:{heading:[Jt],default:[Ht]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment)},m(l,i){M(e,l,i),n=!0},p(l,[i]){const s={};i&524303&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){N(e.$$.fragment,l),n=!1},d(l){j(e,l)}}}function Wt(t,e,n){let l,i,s,r;L(t,ce,w=>n(13,l=w)),L(t,Q,w=>n(14,i=w)),L(t,fe,w=>n(15,s=w)),L(t,le,w=>n(3,r=w));let o,u,f="0",a,h=[];_(),le.subscribe(w=>{u=Date.now(),clearInterval(a),w.isRunning?a=setInterval(()=>{n(1,f=((r.timeUntilNext-(Date.now()-u))/1e3).toFixed(1))},100):n(1,f="0")}),Q.subscribe(w=>n(0,o=w&&o));function g(w){s.send(JSON.stringify({command:"start",filename:w})),n(0,o=B(Q,i=!0,i))}function p(){s.send(JSON.stringify({command:"stop"})),n(0,o=B(Q,i=!0,i))}async function _(){const w=await fetch(`http://${l}/seq-files`);n(2,h=(await w.json()).files)}async function $(w){await fetch(`http://${l}/delete?file=`+encodeURIComponent(w),{method:"DELETE"}),_()}return[o,f,h,r,g,p,_,$,()=>p(),w=>g(w),w=>$(w)]}class Kt extends H{constructor(e){super(),z(this,e,Wt,Vt,T,{})}}function xe(t){let e,n;return{c(){e=v("input"),c(e,"class","button"),c(e,"type","submit"),e.value=n=`Upload '${t[0].files[0].name}'`},m(l,i){y(l,e,i)},p(l,i){i&1&&n!==(n=`Upload '${l[0].files[0].name}'`)&&(e.value=n)},d(l){l&&k(e)}}}function Gt(t){let e,n,l,i,s,r,o,u,f,a,h,g,p=t[0]&&t[0].files.length>0&&xe(t);return{c(){e=v("button"),e.textContent="Set time from client",n=E(),l=v("button"),l.textContent="Reboot ESP32",i=E(),s=v("form"),r=v("label"),o=I(`Choose sequence file\r
      `),u=v("input"),f=E(),p&&p.c(),c(u,"type","file"),c(u,"name","file"),c(u,"accept",".seq"),c(u,"class","svelte-15k8ub1"),c(r,"class","button"),c(s,"class","file-form svelte-15k8ub1"),c(s,"action",a=`http://${t[1]}/upload`),c(s,"method","post"),c(s,"enctype","multipart/form-data")},m(_,$){y(_,e,$),y(_,n,$),y(_,l,$),y(_,i,$),y(_,s,$),b(s,r),b(r,o),b(r,u),t[5](u),b(s,f),p&&p.m(s,null),h||(g=[O(e,"click",t[2]),O(l,"click",t[3]),O(u,"change",t[4])],h=!0)},p(_,$){_[0]&&_[0].files.length>0?p?p.p(_,$):(p=xe(_),p.c(),p.m(s,null)):p&&(p.d(1),p=null),$&2&&a!==(a=`http://${_[1]}/upload`)&&c(s,"action",a)},d(_){_&&(k(e),k(n),k(l),k(i),k(s)),t[5](null),p&&p.d(),h=!1,J(g)}}}function Qt(t){let e;return{c(){e=v("h2"),e.textContent="Server",c(e,"slot","heading")},m(n,l){y(n,e,l)},p:S,d(n){n&&k(e)}}}function Xt(t){let e,n;return e=new ae({props:{name:"server",$$slots:{heading:[Qt],default:[Gt]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment)},m(l,i){M(e,l,i),n=!0},p(l,[i]){const s={};i&131&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){N(e.$$.fragment,l),n=!1},d(l){j(e,l)}}}function Yt(t,e,n){let l,i;L(t,ce,a=>n(1,l=a)),L(t,fe,a=>n(6,i=a));let s;function r(){i.send(JSON.stringify({command:"setTime",time:new Date().getTime()}))}function o(){fetch(`http://${l}/reboot`,{method:"POST"})}function u(){n(0,s)}function f(a){he[a?"unshift":"push"](()=>{s=a,n(0,s)})}return[s,l,r,o,u,f]}class Zt extends H{constructor(e){super(),z(this,e,Yt,Xt,T,{})}}function De(t,e,n){const l=t.slice();return l[2]=e[n],l}function Te(t){let e,n=t[2].message+"",l,i,s;return{c(){e=v("p"),l=I(n),i=E(),c(e,"class",s=t[2].statusCode==200||t[2].statusCode==0?"success":"error")},m(r,o){y(r,e,o),b(e,l),b(e,i)},p(r,o){o&2&&n!==(n=r[2].message+"")&&U(l,n),o&2&&s!==(s=r[2].statusCode==200||r[2].statusCode==0?"success":"error")&&c(e,"class",s)},d(r){r&&k(e)}}}function en(t){let e,n,l,i,s,r=Z(t[1]),o=[];for(let u=0;u<r.length;u+=1)o[u]=Te(De(t,r,u));return{c(){e=v("div"),n=v("strong"),l=I(t[0]),i=I(":"),s=E();for(let u=0;u<o.length;u+=1)o[u].c()},m(u,f){y(u,e,f),b(e,n),b(n,l),b(n,i),b(e,s);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null)},p(u,[f]){if(f&1&&U(l,u[0]),f&2){r=Z(u[1]);let a;for(a=0;a<r.length;a+=1){const h=De(u,r,a);o[a]?o[a].p(h,f):(o[a]=Te(h),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},i:S,o:S,d(u){u&&k(e),we(o,u)}}}function tn(t,e,n){let{title:l}=e,{logs:i}=e;return t.$$set=s=>{"title"in s&&n(0,l=s.title),"logs"in s&&n(1,i=s.logs)},[l,i]}class nn extends H{constructor(e){super(),z(this,e,tn,en,T,{title:0,logs:1})}}function Be(t,e,n){const l=t.slice();return l[1]=e[n],l}function Ue(t){let e,n;return e=new nn({props:{title:t[1].name,logs:t[1].logs}}),{c(){A(e.$$.fragment)},m(l,i){M(e,l,i),n=!0},p(l,i){const s={};i&1&&(s.title=l[1].name),i&1&&(s.logs=l[1].logs),e.$set(s)},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){N(e.$$.fragment,l),n=!1},d(l){j(e,l)}}}function ln(t){let e,n,l=Z(t[0].states),i=[];for(let r=0;r<l.length;r+=1)i[r]=Ue(Be(t,l,r));const s=r=>N(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ve()},m(r,o){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(r,o);y(r,e,o),n=!0},p(r,o){if(o&1){l=Z(r[0].states);let u;for(u=0;u<l.length;u+=1){const f=Be(r,l,u);i[u]?(i[u].p(f,o),q(i[u],1)):(i[u]=Ue(f),i[u].c(),q(i[u],1),i[u].m(e.parentNode,e))}for(ye(),u=l.length;u<i.length;u+=1)s(u);Ce()}},i(r){if(!n){for(let o=0;o<l.length;o+=1)q(i[o]);n=!0}},o(r){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)N(i[o]);n=!1},d(r){r&&k(e),we(i,r)}}}function sn(t){let e;return{c(){e=v("h2"),e.textContent="Status",c(e,"slot","heading")},m(n,l){y(n,e,l)},p:S,d(n){n&&k(e)}}}function on(t){let e,n;return e=new ae({props:{name:"status",$$slots:{heading:[sn],default:[ln]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment)},m(l,i){M(e,l,i),n=!0},p(l,[i]){const s={};i&17&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){N(e.$$.fragment,l),n=!1},d(l){j(e,l)}}}function rn(t,e,n){let l;return L(t,le,i=>n(0,l=i)),[l]}class un extends H{constructor(e){super(),z(this,e,rn,on,T,{})}}function cn(t){let e,n,l;return{c(){e=v("button"),e.innerHTML='<img src="/icon.svg" alt="Crescent icon"/>',c(e,"title","Switch theme"),c(e,"class","svelte-1oalwmk")},m(i,s){y(i,e,s),n||(l=O(e,"click",t[0]),n=!0)},p:S,i:S,o:S,d(i){i&&k(e),n=!1,l()}}}function fn(t,e,n){let{theme:l=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}=e;function i(){const r=window.document.documentElement.classList;l=="dark"?r.add("dark"):r.remove("dark")}function s(){n(1,l=l=="light"?"dark":"light"),localStorage.setItem("theme",l),i()}return i(),t.$$set=r=>{"theme"in r&&n(1,l=r.theme)},[s,l]}class an extends H{constructor(e){super(),z(this,e,fn,cn,T,{theme:1})}}function ze(t){let e,n,l,i;return e=new Zt({}),l=new Kt({}),{c(){A(e.$$.fragment),n=E(),A(l.$$.fragment)},m(s,r){M(e,s,r),y(s,n,r),M(l,s,r),i=!0},i(s){i||(q(e.$$.fragment,s),q(l.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),N(l.$$.fragment,s),i=!1},d(s){s&&k(n),j(e,s),j(l,s)}}}function dn(t){let e,n,l,i,s,r,o,u,f,a,h;s=new an({}),o=new un({}),f=new xt({});let g=t[0]&&ze();return{c(){e=v("main"),n=v("div"),l=v("h1"),l.textContent="ESP32 Sequent Driver",i=E(),A(s.$$.fragment),r=E(),A(o.$$.fragment),u=E(),A(f.$$.fragment),a=E(),g&&g.c(),c(n,"class","svelte-p108mq"),c(e,"class","svelte-p108mq")},m(p,_){y(p,e,_),b(e,n),b(n,l),b(n,i),M(s,n,null),b(e,r),M(o,e,null),b(e,u),M(f,e,null),b(e,a),g&&g.m(e,null),h=!0},p(p,[_]){p[0]?g?_&1&&q(g,1):(g=ze(),g.c(),q(g,1),g.m(e,null)):g&&(ye(),N(g,1,1,()=>{g=null}),Ce())},i(p){h||(q(s.$$.fragment,p),q(o.$$.fragment,p),q(f.$$.fragment,p),q(g),h=!0)},o(p){N(s.$$.fragment,p),N(o.$$.fragment,p),N(f.$$.fragment,p),N(g),h=!1},d(p){p&&k(e),j(s),j(o),j(f),g&&g.d()}}}function pn(t,e,n){let l;return L(t,oe,i=>n(0,l=i)),[l]}class mn extends H{constructor(e){super(),z(this,e,pn,dn,T,{})}}new mn({target:document.getElementById("app")});</script>
    <style>:root{font-family:Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;font-size:16px;box-sizing:border-box;color:var(--gray-5);background-color:var(--gray-95);transition:background-color .2s,color .2s}*,*:before,*:after{box-sizing:inherit}body,h1,h2,h3,h4,h5,h6,p,ol,ul{margin:0;padding:0;font-weight:400}ol,ul{list-style:none}img{max-width:100%;height:auto}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;display:flex}:root{--black: #121212;--white: #f0f0f0;--dark: #4c4c4c;--light: #acacac;--darker: #2d2d2d;--darkest: #1e1e1e;--lighter: #d1d1d1;--lightest: #e0e0e0;--medium: #888888;--light-red: #ff8484;--dark-red: #b70000;--light-green: #87ff85;--dark-green: #028100;--light-yellow: #fffd85;--dark-yellow: #768500}:root:not(.dark){--gray-5: var(--black);--gray-10: var(--darkest);--gray-15: var(--darker);--gray-35: var(--dark);--gray-50: var(--medium);--gray-65: var(--light);--gray-85: var(--lighter);--gray-90: var(--lightest);--gray-95: var(--white);--green-5: var(--dark-green);--green-95: var(--light-green);--red-5: var(--dark-red);--red-95: var(--light-red);--yellow-5: var(--dark-yellow);--yellow-95: var(--light-yellow)}:root.dark{--gray-5: var(--white);--gray-10: var(--lightest);--gray-15: var(--lighter);--gray-35: var(--light);--gray-50: var(--medium);--gray-65: var(--dark);--gray-85: var(--darker);--gray-90: var(--darkest);--gray-95: var(--black);--green-5: var(--light-green);--green-95: var(--dark-green);--red-5: var(--light-red);--red-95: var(--dark-red);--yellow-5: var(--light-yellow);--yellow-95: var(--dark-yellow)}#app{width:100%;max-width:480px;margin:0 auto;padding:2rem}button,.button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;color:var(--gray-95);background-color:var(--gray-5);cursor:pointer;transition:background-color .2s,color .2s;display:block;text-align:center}button:hover,.button:hover{background-color:var(--gray-35)}button:disabled{background-color:var(--gray-50);cursor:not-allowed}label{display:flex;align-items:center;gap:16px;background-color:var(--gray-90);padding:6px 16px;border-radius:8px;transition:background-color .2s}label>span{flex-shrink:0}input{border-width:2px;border-color:transparent;border-style:solid;border-radius:8px;padding:.6em;outline:none;font-size:inherit;font-family:inherit;color:var(--gray-5);background-color:var(--gray-85);transition:background-color .2s,color .2s,border-color .2s;width:100%}input:hover{border-color:var(--gray-65)}input:focus{border-color:var(--gray-50)}input:disabled{border-color:transparent;color:var(--gray-50);cursor:not-allowed}.success{color:var(--green-5)}.warning{color:var(--yellow-5)}.error{color:var(--red-5)}p{white-space:pre-line;overflow-wrap:break-word}.section.svelte-sext2k{border-style:solid;border-width:2px;border-color:var(--gray-50);border-radius:16px;display:flex;flex-direction:column;padding:16px 16px 0;transition:border-color .2s}.body.svelte-sext2k{display:flex;flex-direction:column;row-gap:16px;padding-bottom:16px}.heading.svelte-sext2k{all:unset;display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-bottom:16px}.arrow-container.svelte-sext2k{transition:background-color .2s;background-color:transparent;border-radius:8px;padding:4px;display:flex;align-items:center}.arrow-container.svelte-sext2k:hover{background-color:var(--gray-65)}svg.svelte-sext2k{transition:transform .3s;color:inherit}svg.rotated.svelte-sext2k{transform:rotate(-90deg)}.icon-buttons-container.svelte-10mdo5p.svelte-10mdo5p{display:flex;gap:8px}.icon-buttons-container.svelte-10mdo5p>button.svelte-10mdo5p{flex:1}.sequence-container.svelte-10mdo5p.svelte-10mdo5p{display:flex;align-items:center;gap:8px;border-radius:8px;padding:.6em .6em .6em 1em;color:var(--gray-5);background-color:var(--gray-90);transition:background-color .2s,color .2s;width:100%}input[type=file].svelte-15k8ub1{display:none}.file-form.svelte-15k8ub1{display:flex;flex-direction:column;row-gap:16px}button.svelte-1oalwmk{background-color:transparent;padding:8px;min-width:48px;display:flex;align-items:center}button.svelte-1oalwmk:hover{background-color:var(--gray-65)}div.svelte-p108mq{display:flex;flex-direction:row;justify-content:space-between;column-gap:8px}main.svelte-p108mq{display:flex;flex-direction:column;row-gap:32px}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
)rawliteral";

const char iconSvg[] PROGMEM = R"rawliteral(
<svg class="iconify iconify--logos" width="32" height="32" aria-hidden="true" preserveAspectRatio="xMidYMid" role="img" version="1.1" viewBox="0 0 256.96 257" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><radialGradient id="radialGradient9277" cx="128.48" cy="128.5" r="96.375" gradientUnits="userSpaceOnUse"><stop stop-color="#e6e6e6" offset="0"/><stop stop-color="#c6c6c6" offset=".67716"/><stop stop-color="#a5a5a5" offset="1"/></radialGradient><clipPath id="clipPath10832"><circle cx="128.48" cy="128.5" r="128.5" fill="none" style="paint-order:normal"/></clipPath></defs><g clip-path="url(#clipPath10832)"><rect x="-.01819" width="257" height="257" fill="#121212" style="paint-order:normal"/><circle cx="128.48" cy="128.5" r="96.375" fill="url(#radialGradient9277)" style="paint-order:normal"/><circle cx="96.357" cy="160.62" r="96.375" fill="#121212" style="paint-order:normal"/></g></svg>
)rawliteral";