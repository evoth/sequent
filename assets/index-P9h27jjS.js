var bl=Object.defineProperty;var vl=(i,e,t)=>e in i?bl(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var z=(i,e,t)=>(vl(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(l){if(l.ep)return;l.ep=!0;const r=t(l);fetch(l.href,r)}})();function ne(){}const Yt=i=>i;function wl(i,e){for(const t in e)i[t]=e[t];return i}function Ki(i){return i()}function gn(){return Object.create(null)}function _e(i){i.forEach(Ki)}function Xe(i){return typeof i=="function"}function ie(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}function kl(i){return Object.keys(i).length===0}function Sl(i,...e){if(i==null){for(const n of e)n(void 0);return ne}const t=i.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function de(i,e,t){i.$$.on_destroy.push(Sl(e,t))}function Ue(i,e,t,n){if(i){const l=Gi(i,e,t,n);return i[0](l)}}function Gi(i,e,t,n){return i[1]&&n?wl(t.ctx.slice(),i[1](n(e))):t.ctx}function He(i,e,t,n){if(i[2]&&n){const l=i[2](n(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const r=[],s=Math.max(e.dirty.length,l.length);for(let o=0;o<s;o+=1)r[o]=e.dirty[o]|l[o];return r}return e.dirty|l}return e.dirty}function Ye(i,e,t,n,l,r){if(l){const s=Gi(e,t,n,r);i.p(s,l)}}function ze(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function _n(i){return i??""}function ve(i,e,t){return i.set(t),e}function Qi(i){return i&&Xe(i.destroy)?i.destroy:ne}const Zi=typeof window<"u";let Gt=Zi?()=>window.performance.now():()=>Date.now(),Qt=Zi?i=>requestAnimationFrame(i):ne;const ft=new Set;function $i(i){ft.forEach(e=>{e.c(i)||(ft.delete(e),e.f())}),ft.size!==0&&Qt($i)}function Zt(i){let e;return ft.size===0&&Qt($i),{promise:new Promise(t=>{ft.add(e={c:i,f:t})}),abort(){ft.delete(e)}}}function D(i,e){i.appendChild(e)}function xi(i){if(!i)return document;const e=i.getRootNode?i.getRootNode():i.ownerDocument;return e&&e.host?e:i.ownerDocument}function Ml(i){const e=O("style");return e.textContent="/* empty */",yl(xi(i),e),e.sheet}function yl(i,e){return D(i.head||i,e),e.sheet}function k(i,e,t){i.insertBefore(e,t||null)}function w(i){i.parentNode&&i.parentNode.removeChild(i)}function je(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function O(i){return document.createElement(i)}function Te(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function te(i){return document.createTextNode(i)}function H(){return te(" ")}function Z(){return te("")}function K(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function p(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Ol(i){return Array.from(i.childNodes)}function Ae(i,e){e=""+e,i.data!==e&&(i.data=e)}function Dt(i,e){i.value=e??""}function P(i,e,t,n){t==null?i.style.removeProperty(e):i.style.setProperty(e,t,n?"important":"")}let Nt;function Dl(){if(Nt===void 0){Nt=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Nt=!0}}return Nt}function Ct(i,e){getComputedStyle(i).position==="static"&&(i.style.position="relative");const n=O("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const l=Dl();let r;return l?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=K(window,"message",s=>{s.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{r=K(n.contentWindow,"resize",e),e()}),D(i,n),()=>{(l||r&&n.contentWindow)&&r(),w(n)}}function Ne(i,e,t){i.classList.toggle(e,!!t)}function el(i,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(i,{detail:e,bubbles:t,cancelable:n})}const Tt=new Map;let It=0;function Nl(i){let e=5381,t=i.length;for(;t--;)e=(e<<5)-e^i.charCodeAt(t);return e>>>0}function ql(i,e){const t={stylesheet:Ml(e),rules:{}};return Tt.set(i,t),t}function Et(i,e,t,n,l,r,s,o=0){const a=16.666/n;let u=`{
`;for(let b=0;b<=1;b+=a){const M=e+(t-e)*r(b);u+=b*100+`%{${s(M,1-M)}}
`}const c=u+`100% {${s(t,1-t)}}
}`,f=`__svelte_${Nl(c)}_${o}`,d=xi(i),{stylesheet:h,rules:g}=Tt.get(d)||ql(d,i);g[f]||(g[f]=!0,h.insertRule(`@keyframes ${f} ${c}`,h.cssRules.length));const m=i.style.animation||"";return i.style.animation=`${m?`${m}, `:""}${f} ${n}ms linear ${l}ms 1 both`,It+=1,f}function At(i,e){const t=(i.style.animation||"").split(", "),n=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),l=t.length-n.length;l&&(i.style.animation=n.join(", "),It-=l,It||Cl())}function Cl(){Qt(()=>{It||(Tt.forEach(i=>{const{ownerNode:e}=i.stylesheet;e&&w(e)}),Tt.clear())})}let Mt;function wt(i){Mt=i}function $t(){if(!Mt)throw new Error("Function called outside component initialization");return Mt}function Tl(i){$t().$$.on_mount.push(i)}function Il(i){$t().$$.on_destroy.push(i)}function El(){const i=$t();return(e,t,{cancelable:n=!1}={})=>{const l=i.$$.callbacks[e];if(l){const r=el(e,t,{cancelable:n});return l.slice().forEach(s=>{s.call(i,r)}),!r.defaultPrevented}return!0}}function bn(i,e){const t=i.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const at=[],ue=[];let ct=[];const jt=[],tl=Promise.resolve();let Xt=!1;function nl(){Xt||(Xt=!0,tl.then(il))}function Al(){return nl(),tl}function ge(i){ct.push(i)}function Se(i){jt.push(i)}const Vt=new Set;let st=0;function il(){if(st!==0)return;const i=Mt;do{try{for(;st<at.length;){const e=at[st];st++,wt(e),Ll(e.$$)}}catch(e){throw at.length=0,st=0,e}for(wt(null),at.length=0,st=0;ue.length;)ue.pop()();for(let e=0;e<ct.length;e+=1){const t=ct[e];Vt.has(t)||(Vt.add(t),t())}ct.length=0}while(at.length);for(;jt.length;)jt.pop()();Xt=!1,Vt.clear(),wt(i)}function Ll(i){if(i.fragment!==null){i.update(),_e(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(ge)}}function Pl(i){const e=[],t=[];ct.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),ct=e}let gt;function xt(){return gt||(gt=Promise.resolve(),gt.then(()=>{gt=null})),gt}function rt(i,e,t){i.dispatchEvent(el(`${e?"intro":"outro"}${t}`))}const qt=new Set;let Be;function $(){Be={r:0,c:[],p:Be}}function x(){Be.r||_e(Be.c),Be=Be.p}function v(i,e){i&&i.i&&(qt.delete(i),i.i(e))}function S(i,e,t,n){if(i&&i.o){if(qt.has(i))return;qt.add(i),Be.c.push(()=>{qt.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}const en={duration:0};function Lt(i,e,t){const n={direction:"in"};let l=e(i,t,n),r=!1,s,o,a=0;function u(){s&&At(i,s)}function c(){const{delay:d=0,duration:h=300,easing:g=Yt,tick:m=ne,css:b}=l||en;b&&(s=Et(i,0,1,h,d,g,b,a++)),m(0,1);const M=Gt()+d,y=M+h;o&&o.abort(),r=!0,ge(()=>rt(i,!0,"start")),o=Zt(N=>{if(r){if(N>=y)return m(1,0),rt(i,!0,"end"),u(),r=!1;if(N>=M){const T=g((N-M)/h);m(T,1-T)}}return r})}let f=!1;return{start(){f||(f=!0,At(i),Xe(l)?(l=l(n),xt().then(c)):c())},invalidate(){f=!1},end(){r&&(u(),r=!1)}}}function Pt(i,e,t){const n={direction:"out"};let l=e(i,t,n),r=!0,s;const o=Be;o.r+=1;let a;function u(){const{delay:c=0,duration:f=300,easing:d=Yt,tick:h=ne,css:g}=l||en;g&&(s=Et(i,1,0,f,c,d,g));const m=Gt()+c,b=m+f;ge(()=>rt(i,!1,"start")),"inert"in i&&(a=i.inert,i.inert=!0),Zt(M=>{if(r){if(M>=b)return h(0,1),rt(i,!1,"end"),--o.r||_e(o.c),!1;if(M>=m){const y=d((M-m)/f);h(1-y,y)}}return r})}return Xe(l)?xt().then(()=>{l=l(n),u()}):u(),{end(c){c&&"inert"in i&&(i.inert=a),c&&l.tick&&l.tick(1,0),r&&(s&&At(i,s),r=!1)}}}function et(i,e,t,n){let r=e(i,t,{direction:"both"}),s=n?0:1,o=null,a=null,u=null,c;function f(){u&&At(i,u)}function d(g,m){const b=g.b-s;return m*=Math.abs(b),{a:s,b:g.b,d:b,duration:m,start:g.start,end:g.start+m,group:g.group}}function h(g){const{delay:m=0,duration:b=300,easing:M=Yt,tick:y=ne,css:N}=r||en,T={start:Gt()+m,b:g};g||(T.group=Be,Be.r+=1),"inert"in i&&(g?c!==void 0&&(i.inert=c):(c=i.inert,i.inert=!0)),o||a?a=T:(N&&(f(),u=Et(i,s,g,b,m,M,N)),g&&y(0,1),o=d(T,b),ge(()=>rt(i,g,"start")),Zt(_=>{if(a&&_>a.start&&(o=d(a,b),a=null,rt(i,o.b,"start"),N&&(f(),u=Et(i,s,o.b,o.duration,0,M,r.css))),o){if(_>=o.end)y(s=o.b,1-s),rt(i,o.b,"end"),a||(o.b?f():--o.group.r||_e(o.group.c)),o=null;else if(_>=o.start){const J=_-o.start;s=o.a+o.d*M(J/o.duration),y(s,1-s)}}return!!(o||a)}))}return{run(g){Xe(r)?xt().then(()=>{r=r({direction:g?"in":"out"}),h(g)}):h(g)},end(){f(),o=a=null}}}function Q(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function Ul(i,e){i.d(1),e.delete(i.key)}function $e(i,e){S(i,1,1,()=>{e.delete(i.key)})}function Qe(i,e,t,n,l,r,s,o,a,u,c,f){let d=i.length,h=r.length,g=d;const m={};for(;g--;)m[i[g].key]=g;const b=[],M=new Map,y=new Map,N=[];for(g=h;g--;){const Y=f(l,r,g),q=t(Y);let C=s.get(q);C?n&&N.push(()=>C.p(Y,e)):(C=u(q,Y),C.c()),M.set(q,b[g]=C),q in m&&y.set(q,Math.abs(g-m[q]))}const T=new Set,_=new Set;function J(Y){v(Y,1),Y.m(o,c),s.set(Y.key,Y),c=Y.first,h--}for(;d&&h;){const Y=b[h-1],q=i[d-1],C=Y.key,I=q.key;Y===q?(c=Y.first,d--,h--):M.has(I)?!s.has(C)||T.has(C)?J(Y):_.has(I)?d--:y.get(C)>y.get(I)?(_.add(C),J(Y)):(T.add(I),d--):(a(q,s),d--)}for(;d--;){const Y=i[d];M.has(Y.key)||a(Y,s)}for(;h;)J(b[h-1]);return _e(N),b}function Me(i,e,t){const n=i.$$.props[e];n!==void 0&&(i.$$.bound[n]=t,t(i.$$.ctx[n]))}function j(i){i&&i.c()}function V(i,e,t){const{fragment:n,after_update:l}=i.$$;n&&n.m(e,t),ge(()=>{const r=i.$$.on_mount.map(Ki).filter(Xe);i.$$.on_destroy?i.$$.on_destroy.push(...r):_e(r),i.$$.on_mount=[]}),l.forEach(ge)}function B(i,e){const t=i.$$;t.fragment!==null&&(Pl(t.after_update),_e(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Hl(i,e){i.$$.dirty[0]===-1&&(at.push(i),nl(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function le(i,e,t,n,l,r,s=null,o=[-1]){const a=Mt;wt(i);const u=i.$$={fragment:null,ctx:[],props:r,update:ne,not_equal:l,bound:gn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:gn(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let c=!1;if(u.ctx=t?t(i,e.props||{},(f,d,...h)=>{const g=h.length?h[0]:d;return u.ctx&&l(u.ctx[f],u.ctx[f]=g)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](g),c&&Hl(i,f)),d}):[],u.update(),c=!0,_e(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const f=Ol(e.target);u.fragment&&u.fragment.l(f),f.forEach(w)}else u.fragment&&u.fragment.c();e.intro&&v(i.$$.fragment),V(i,e.target,e.anchor),il()}wt(a)}class re{constructor(){z(this,"$$");z(this,"$$set")}$destroy(){B(this,1),this.$destroy=ne}$on(e,t){if(!Xe(t))return ne;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const l=n.indexOf(t);l!==-1&&n.splice(l,1)}}$set(e){this.$$set&&!kl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Yl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Yl);function zl(i){const e=i-1;return e*e*e+1}function qe(i,{delay:e=0,duration:t=400,easing:n=Yt}={}){const l=+getComputedStyle(i).opacity;return{delay:e,duration:t,easing:n,css:r=>`opacity: ${r*l}`}}function dt(i,{delay:e=0,duration:t=400,easing:n=zl,axis:l="y"}={}){const r=getComputedStyle(i),s=+r.opacity,o=l==="y"?"height":"width",a=parseFloat(r[o]),u=l==="y"?["top","bottom"]:["left","right"],c=u.map(M=>`${M[0].toUpperCase()}${M.slice(1)}`),f=parseFloat(r[`padding${c[0]}`]),d=parseFloat(r[`padding${c[1]}`]),h=parseFloat(r[`margin${c[0]}`]),g=parseFloat(r[`margin${c[1]}`]),m=parseFloat(r[`border${c[0]}Width`]),b=parseFloat(r[`border${c[1]}Width`]);return{delay:e,duration:t,easing:n,css:M=>`overflow: hidden;opacity: ${Math.min(M*20,1)*s};${o}: ${M*a}px;padding-${u[0]}: ${M*f}px;padding-${u[1]}: ${M*d}px;margin-${u[0]}: ${M*h}px;margin-${u[1]}: ${M*g}px;border-${u[0]}-width: ${M*m}px;border-${u[1]}-width: ${M*b}px;`}}function vn(i){let e,t,n,l,r,s,o,a,u;return{c(){e=O("div"),t=O("div"),r=H(),s=O("div"),p(t,"class","v-track svelte-iodyq2"),P(t,"height",i[6]+"px"),p(s,"class","v-thumb svelte-iodyq2"),P(s,"height",i[12]+"px"),P(s,"top",i[11]+"px"),p(e,"class","v-scrollbar svelte-iodyq2"),P(e,"height",i[6]+"px"),P(e,"margin",i[8]+"px "+i[14]+"px "+i[7]+"px "+i[13]+"px"),Ne(e,"fixed",i[9])},m(c,f){k(c,e,f),D(e,t),i[24](t),D(e,r),D(e,s),i[25](s),u=!0},p(c,f){(!u||f[0]&64)&&P(t,"height",c[6]+"px"),(!u||f[0]&4096)&&P(s,"height",c[12]+"px"),(!u||f[0]&2048)&&P(s,"top",c[11]+"px"),(!u||f[0]&64)&&P(e,"height",c[6]+"px"),(!u||f[0]&24960)&&P(e,"margin",c[8]+"px "+c[14]+"px "+c[7]+"px "+c[13]+"px"),(!u||f[0]&512)&&Ne(e,"fixed",c[9])},i(c){u||(c&&ge(()=>{u&&(l&&l.end(1),n=Lt(t,i[0],{}),n.start())}),c&&ge(()=>{u&&(a&&a.end(1),o=Lt(s,i[2],{}),o.start())}),u=!0)},o(c){n&&n.invalidate(),c&&(l=Pt(t,i[1],{})),o&&o.invalidate(),c&&(a=Pt(s,i[3],{})),u=!1},d(c){c&&w(e),i[24](null),c&&l&&l.end(),i[25](null),c&&a&&a.end()}}}function Fl(i){let e,t=i[10]&&vn(i);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,l){n[10]?t?(t.p(n,l),l[0]&1024&&v(t,1)):(t=vn(n),t.c(),v(t,1),t.m(e.parentNode,e)):t&&($(),S(t,1,1,()=>{t=null}),x())},i(n){v(t)},o(n){S(t)},d(n){n&&w(e),t&&t.d(n)}}}function Jl(i,e,t){let n,l,r,s,o,a,u,c,f,d,h,g,m,b,M,{viewport:y}=e,{contents:N}=e,{hideAfter:T=1e3}=e,{alwaysVisible:_=!1}=e,{initiallyVisible:J=!1}=e,{margin:Y={}}=e,{vTrackIn:q=F=>qe(F,{duration:100})}=e,{vTrackOut:C=F=>qe(F,{duration:300})}=e,{vThumbIn:I=F=>qe(F,{duration:100})}=e,{vThumbOut:U=F=>qe(F,{duration:300})}=e;const L=El();let W,G,oe=0,E=0,R=0,ee=!1,X=!1;function be(F){if(!F)return;if(n==null||n(),typeof window.ResizeObserver>"u")throw new Error("window.ResizeObserver is missing.");t(9,ee=document.scrollingElement===F);const Ze=ee?document:F;Ze.addEventListener("scroll",Ke,{passive:!0});const it=new ResizeObserver(pn=>{for(const _o of pn)t(21,f=(F==null?void 0:F.scrollHeight)??0),t(6,h=(F==null?void 0:F.clientHeight)-(o+a))});return it.observe(F),()=>{Ze.removeEventListener("scroll",Ke),it.unobserve(N),it.disconnect()}}function he(F){if(F)return r==null||r(),W.addEventListener("mouseenter",fe),W.addEventListener("mouseleave",we),()=>{W.removeEventListener("mouseenter",fe),W.removeEventListener("mouseleave",we)}}function me(F){if(F)return s==null||s(),G.addEventListener("mousedown",Ee,{passive:!0}),G.addEventListener("touchstart",Ee,{passive:!0}),()=>{G.removeEventListener("mousedown",Ee),G.removeEventListener("touchstart",Ee)}}function ae(F){if(!F)return;if(l==null||l(),typeof window.ResizeObserver>"u")throw new Error("window.ResizeObserver is missing.");const Ze=new ResizeObserver(it=>{for(const pn of it)t(21,f=(y==null?void 0:y.scrollHeight)??0)});return Ze.observe(F),()=>{Ze.unobserve(F),Ze.disconnect()}}function ye(){R=window.setTimeout(()=>{t(10,M=b&&(_||J&&!X)||!1),L("hide")},T)}function Oe(){R&&(window.clearTimeout(R),R=0)}function Ke(){b&&(Oe(),ye(),t(10,M=_||J&&!X||!0),t(22,d=(y==null?void 0:y.scrollTop)??0),X=!0,L("show"))}function fe(){Oe()}function we(){Oe(),ye()}function Ee(F){F.stopPropagation(),F.preventDefault(),oe=y.scrollTop,E=F.changedTouches?F.changedTouches[0].clientY:F.clientY,document.addEventListener("mousemove",Fe),document.addEventListener("touchmove",Fe),document.addEventListener("mouseup",Je),document.addEventListener("touchend",Je)}function Fe(F){F.stopPropagation(),F.preventDefault();const Ze=F.changedTouches?F.changedTouches[0].clientY:F.clientY,it=f/h;t(15,y.scrollTop=oe+it*(Ze-E),y)}function Je(F){F.stopPropagation(),F.preventDefault(),oe=0,E=0,document.removeEventListener("mousemove",Fe),document.removeEventListener("touchmove",Fe),document.removeEventListener("mouseup",Je),document.removeEventListener("touchend",Je)}Tl(()=>{t(15,y=y??document.scrollingElement),t(16,N=N??document.body)}),Il(()=>{n==null||n(),l==null||l(),r==null||r(),s==null||s()});function nt(F){ue[F?"unshift":"push"](()=>{W=F,t(4,W)})}function Rt(F){ue[F?"unshift":"push"](()=>{G=F,t(5,G)})}return i.$$set=F=>{"viewport"in F&&t(15,y=F.viewport),"contents"in F&&t(16,N=F.contents),"hideAfter"in F&&t(17,T=F.hideAfter),"alwaysVisible"in F&&t(18,_=F.alwaysVisible),"initiallyVisible"in F&&t(19,J=F.initiallyVisible),"margin"in F&&t(20,Y=F.margin),"vTrackIn"in F&&t(0,q=F.vTrackIn),"vTrackOut"in F&&t(1,C=F.vTrackOut),"vThumbIn"in F&&t(2,I=F.vThumbIn),"vThumbOut"in F&&t(3,U=F.vThumbOut)},i.$$.update=()=>{i.$$.dirty[0]&32768&&(n=be(y)),i.$$.dirty[0]&65536&&(l=ae(N)),i.$$.dirty[0]&16&&(r=he(W)),i.$$.dirty[0]&32&&(s=me(G)),i.$$.dirty[0]&1048576&&t(8,o=Y.top??0),i.$$.dirty[0]&1048576&&t(7,a=Y.bottom??0),i.$$.dirty[0]&1048576&&t(14,u=Y.right??0),i.$$.dirty[0]&1048576&&t(13,c=Y.left??0),i.$$.dirty[0]&32768&&t(21,f=(y==null?void 0:y.scrollHeight)??0),i.$$.dirty[0]&32768&&t(22,d=(y==null?void 0:y.scrollTop)??0),i.$$.dirty[0]&33152&&t(6,h=(y==null?void 0:y.clientHeight)??0-(o+a)),i.$$.dirty[0]&2097216&&t(12,g=f>0?h/f*h:0),i.$$.dirty[0]&6291520&&t(11,m=f>0?d/f*h:0),i.$$.dirty[0]&2097216&&t(23,b=f>h),i.$$.dirty[0]&9175040&&t(10,M=b&&(_||J))},[q,C,I,U,W,G,h,a,o,ee,M,m,g,c,u,y,N,T,_,J,Y,f,d,b,nt,Rt]}class Rl extends re{constructor(e){super(),le(this,e,Jl,Fl,ie,{viewport:15,contents:16,hideAfter:17,alwaysVisible:18,initiallyVisible:19,margin:20,vTrackIn:0,vTrackOut:1,vThumbIn:2,vThumbOut:3},null,[-1,-1])}}function Vl(i){let e,t,n,l,r,s;const o=i[13].default,a=Ue(o,i,i[12],null);return r=new Rl({props:{viewport:i[10],contents:i[11],hideAfter:i[2],alwaysVisible:i[3],initiallyVisible:i[4],margin:i[5],vTrackIn:i[6],vTrackOut:i[7],vThumbIn:i[8],vThumbOut:i[9]}}),r.$on("show",i[16]),r.$on("hide",i[17]),{c(){e=O("div"),t=O("div"),n=O("div"),a&&a.c(),l=H(),j(r.$$.fragment),p(n,"class","svlr-contents"),p(t,"class","svlr-viewport svelte-2auii3"),P(t,"width",i[0]),P(t,"height",i[1]),p(e,"class","svlr-wrapper svelte-2auii3"),P(e,"width",i[0]),P(e,"height",i[1])},m(u,c){k(u,e,c),D(e,t),D(t,n),a&&a.m(n,null),i[14](n),i[15](t),D(e,l),V(r,e,null),s=!0},p(u,[c]){a&&a.p&&(!s||c&4096)&&Ye(a,o,u,u[12],s?He(o,u[12],c,null):ze(u[12]),null),(!s||c&1)&&P(t,"width",u[0]),(!s||c&2)&&P(t,"height",u[1]);const f={};c&1024&&(f.viewport=u[10]),c&2048&&(f.contents=u[11]),c&4&&(f.hideAfter=u[2]),c&8&&(f.alwaysVisible=u[3]),c&16&&(f.initiallyVisible=u[4]),c&32&&(f.margin=u[5]),c&64&&(f.vTrackIn=u[6]),c&128&&(f.vTrackOut=u[7]),c&256&&(f.vThumbIn=u[8]),c&512&&(f.vThumbOut=u[9]),r.$set(f),(!s||c&1)&&P(e,"width",u[0]),(!s||c&2)&&P(e,"height",u[1])},i(u){s||(v(a,u),v(r.$$.fragment,u),s=!0)},o(u){S(a,u),S(r.$$.fragment,u),s=!1},d(u){u&&w(e),a&&a.d(u),i[14](null),i[15](null),B(r)}}}function Bl(i,e,t){let{$$slots:n={},$$scope:l}=e,{width:r="10rem"}=e,{height:s="10rem"}=e,{hideAfter:o=1e3}=e,{alwaysVisible:a=!1}=e,{initiallyVisible:u=!1}=e,{margin:c={}}=e,{vTrackIn:f=_=>qe(_,{duration:100})}=e,{vTrackOut:d=_=>qe(_,{duration:300})}=e,{vThumbIn:h=_=>qe(_,{duration:100})}=e,{vThumbOut:g=_=>qe(_,{duration:300})}=e,m,b;function M(_){ue[_?"unshift":"push"](()=>{b=_,t(11,b)})}function y(_){ue[_?"unshift":"push"](()=>{m=_,t(10,m)})}function N(_){bn.call(this,i,_)}function T(_){bn.call(this,i,_)}return i.$$set=_=>{"width"in _&&t(0,r=_.width),"height"in _&&t(1,s=_.height),"hideAfter"in _&&t(2,o=_.hideAfter),"alwaysVisible"in _&&t(3,a=_.alwaysVisible),"initiallyVisible"in _&&t(4,u=_.initiallyVisible),"margin"in _&&t(5,c=_.margin),"vTrackIn"in _&&t(6,f=_.vTrackIn),"vTrackOut"in _&&t(7,d=_.vTrackOut),"vThumbIn"in _&&t(8,h=_.vThumbIn),"vThumbOut"in _&&t(9,g=_.vThumbOut),"$$scope"in _&&t(12,l=_.$$scope)},[r,s,o,a,u,c,f,d,h,g,m,b,l,n,M,y,N,T]}class ll extends re{constructor(e){super(),le(this,e,Bl,Vl,ie,{width:0,height:1,hideAfter:2,alwaysVisible:3,initiallyVisible:4,margin:5,vTrackIn:6,vTrackOut:7,vThumbIn:8,vThumbOut:9})}}const ot=[];function Wl(i,e){return{subscribe:yt(i,e).subscribe}}function yt(i,e=ne){let t;const n=new Set;function l(o){if(ie(i,o)&&(i=o,t)){const a=!ot.length;for(const u of n)u[1](),ot.push(u,i);if(a){for(let u=0;u<ot.length;u+=2)ot[u][0](ot[u+1]);ot.length=0}}}function r(o){l(o(i))}function s(o,a=ne){const u=[o,a];return n.add(u),n.size===1&&(t=e(l,r)||ne),o(i),()=>{n.delete(u),n.size===0&&t&&(t(),t=null)}}return{set:l,update:r,subscribe:s}}class Ve{constructor(){z(this,"idCounter",0);z(this,"children",new Map)}toJSON(){return this.topologicalSort(),{idCounter:this.idCounter,children:[...this.children.values()]}}static fromJSON(e,t,n,l){for(const r of e.children)n(r,t);return l}add(e){if(this.children.has(e.id))throw new Error(`New child ID (${e.id}) already exists in manager object.`);this.children.set(e.id,e)}generateId(){for(;this.children.has(String(this.idCounter));)this.idCounter++;return String(this.idCounter++)}findChildDependants(){const e=new Map;for(const t of this.children.values()){const n=new Set(t.getChildIds());e.has(t.id)||e.set(t.id,{dependencies:n.size,dependants:new Set}),e.get(t.id).dependencies=n.size;for(const l of n)e.has(l)||e.set(l,{dependencies:-1,dependants:new Set}),e.get(l).dependants.add(t.id)}return e}topologicalSort(){const e=this.findChildDependants(),t=[],n=e.size;for(let l=0;l<n;l++)for(const[r,s]of e)if(s.dependencies===0){t.push(r);for(const o of s.dependants)e.get(o).dependencies--;e.delete(r);break}if(t.length!=n)throw new Error("No topological sort found for Manager children (circular dependency).");this.children=new Map(t.map(l=>[l,this.children.get(l)]))}}class tn{constructor(e,t,n="",l,r=Math.floor(Math.random()*360),s=!0){z(this,"id");z(this,"manager");z(this,"name");z(this,"description");z(this,"hue");this.manager=e,this.name=t,this.description=n,this.hue=r,l===void 0?this.id=this.manager.generateId():this.id=l,s&&this.add()}manageableJSON(){return{id:this.id,manager:null,name:this.name,description:this.description,hue:this.hue}}getDependants(){let e=[...this.manager.findChildDependants().get(this.id).dependants].map(t=>this.manager.children.get(t));for(const t of[...e])e=e.concat(t.getDependants());return e}}class xe extends tn{constructor(t,n,l,r,s,o,a){super(t,n,l,a);z(this,"defaultValue");z(this,"displayAliases");z(this,"renderAliases");this.defaultValue=r,this.displayAliases=s,this.renderAliases=o}toJSON(){return this.parameterJson()}parameterJson(){var t,n;return{...this.manageableJSON(),type:"Parameter",displayAliases:this.displayAliases===void 0?void 0:[...(t=this.displayAliases)==null?void 0:t.entries()],renderAliases:this.renderAliases===void 0?void 0:[...(n=this.renderAliases)==null?void 0:n.entries()],valueType:typeof this.defaultValue,defaultValue:this.defaultValue}}static fromJSON(t,n){const l=[n.parameterManager,t.name,t.description,t.defaultValue],r=[t.displayAliases===void 0?void 0:new Map(t.displayAliases),t.renderAliases===void 0?void 0:new Map(t.renderAliases),t.id];if(t.type==="Parameter"){if(t.valueType==="number")return new xe(...l,...r);if(t.valueType==="string")return new xe(...l,...r);if(t.valueType==="boolean")return new xe(...l,...r);throw Error("Unexpected value for 'valueType' when deserializing Parameter.")}else if(t.type==="NumberParameter"){const s=t;return new Ge(...l,s.min,s.max,s.step,s.unit,...r)}else if(t.type==="StringParameter"){const s=t;return new kt(...l,s.minLength,s.maxLength,...r)}else if(t.type==="NestedParameter"){const s=t,o=Object.entries(s.nested),a=u=>new Map(o.map(([c,f])=>[u(c),f.map(d=>n.parameterManager.children.get(d))]));if(s.valueType==="number")return new Ie(...l,a(Number),...r);if(t.valueType==="string")return new Ie(...l,a(String),...r);if(t.valueType==="boolean")return new Ie(...l,a(u=>u==="true"),...r);throw Error("Unexpected value for 'valueType' when deserializing NestedParameter.")}else throw Error("Unexpected value for 'type' when deserializing Parameter.")}add(){this.manager.add(this)}validate(t){return{error:0}}checkDefault(){if(this.validate(this.defaultValue).error!=0)throw new Error(`Default value of ${this.defaultValue} is not valid for parameter with ID ${this.id}.`)}newState(t){return new zt(this,t)}getChildIds(){return[]}getDisplayValue(t){var n;return((n=this.displayAliases)==null?void 0:n.get(t))??t}getRenderValue(t){var n;return((n=this.renderAliases)==null?void 0:n.get(t))??t}}class zt{constructor(e,t){z(this,"parameter");z(this,"value");this.parameter=e,this.value=t??this.parameter.defaultValue}toJSON(){return{parameter:this.parameter.id,value:this.value}}static fromJSON(e,t){const n=t.parameterManager.children.get(e.parameter);return new zt(n,e.value)}}var rl=(i=>(i[i.None=0]="None",i[i.UnderMin=1]="UnderMin",i[i.OverMax=2]="OverMax",i[i.WrongStep=3]="WrongStep",i[i.UnderMinLength=4]="UnderMinLength",i[i.OverMaxLength=5]="OverMaxLength",i[i.BadEnumOption=6]="BadEnumOption",i[i.BadNestedOption=7]="BadNestedOption",i[i.EmptyValue=8]="EmptyValue",i))(rl||{});class Ge extends xe{constructor(t,n,l,r,s,o,a,u,c,f,d){super(t,n,l,r,c,f,d);z(this,"min");z(this,"max");z(this,"step");z(this,"unit");this.min=s,this.max=o,this.step=a,this.unit=u,this.checkDefault()}toJSON(){return{...this.parameterJson(),type:"NumberParameter",min:this.min,max:this.max,step:this.step,unit:this.unit}}validate(t){if(this.min!==void 0&&t<this.min)return{error:1,fixed:this.min};if(this.max!==void 0&&t>this.max)return{error:2,fixed:this.max};if(this.step!==void 0&&Math.abs(Math.round(t/this.step)-t/this.step)>1e-10){let l=Math.round(t/this.step)*this.step;if(l=this.validate(l).fixed??l,l!==t)return{error:3,fixed:l}}return{error:0}}}class kt extends xe{constructor(t,n,l,r,s,o,a,u,c){super(t,n,l,r,a,u,c);z(this,"minLength");z(this,"maxLength");this.minLength=s,this.maxLength=o,this.checkDefault()}toJSON(){return{...this.parameterJson(),type:"StringParameter",minLength:this.minLength,maxLength:this.maxLength}}validate(t){return this.minLength!==void 0&&t.length<this.minLength?{error:4}:this.maxLength!==void 0&&t.length>this.maxLength?{error:5,fixed:t.slice(0,this.maxLength)}:{error:0}}}class Ie extends xe{constructor(t,n,l,r,s,o,a,u){super(t,n,l,r,o,a,u);z(this,"nested");z(this,"descendants");if(s.size===0)throw new Error(`NestedParameter with ID ${this.id} has empty nested parameter map.`);this.nested=s,this.descendants=this.getDescendants([]),this.checkDefault()}toJSON(){const t=new Map;for(const[n,l]of this.nested.entries())t.set(String(n),l.map(r=>r.id));return{...this.parameterJson(),type:"NestedParameter",nested:t}}getDescendants(t){if(t.includes(this))throw new Error(`NestedParameter with ID ${this.id} contains itself.`);const n=new Set;for(const l of this.nested.values())for(const r of l)if(n.add(r),r instanceof Ie)for(const s of r.getDescendants([...t,this]))n.add(s);return n}validate(t){return this.nested.has(t)?{error:0}:{error:7}}getChildIds(){let t=[];for(const n of this.nested.values())t=[...t,...n.map(l=>l.id)];return t}}class _t extends Ie{constructor(e,t,n,l,r,s,o,a){super(e,t,n,l,new Map(r.map(u=>[u,[]])),s,o,a)}}function sl(i){return JSON.parse(Kt(i))}function Kt(i){return JSON.stringify(i,(e,t)=>t instanceof Map?Object.fromEntries(t):t)}const wn=6;function kn(i){return Math.round((i+Number.EPSILON)*10**wn)/10**wn}class Ft{constructor(){z(this,"baseLayer",0);z(this,"maxLayer",0);z(this,"children",[])}add(e,t=0){for(const n of e.children){const l={start:n.start+Math.round(t*1e3),end:n.end+Math.round(t*1e3),layer:n.layer+this.baseLayer,data:n.data};this.maxLayer=Math.max(this.maxLayer,l.layer),this.children.push(l)}this.children.sort((n,l)=>n.start-l.start)}addChild(e,t,n,l){this.children.push({start:Math.round(e*1e3),end:Math.round(t*1e3),layer:n,data:l})}export(e){return JSON.stringify({numActions:this.children.length,maxLayer:this.maxLayer,isAbsolute:e,actions:this.children})}}class De extends tn{constructor(t,n,l,r,s=[],o,a,u){super(t,n,l,a,u);z(this,"parameters");z(this,"descendants");z(this,"durationProps");z(this,"displayParams");this.parameters=s,this.descendants=this.getDescendants();for(const c of r.durationParams)if(!this.descendants.has(c.param))throw new Error(`Parameter with ID ${c.param.id} cannot be used as durationParam for Action with ID ${this.id} because it is not a descendant parameter.`);this.durationProps=r;for(const[c,f,d]of o)if(!this.descendants.has(c))throw new Error(`Parameter with ID ${c.id} cannot be used as displayParam for Action with ID ${this.id} because it is not a descendant parameter.`);this.displayParams=o}toJSON(){return{...this.manageableJSON(),parameters:this.parameters.map(t=>t.id),durationProps:{defaultDuration:this.durationProps.defaultDuration,durationParams:this.durationProps.durationParams.map(t=>({param:t.param.id,paramOffset:t.paramOffset,paramMultiplier:t.paramMultiplier}))},displayParams:this.displayParams.map(([t,n,l])=>[t.id,n,l])}}static fromJSON(t,n){return new De(n.actionManager,t.name,t.description,{defaultDuration:t.durationProps.defaultDuration,durationParams:t.durationProps.durationParams.map(l=>({param:n.parameterManager.children.get(l.param),paramOffset:l.paramOffset,paramMultiplier:l.paramMultiplier}))},t.parameters.map(l=>n.parameterManager.children.get(l),t.id,t.hue),t.displayParams.map(([l,r,s])=>[n.parameterManager.children.get(l),r,s]),t.id,t.hue)}add(){this.manager.add(this)}getDescendants(){const t=new Set;for(const n of this.parameters)if(t.add(n),n instanceof Ie)for(const l of n.descendants)t.add(l);return t}newState(){const n=Array.from(this.descendants).map(l=>l.newState());return new tt(this,n)}getChildIds(){return[]}}class tt{constructor(e,t){z(this,"action");z(this,"parameterStates");this.action=e,this.parameterStates=new Map;for(const n of t)this.parameterStates.set(n.parameter.id,n)}toJSON(){return{action:this.action.id,parameterStates:[...this.parameterStates.values()]}}static fromJSON(e,t){return new tt(t.actionManager.children.get(e.action),e.parameterStates.map(n=>zt.fromJSON(n,t)))}getDuration(){var t;const e=this.action.durationProps;for(const n of this.action.durationProps.durationParams){const l=(t=this.parameterStates.get(n.param.id))==null?void 0:t.value;if(l===void 0)return e.defaultDuration;const r=(n.paramOffset??0)+l*(n.paramMultiplier??1);if(r>0)return r}return e.defaultDuration}getManageableChild(){return this.action}getActiveParameters(){var n;const e=new Set,t=[...this.action.parameters];for(;t.length>0;){const l=t.shift();if(l!==void 0&&(e.add(l),l instanceof Ie))for(const r of l.nested.get((n=this.parameterStates.get(l.id))==null?void 0:n.value)??[])t.push(r)}return e}render(){const e=this.getDuration(),t=new Ft;return t.addChild(0,e,t.baseLayer,{action:this.action.id,states:Object.fromEntries([...this.parameterStates.entries()].map(([n,l])=>[n,l.parameter.getRenderValue(l.value)]))}),t}}class jl{constructor(e,t){z(this,"child");z(this,"props");this.child=e,this.props=t}toJSON(){return this.repeatJSON()}repeatJSON(){let e;if(this.child instanceof tt)e={type:"Action",json:this.child};else if(this.child instanceof Le)e={type:"Sequence",id:this.child.id};else throw new Error("Cannot serialize unknown Repeatable subclass.");return{child:e,props:this.props}}validate(){const e=this.child.getDuration(this.props.keepLeading);return e===void 0?{error:10}:this.props.validate(e)}getDuration(){const e=this.child.getDuration(this.props.keepLeading);if(e===void 0)return[10];const{error:t,solved:n}=this.props.validate(e);return[t,n==null?void 0:n.duration]}}var We=(i=>(i[i.None=0]="None",i[i.WrongNumConstraints=1]="WrongNumConstraints",i[i.InvalidConstraints=2]="InvalidConstraints",i[i.EmptyConstraints=3]="EmptyConstraints",i[i.EndBeforeStart=4]="EndBeforeStart",i[i.NegativeDuration=5]="NegativeDuration",i[i.TooFewRepetitions=6]="TooFewRepetitions",i[i.FractionalRepetitions=7]="FractionalRepetitions",i[i.IntervalTooShort=8]="IntervalTooShort",i[i.DurationTooShort=9]="DurationTooShort",i[i.ChildDurationInfinite=10]="ChildDurationInfinite",i))(We||{});const ut=[{start:["end","duration","repetitions"]},{end:["repetitions","interval"],duration:["repetitions","interval"],repetitions:["interval"],interval:[]}];class Ot{constructor(e,t,n=!1,l=!1,r=!1,s="seconds",o="seconds"){z(this,"constraints");z(this,"selectedConstraints");z(this,"includeChildDuration");z(this,"trailingInterval");z(this,"keepLeading");z(this,"unit");z(this,"durationUnit");this.constraints=e,this.selectedConstraints=t,this.includeChildDuration=n,this.trailingInterval=l,this.keepLeading=r,this.unit=s,this.durationUnit=o}toJSON(){return{constraints:{start:this.constraints.start,end:this.constraints.end,duration:this.constraints.duration,repetitions:this.constraints.repetitions,interval:this.constraints.interval},selectedConstraints:this.selectedConstraints,includeChildDuration:this.includeChildDuration,trailingInterval:this.trailingInterval,keepLeading:this.keepLeading,unit:this.unit,durationUnit:this.durationUnit}}static fromJSON(e,t){return new Ot({start:e.constraints.start,end:e.constraints.end,duration:e.constraints.duration,repetitions:e.constraints.repetitions,interval:e.constraints.interval},e.selectedConstraints,e.includeChildDuration,e.trailingInterval,e.keepLeading,e.unit,e.durationUnit)}validateConstraints(){if(this.selectedConstraints.length!==ut.length+1)return 1;for(let e=0;e<ut.length;e++){const t=this.selectedConstraints[e];if(t===void 0||!(t in ut[e]))return 2;const n=ut[e][t];if(n===void 0)return 2;const l=this.selectedConstraints[e+1];if(l===void 0){if(n.length===0)break;return 2}if(!n.includes(l))return 2}return 0}isSelected(e){return this.selectedConstraints.includes(e)}validate(e){const t=this.validateConstraints();if(t!==0)return{error:t};for(let a=0;a<this.selectedConstraints.length;a++){const u=this.selectedConstraints[a];if(u!==void 0&&this.constraints[u]===void 0)return{error:3}}if(this.isSelected("start")&&this.isSelected("end")&&this.constraints.end<this.constraints.start)return{error:4};if(this.isSelected("duration")&&this.constraints.duration<0)return{error:5};if(this.isSelected("repetitions")){if(this.constraints.repetitions<1)return{error:6};if(this.constraints.repetitions%1!==0)return{error:7}}let n;if(this.isSelected("duration"))n=this.constraints.duration;else if(this.isSelected("start")&&this.isSelected("end"))n=this.constraints.end-this.constraints.start;else if(this.isSelected("interval")){let a=this.constraints.interval;if(this.includeChildDuration||(a+=e),a<e)return{error:8};this.isSelected("repetitions")?(n=a*this.constraints.repetitions,this.trailingInterval||(n-=a-e)):n=null}else return{error:2};let l;this.isSelected("start")?l=this.constraints.start:n===null?l=null:l=this.constraints.end-n;let r;this.isSelected("end")?r=this.constraints.end:n===null?r=null:r=this.constraints.start+n;let s;if(this.isSelected("interval")){if(s=this.constraints.interval,this.includeChildDuration||(s+=e),s<e)return{error:8}}else if(n!==null){const a=n-e*this.constraints.repetitions;if(a<0)return{error:9};let u=this.constraints.repetitions;this.trailingInterval||(u-=1);const c=a/u;s=e+c}else return{error:2};let o;if(this.isSelected("repetitions"))o=this.constraints.repetitions;else if(n!==null){let a=n;if(this.trailingInterval||(a+=s-e),o=Math.floor(a/s),o<1)return{error:9}}else return{error:2};return this.includeChildDuration||(s-=e),{error:0,solved:{start:l??void 0,end:r??void 0,duration:n??void 0,repetitions:o,interval:s}}}toUnitString(e,t){if(e===void 0)return"";if(t==="repetitions")return e.toString();const n=s=>`${s<10?"0":""}${s}`,l=s=>kn(s).toString(),r=this.constraintUnit(t);if(r==="seconds"||r==="unix time")return l(e);if(r==="minutes")return l(e/60);if(r==="hours")return l(e/3600);if(r==="HH:MM:SS"){const s=n(Math.floor(e/3600)),o=n(Math.floor(e%3600/60)),a=n(kn(e)%60);return`${s}:${o}:${a}`}else if(r==="YYYY-MM-DD HH:MM:SS"){const s=new Date(e*1e3);return[s.getFullYear(),n(s.getMonth()+1),n(s.getDate())].join("-")+" "+[n(s.getHours()),n(s.getMinutes()),n(s.getSeconds())].join(":")}return l(e)}fromUnitString(e,t){if(t==="repetitions")return Number.isNaN(Number(e))?void 0:Number(e);const n=this.constraintUnit(t);let l;if(["seconds","unix time","minutes","hours"].includes(n)){const r=Number(e);n==="seconds"||n==="unix time"?l=r:n==="minutes"?l=r*60:n==="hours"&&(l=r*3600)}else if(n==="HH:MM:SS"){let r=e.split(":"),s=0,o=1;for(;r.length>0;){let a=Number(r.pop());s+=a*o,o*=60}l=s}else n==="YYYY-MM-DD HH:MM:SS"&&(l=Date.parse(e)/1e3);return l===void 0||Number.isNaN(l)?void 0:l}constraintUnit(e){return e==="start"||e==="end"?this.unit:this.durationUnit}isUnitNumeric(e){if(e==="repetitions")return!0;const t=this.constraintUnit(e);return["seconds","minutes","hours","unix time"].includes(t)}}class Le extends tn{constructor(t,n,l,r=[],s=!1,o=0,a=10,u=75,c=150,f,d){super(t,n,l,f,d);z(this,"layers");z(this,"isAbsolute");z(this,"offset");z(this,"scale");z(this,"scroll");z(this,"layerHeight");this.layers=r,this.isAbsolute=s,this.offset=o,this.scale=a,this.scroll=u,this.layerHeight=c}toJSON(){return{...this.manageableJSON(),layers:this.layers,isAbsolute:this.isAbsolute,offset:this.offset,scale:this.scale,scroll:this.scroll,layerHeight:this.layerHeight}}static fromJSON(t,n){return new Le(n.sequenceManager,t.name,t.description,t.layers.map(l=>Jt.fromJSON(l,n)),t.isAbsolute,t.offset,t.scale,t.scroll,t.layerHeight,t.id,t.hue)}add(){this.manager.add(this)}validate(){let t,n;for(const l of this.layers){const{error:r,childError:s,start:o,end:a}=l.validate();if(r!=0)return{error:1,childError:r};(t===void 0||o!==void 0&&t!==void 0&&o<t)&&(t=o),(n===void 0||a!==void 0&&n!==void 0&&a>n)&&(n=a)}return{error:0,start:t,end:n}}getDuration(t){const n=this.validate();let l;return n.start===void 0||n.end===void 0?l=void 0:l=t?n.end:n.end-n.start,l}getChildIds(){let t=[];for(const n of this.layers)for(const l of n.children)l.child instanceof Le&&t.push(l.child.id);return t}getManageableChild(){return this}render(){const t=new Ft;for(const n of this.layers)t.add(n.render()),t.baseLayer=t.maxLayer+1;return t}}var Ce=(i=>(i.Coincide="Coincide",i.Override="Override",i))(Ce||{}),ol=(i=>(i[i.None=0]="None",i[i.Empty=1]="Empty",i[i.ChildError=2]="ChildError",i[i.ChildOverlap=3]="ChildOverlap",i))(ol||{});class ht extends jl{constructor(t,n,l,r){super(t,n);z(this,"layerMode");z(this,"customName");this.layerMode=l,this.customName=r}toJSON(){return{...this.repeatJSON(),layerMode:Ce[this.layerMode],customName:this.customName}}static fromJSON(t,n){let l;if(t.child.type==="Action")l=tt.fromJSON(t.child.json,n);else if(t.child.type==="Sequence")l=n.sequenceManager.children.get(t.child.id);else throw new Error("Unexpected value for 'child.type' when deserializing Component.");return new ht(l,Ot.fromJSON(t.props,n),Ce[t.layerMode],t.customName)}render(){const t=new Ft,n=this.validate(),l=this.child.getDuration(this.props.keepLeading);if(n.error!==We.None||n.solved===void 0||l===void 0)return t;this.layerMode==="Override"&&(t.addChild(n.solved.start,n.solved.end,t.baseLayer,null),t.baseLayer++);let r=n.solved.interval;this.props.includeChildDuration||(r+=l);const s=this.child.render();let o=0;this.child instanceof Le&&!this.props.keepLeading&&(o=this.child.validate().start??0);for(let a=n.solved.start;a<n.solved.end;a+=r)t.add(s,a-o);return t}}class Jt{constructor(e=[]){z(this,"children");this.children=new Set(e)}toJSON(){return{children:[...this.children]}}static fromJSON(e,t){return new Jt(e.children.map(n=>ht.fromJSON(n,t)))}validate(e){if(this.children.size===0||this.children.size===1&&this.children.values().next().value===e)return{error:1};const t=[];for(const l of this.children){if(l===e)continue;const{error:r,solved:s}=l.validate();if(r!==We.None||s===void 0)return{error:2,childError:r};t.push([s.start,s.end])}t.sort((l,r)=>l[0]===void 0?-1:r[0]===void 0?1:l[0]-r[0]);let n;for(const[l,[r,s]]of t.entries()){if(l!=0&&(r===void 0||n===void 0||r<n))return{error:3};n=s}return{error:0,start:t[0][0],end:n,childBounds:t}}getDuration(){const e=this.validate();let t;return e.start===void 0||e.end===void 0?t=void 0:t=e.end,[e.error,t]}render(){const e=new Ft;for(const t of this.children)e.add(t.render());return e}}class nn{constructor(e,t="",n=new Ve,l=new Ve){z(this,"name");z(this,"description");z(this,"parameterManager");z(this,"actionManager");this.name=e,this.description=t,this.parameterManager=n,this.actionManager=l}toJSON(){return{name:this.name,description:this.description,parameterManager:this.parameterManager,actionManager:this.actionManager,schemaVersion:0}}static fromJSON(e,t){return new nn(e.name,e.description,Ve.fromJSON(e.parameterManager,t,xe.fromJSON,t.parameterManager),Ve.fromJSON(e.actionManager,t,De.fromJSON,t.actionManager))}}function al(i=new Ve,e=new Ve){const t=new nn("ESP32","",i,e),n=new kt(t.parameterManager,"IP address","Camera IP address","192.168.4.7",7,15,void 0,void 0,"ip"),l=new _t(t.parameterManager,"Protocol","Method used to connect to camera","CCAPI",["CCAPI","PTP/IP"],void 0,void 0,"method");new De(t.actionManager,"Connect camera","Connect to a Canon camera over WiFi",{defaultDuration:5,durationParams:[]},[n,l],[[n,""],[l,""]],"connect",130);const r=new Ge(t.parameterManager,"Bulb exposure","",30,1,void 0,void 0,"seconds",void 0,void 0,"bulb"),s=["1/4000","1/3200","1/2500","1/2000","1/1600","1/1250","1/1000","1/800","1/640","1/500","1/400","1/320","1/250","1/200","1/160","1/125","1/100","1/80","1/60","1/50","1/40","1/30","1/25","1/20","1/15","1/13","1/10","1/8","1/6","1/5","1/4",'0"3','0"4','0"5','0"6','0"8','1"','1"3','1"6','2"','2"5','3"2','4"','5"','6"','8"','10"','13"','15"','20"','25"','30"',"bulb"];function o(q){if(q==="bulb")return-1;let C=parseInt(q),I=q.indexOf('"');return I===-1?(I=q.indexOf("/"),I!==-1&&(C/=parseInt(q.slice(I+1)))):I<q.length-1&&(C+=parseInt(q.slice(I+1))/10),C}const a=new Map(s.map(q=>[o(q),[]]));a.set(-1,[r]);const u=new Ie(t.parameterManager,"Shutter speed","",.008,a,new Map(s.map(q=>[o(q),q])),new Map(s.map(q=>[o(q),q])),"tv"),c=new _t(t.parameterManager,"ISO","","400",["auto","100","125","160","200","250","320","400","500","640","800","1000","1250","1600","2000","2500","3200","4000","5000","6400","8000","10000","12800","16000","20000","25600"],void 0,void 0,"iso"),f=new _t(t.parameterManager,"Aperture","","f8.0",["f3.5","f4.0","f4.5","f5.0","f5.6","f6.3","f7.1","f8.0","f9.0","f10","f11","f13","f14","f16","f18","f20","f22"],void 0,void 0,"av"),d=["-3.0","-2_2/3","-2_1/3","-2.0","-1_2/3","-1_1/3","-1.0","-0_2/3","-0_1/3","+0.0","+0_1/3","+0_2/3","+1.0","+1_1/3","+1_2/3","+2.0","+2_1/3","+2_2/3","+3.0"],h=new _t(t.parameterManager,"Exposure compensation","","+0.0",d,new Map(d.map(q=>[q,q.replace("_"," ").replace(".0","").replace("0 ","")])),void 0,"ev"),g=new Ie(t.parameterManager,"Shooting mode","","Aperture priority (Av)",new Map(Object.entries({"Manual (M)":[c,f,u],"Aperture priority (Av)":[c,f,h],"Shutter priority (Tv)":[c,u,h],"Program (P)":[c,h],Auto:[]})),void 0,new Map([["Manual (M)","m"],["Aperture priority (Av)","av"],["Shutter priority (Tv)","tv"],["Program (P)","p"],["Auto","auto"]]),"mode");new De(t.actionManager,"Photo","Trigger shutter with given settings",{defaultDuration:1,durationParams:[{param:u,paramOffset:1.5},{param:r,paramOffset:3}]},[n,g],[[n,""],[c],[f,"Av"],[u,"Tv"],[h,"EV"]],"photo",220),new De(t.actionManager,"Exposure settings","Change exposure settings without taking a photo.",{defaultDuration:.5,durationParams:[]},[n,g],[[n,""],[c],[f,"Av"],[u,"Tv"],[h,"EV"]],"exposure",220);const m=new Ge(t.parameterManager,"Duration","",10,0,void 0,void 0,"seconds",void 0,void 0,"duration");new De(t.actionManager,"Video","Record video for the given duration.",{defaultDuration:0,durationParams:[{param:m}]},[n,m],[[n,""],[m,""]],"video",263);const b=new _t(t.parameterManager,"Action","","on",["on","off"],void 0,void 0,"action");new De(t.actionManager,"Display On/Off","",{defaultDuration:.5,durationParams:[]},[n,b],[[n,""],[b]],"displayOnOff",80);const M=new Ge(t.parameterManager,"GPIO pin","",13,1,40,1,void 0,void 0,void 0,"servoPin"),y=new Ge(t.parameterManager,"Angle","",0,0,180,1,"degrees",void 0,void 0,"servoAngle"),N=new Ge(t.parameterManager,"Speed","",60,5,450,1,"deg/sec",void 0,void 0,"servoSpeed");new De(t.actionManager,"Attach Servo","",{defaultDuration:3,durationParams:[]},[M,y],[[M,"Pin"],[y,"Angle","%d°"]],"servoAttach",15),new De(t.actionManager,"Move Servo","",{defaultDuration:3,durationParams:[]},[M,y,N],[[M,"Pin"],[y,void 0,"%d°"],[N,void 0,"%d°/s"]],"servoMove",30);const T=new kt(t.parameterManager,"CSV data file","","/bme280.csv",5,void 0,void 0,void 0,"bmeFile");new De(t.actionManager,"Record BME280 Data","",{defaultDuration:.5,durationParams:[]},[T],[[T,""]],"bmeRecord",300);const _=new kt(t.parameterManager,"CSV data file","","/gps.csv",5,void 0,void 0,void 0,"gpsFile");new De(t.actionManager,"Record GPS Data","",{defaultDuration:.5,durationParams:[]},[_],[[_,""]],"gpsRecord",190);const J=new Ge(t.parameterManager,"GPIO pin","",4,1,40,1,void 0,void 0,void 0,"shutterPin"),Y=new Ie(t.parameterManager,"Method","","cable",new Map([["cable",[J]],["WiFi",[n]]]),void 0,void 0,"shutterMethod");return new De(t.actionManager,"Shutter release","",{defaultDuration:1,durationParams:[{param:m}]},[Y,m],[[J,"Pin"],[n,""],[m,""]],"shutterRelease",160),t}const bt="persistence";class Xl{constructor(e){z(this,"dbName");z(this,"db");this.dbName=e;const t=indexedDB.open(this.dbName);this.db=new Promise((n,l)=>{t.onupgradeneeded=()=>{const r=t.result;r.createObjectStore(bt);const s=t.transaction;s?s.oncomplete=()=>{n(r)}:n(r)},t.onsuccess=()=>{n(t.result)}})}async initAutosave(e,t,n=r=>r,l=r=>r){const r=await this.get(t);r!==void 0&&e.set(l(r));let s=0;e.subscribe(o=>{s++;const a=s;setTimeout(()=>{s===a&&this.set(t,n(o))},1e3)})}async set(e,t){(await this.db).transaction(bt,"readwrite").objectStore(bt).put(t,e)}async get(e){const n=(await this.db).transaction(bt,"readonly").objectStore(bt).get(e);return new Promise((l,r)=>{n.onsuccess=()=>{l(n.result)}})}}class mt{constructor(e,t="",n,l=new Ve,r){z(this,"name");z(this,"description");z(this,"actionSet");z(this,"sequenceManager");z(this,"openedSequence");this.name=e,this.description=t,this.actionSet=n,this.sequenceManager=l,this.openedSequence=r}toJSON(){var e;return{name:this.name,description:this.description,actionSet:this.actionSet,sequenceManager:this.sequenceManager,openedSequence:(e=this.openedSequence)==null?void 0:e.id,schemaVersion:0}}static fromJSON(e){const t={actionManager:new Ve,parameterManager:new Ve,sequenceManager:new Ve};return new mt(e.name,e.description,al(t.parameterManager,t.actionManager),Ve.fromJSON(e.sequenceManager,t,Le.fromJSON,t.sequenceManager),t.sequenceManager.children.get(e.openedSequence))}}const ce=yt(new mt("New project","",al())),vt=yt(),ln=new Xl("sequent");ln.initAutosave(ce,"project",i=>sl(i),i=>mt.fromJSON(i));ln.initAutosave(vt,"fileHandle");Wl(ln);const Pe=yt(0),pt=yt(new Map);function Kl(i,e={enabled:!0}){let{enabled:t,eventType:n,nodeForEvent:l,options:r,capture:s}=Sn(e);function o(a){a.target&&i&&!i.contains(a.target)&&!a.defaultPrevented&&i.dispatchEvent(new CustomEvent("clickoutside",{detail:a}))}return e.enabled!==!1&&l.addEventListener(n,o,r),{update(a){l.removeEventListener(n,o,s),{enabled:t,eventType:n,nodeForEvent:l,options:r,capture:s}=Sn(a),t&&l.addEventListener(n,o,r)},destroy(){l.removeEventListener(n,o,s)}}}function Sn(i={}){var e,t;return{enabled:i.enabled??!0,nodeForEvent:((e=i.limit)==null?void 0:e.parent)??document,eventType:i.event??"click",options:i.options,capture:typeof i.options=="object"?(t=i.options)==null?void 0:t.capture:i.options}}const Gl=i=>({}),Mn=i=>({toggleDropdown:i[4]}),Ql=i=>({}),yn=i=>({toggleDropdown:i[4]});function On(i){let e,t,n,l;const r=i[7].buttons,s=Ue(r,i,i[6],Mn);return{c(){e=O("div"),t=O("div"),s&&s.c(),p(t,"class","options-menu svelte-azbhie"),P(t,"width",i[2]?"100%":void 0),P(t,"background-color",i[3]?"var(--gray-85)":"var(--gray-90)"),p(e,"class","menu-container svelte-azbhie"),P(e,"top",i[1]==="top"?"0.5rem":"100%"),P(e,"width",i[2]?"100%":void 0)},m(o,a){k(o,e,a),D(e,t),s&&s.m(t,null),l=!0},p(o,a){s&&s.p&&(!l||a&64)&&Ye(s,r,o,o[6],l?He(r,o[6],a,Gl):ze(o[6]),Mn),a&4&&P(t,"width",o[2]?"100%":void 0),a&8&&P(t,"background-color",o[3]?"var(--gray-85)":"var(--gray-90)"),a&2&&P(e,"top",o[1]==="top"?"0.5rem":"100%"),a&4&&P(e,"width",o[2]?"100%":void 0)},i(o){l||(v(s,o),o&&ge(()=>{l&&(n||(n=et(e,qe,{duration:100},!0)),n.run(1))}),l=!0)},o(o){S(s,o),o&&(n||(n=et(e,qe,{duration:100},!1)),n.run(0)),l=!1},d(o){o&&w(e),s&&s.d(o),o&&n&&n.end()}}}function Zl(i){let e,t,n,l,r,s;const o=i[7].button,a=Ue(o,i,i[6],yn);let u=i[0]&&On(i);const c=i[7].default,f=Ue(c,i,i[6],null);return{c(){e=O("div"),a&&a.c(),t=H(),u&&u.c(),n=H(),f&&f.c(),p(e,"class","options-container svelte-azbhie"),P(e,"flex",i[2]?"1":void 0)},m(d,h){k(d,e,h),a&&a.m(e,null),D(e,t),u&&u.m(e,null),D(e,n),f&&f.m(e,null),l=!0,r||(s=[Qi(Kl.call(null,e)),K(e,"clickoutside",i[8])],r=!0)},p(d,[h]){a&&a.p&&(!l||h&64)&&Ye(a,o,d,d[6],l?He(o,d[6],h,Ql):ze(d[6]),yn),d[0]?u?(u.p(d,h),h&1&&v(u,1)):(u=On(d),u.c(),v(u,1),u.m(e,n)):u&&($(),S(u,1,1,()=>{u=null}),x()),f&&f.p&&(!l||h&64)&&Ye(f,c,d,d[6],l?He(c,d[6],h,null):ze(d[6]),null),h&4&&P(e,"flex",d[2]?"1":void 0)},i(d){l||(v(a,d),v(u),v(f,d),l=!0)},o(d){S(a,d),S(u),S(f,d),l=!1},d(d){d&&w(e),a&&a.d(d),u&&u.d(),f&&f.d(d),r=!1,_e(s)}}}function $l(i,e,t){let{$$slots:n={},$$scope:l}=e,{closeCondition:r=!1}=e,{align:s="bottom"}=e,{showOptions:o=!1}=e,{fullWidth:a=!1}=e,{lighter:u=!1}=e;const c=()=>t(0,o=!o),f=()=>t(0,o=!1);return i.$$set=d=>{"closeCondition"in d&&t(5,r=d.closeCondition),"align"in d&&t(1,s=d.align),"showOptions"in d&&t(0,o=d.showOptions),"fullWidth"in d&&t(2,a=d.fullWidth),"lighter"in d&&t(3,u=d.lighter),"$$scope"in d&&t(6,l=d.$$scope)},i.$$.update=()=>{i.$$.dirty&33&&t(0,o=!r&&o)},[o,s,a,u,c,r,l,n,f]}class rn extends re{constructor(e){super(),le(this,e,$l,Zl,ie,{closeCondition:5,align:1,showOptions:0,fullWidth:2,lighter:3})}}function xl(i){let e,t,n,l,r;const s=i[2].default,o=Ue(s,i,i[1],null);return{c(){e=O("div"),o&&o.c(),e.hidden=!0},m(a,u){k(a,e,u),o&&o.m(e,null),n=!0,l||(r=Qi(t=er.call(null,e,i[0])),l=!0)},p(a,[u]){o&&o.p&&(!n||u&2)&&Ye(o,s,a,a[1],n?He(s,a[1],u,null):ze(a[1]),null),t&&Xe(t.update)&&u&1&&t.update.call(null,a[0])},i(a){n||(v(o,a),n=!0)},o(a){S(o,a),n=!1},d(a){a&&w(e),o&&o.d(a),l=!1,r()}}}function er(i,e="body"){let t;async function n(r){if(e=r,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await Al(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.appendChild(i),i.hidden=!1}function l(){i.parentNode&&i.parentNode.removeChild(i)}return n(e),{update:n,destroy:l}}function tr(i,e,t){let{$$slots:n={},$$scope:l}=e,{target:r="body"}=e;return i.$$set=s=>{"target"in s&&t(0,r=s.target),"$$scope"in s&&t(1,l=s.$$scope)},[r,l,n]}class sn extends re{constructor(e){super(),le(this,e,tr,xl,ie,{target:0})}}const nr=i=>({}),Dn=i=>({close:i[4],submit:i[5]});function Nn(i){let e,t;return e=new sn({props:{target:"body",$$slots:{default:[lr]},$$scope:{ctx:i}}}),{c(){j(e.$$.fragment)},m(n,l){V(e,n,l),t=!0},p(n,l){const r={};l&526&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(v(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function qn(i){let e,t;const n=i[8].actions,l=Ue(n,i,i[9],Dn),r=l||ir(i);return{c(){e=O("div"),r&&r.c(),p(e,"class","actions svelte-13dsmma")},m(s,o){k(s,e,o),r&&r.m(e,null),t=!0},p(s,o){l?l.p&&(!t||o&512)&&Ye(l,n,s,s[9],t?He(n,s[9],o,nr):ze(s[9]),Dn):r&&r.p&&(!t||o&4)&&r.p(s,t?o:-1)},i(s){t||(v(r,s),t=!0)},o(s){S(r,s),t=!1},d(s){s&&w(e),r&&r.d(s)}}}function ir(i){let e,t,n,l,r,s,o;return{c(){e=O("button"),e.textContent="Cancel",t=H(),n=O("button"),l=te("OK"),p(e,"class","inverse"),n.disabled=r=!i[2],p(n,"class","inverse")},m(a,u){k(a,e,u),k(a,t,u),k(a,n,u),D(n,l),s||(o=[K(e,"click",i[4]),K(n,"click",i[5])],s=!0)},p(a,u){u&4&&r!==(r=!a[2])&&(n.disabled=r)},d(a){a&&(w(e),w(t),w(n)),s=!1,_e(o)}}}function lr(i){let e,t,n,l,r,s,o,a,u,c,f,d,h,g,m,b;const M=i[8].default,y=Ue(M,i,i[9],null);let N=i[3]&&qn(i);return{c(){e=O("div"),l=H(),r=O("div"),s=O("div"),o=O("h2"),a=te(i[1]),u=H(),c=O("div"),y&&y.c(),f=H(),N&&N.c(),p(e,"class","backdrop svelte-13dsmma"),p(o,"class","svelte-13dsmma"),p(c,"class","contents svelte-13dsmma"),p(s,"class","modal svelte-13dsmma"),p(r,"role","dialog"),p(r,"class","container svelte-13dsmma")},m(T,_){k(T,e,_),k(T,l,_),k(T,r,_),D(r,s),D(s,o),D(o,a),D(s,u),D(s,c),y&&y.m(c,null),D(s,f),N&&N.m(s,null),g=!0,m||(b=K(e,"click",i[4]),m=!0)},p(T,_){(!g||_&2)&&Ae(a,T[1]),y&&y.p&&(!g||_&512)&&Ye(y,M,T,T[9],g?He(M,T[9],_,null):ze(T[9]),null),T[3]?N?(N.p(T,_),_&8&&v(N,1)):(N=qn(T),N.c(),v(N,1),N.m(s,null)):N&&($(),S(N,1,1,()=>{N=null}),x())},i(T){g||(T&&ge(()=>{g&&(n&&n.end(1),t=Lt(e,qe,{duration:200}),t.start())}),v(y,T),v(N),T&&ge(()=>{g&&(h&&h.end(1),d=Lt(r,qe,{duration:200}),d.start())}),g=!0)},o(T){t&&t.invalidate(),T&&(n=Pt(e,qe,{duration:100})),S(y,T),S(N),d&&d.invalidate(),T&&(h=Pt(r,qe,{duration:100})),g=!1},d(T){T&&(w(e),w(l),w(r)),T&&n&&n.end(),y&&y.d(T),N&&N.d(),T&&h&&h.end(),m=!1,b()}}}function rr(i){let e,t,n=i[0]&&Nn(i);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),k(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&v(n,1)):(n=Nn(l),n.c(),v(n,1),n.m(e.parentNode,e)):n&&($(),S(n,1,1,()=>{n=null}),x())},i(l){t||(v(n),t=!0)},o(l){S(n),t=!1},d(l){l&&w(e),n&&n.d(l)}}}function sr(i,e,t){let{$$slots:n={},$$scope:l}=e,{isOpen:r}=e,{title:s}=e,{onClose:o=()=>{}}=e,{onSubmit:a=()=>{}}=e,{canSubmit:u=!0}=e,{showActions:c=!0}=e;function f(){t(0,r=!1),o()}function d(){t(0,r=!1),a()}return i.$$set=h=>{"isOpen"in h&&t(0,r=h.isOpen),"title"in h&&t(1,s=h.title),"onClose"in h&&t(6,o=h.onClose),"onSubmit"in h&&t(7,a=h.onSubmit),"canSubmit"in h&&t(2,u=h.canSubmit),"showActions"in h&&t(3,c=h.showActions),"$$scope"in h&&t(9,l=h.$$scope)},[r,s,u,c,f,d,o,a,n,l]}class on extends re{constructor(e){super(),le(this,e,sr,rr,ie,{isOpen:0,title:1,onClose:6,onSubmit:7,canSubmit:2,showActions:3})}}function Cn(i){let e,t;return e=new sn({props:{target:"body",$$slots:{default:[or]},$$scope:{ctx:i}}}),{c(){j(e.$$.fragment)},m(n,l){V(e,n,l),t=!0},p(n,l){const r={};l&2056&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(v(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function or(i){let e,t,n;return{c(){e=O("div"),p(e,"class","dragArea svelte-1ydirag")},m(l,r){k(l,e,r),t||(n=[K(e,"mousemove",i[6]),K(e,"mouseup",i[10])],t=!0)},p:ne,d(l){l&&w(e),t=!1,_e(n)}}}function ar(i){let e,t,n,l,r,s,o,a,u,c,f=i[3]&&Cn(i);return{c(){e=O("div"),t=O("button"),n=O("div"),s=H(),f&&f.c(),o=Z(),p(n,"class","thumb svelte-1ydirag"),ge(()=>i[7].call(n)),P(n,"background-color",`hsl(${i[0]}deg var(--component-saturation) var(--component-lightness))`),P(n,"transform",`translateX(calc((${i[1]}px - 100%) * (${i[0]} / 360)))`),p(t,"class","track svelte-1ydirag"),ge(()=>i[9].call(t)),p(e,"class","container svelte-1ydirag")},m(d,h){k(d,e,h),D(e,t),D(t,n),l=Ct(n,i[7].bind(n)),i[8](t),r=Ct(t,i[9].bind(t)),k(d,s,h),f&&f.m(d,h),k(d,o,h),a=!0,u||(c=K(t,"mousedown",i[5]),u=!0)},p(d,[h]){h&1&&P(n,"background-color",`hsl(${d[0]}deg var(--component-saturation) var(--component-lightness))`),h&3&&P(n,"transform",`translateX(calc((${d[1]}px - 100%) * (${d[0]} / 360)))`),d[3]?f?(f.p(d,h),h&8&&v(f,1)):(f=Cn(d),f.c(),v(f,1),f.m(o.parentNode,o)):f&&($(),S(f,1,1,()=>{f=null}),x())},i(d){a||(v(f),a=!0)},o(d){S(f),a=!1},d(d){d&&(w(e),w(s),w(o)),l(),i[8](null),r(),f&&f.d(d),u=!1,c()}}}function ur(i,e,t){let{hue:n}=e,l=0,r=0,s=!1,o;function a(g){t(3,s=!0),u(g)}function u(g){if(!s)return;const m=o.getBoundingClientRect().left;t(0,n=Math.floor(Math.max(0,Math.min(360,(g.clientX-m-r/2)/(l-r)*360))))}function c(){r=this.clientWidth,t(2,r)}function f(g){ue[g?"unshift":"push"](()=>{o=g,t(4,o)})}function d(){l=this.clientWidth,t(1,l)}const h=()=>t(3,s=!1);return i.$$set=g=>{"hue"in g&&t(0,n=g.hue)},[n,l,r,s,o,a,u,c,f,d,h]}class fr extends re{constructor(e){super(),le(this,e,ur,ar,ie,{hue:0})}}function Tn(i){let e,t,n;return{c(){e=O("p"),e.textContent="Sequence name is required.",p(e,"class","error svelte-132hhpd")},m(l,r){k(l,e,r),n=!0},i(l){n||(l&&ge(()=>{n&&(t||(t=et(e,dt,{duration:200},!0)),t.run(1))}),n=!0)},o(l){l&&(t||(t=et(e,dt,{duration:200},!1)),t.run(0)),n=!1},d(l){l&&w(e),l&&t&&t.end()}}}function In(i){let e,t,n,l,r;return{c(){e=O("label"),t=O("input"),n=te(`\r
      Use absolute time?`),p(t,"type","checkbox"),p(e,"class","horizontal")},m(s,o){k(s,e,o),D(e,t),t.checked=i[1].isAbsolute,D(e,n),l||(r=K(t,"change",i[13]),l=!0)},p(s,o){o&2&&(t.checked=s[1].isAbsolute)},d(s){s&&w(e),l=!1,r()}}}function cr(i){let e,t,n,l,r,s,o,a,u,c,f,d,h,g,m,b,M,y,N,T=i[7]&&Tn(),_=i[5]&&In(i);function J(q){i[14](q)}let Y={};return i[1].hue!==void 0&&(Y.hue=i[1].hue),m=new fr({props:Y}),ue.push(()=>Me(m,"hue",J)),{c(){e=O("div"),t=O("label"),n=te(`Name:\r
      `),l=O("input"),r=H(),T&&T.c(),s=H(),o=O("label"),a=te(`Description:\r
    `),u=O("textarea"),c=H(),_&&_.c(),f=H(),d=O("div"),h=O("div"),h.textContent="Color:",g=H(),j(m.$$.fragment),p(l,"type","text"),p(l,"placeholder","Sequence name"),l.required=!0,p(l,"class","svelte-132hhpd"),Ne(l,"error",i[7]),p(u,"rows","6"),p(u,"placeholder","Sequence description"),p(d,"class","color-input svelte-132hhpd")},m(q,C){k(q,e,C),D(e,t),D(t,n),D(t,l),i[8](l),Dt(l,i[1].name),D(e,r),T&&T.m(e,null),k(q,s,C),k(q,o,C),D(o,a),D(o,u),Dt(u,i[1].description),k(q,c,C),_&&_.m(q,C),k(q,f,C),k(q,d,C),D(d,h),D(d,g),V(m,d,null),M=!0,y||(N=[K(l,"input",i[9]),K(l,"blur",i[10]),K(l,"input",i[11]),K(u,"input",i[12])],y=!0)},p(q,C){C&2&&l.value!==q[1].name&&Dt(l,q[1].name),(!M||C&128)&&Ne(l,"error",q[7]),q[7]?T?C&128&&v(T,1):(T=Tn(),T.c(),v(T,1),T.m(e,null)):T&&($(),S(T,1,1,()=>{T=null}),x()),C&2&&Dt(u,q[1].description),q[5]?_?_.p(q,C):(_=In(q),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null);const I={};!b&&C&2&&(b=!0,I.hue=q[1].hue,Se(()=>b=!1)),m.$set(I)},i(q){M||(v(T),v(m.$$.fragment,q),M=!0)},o(q){S(T),S(m.$$.fragment,q),M=!1},d(q){q&&(w(e),w(s),w(o),w(c),w(f),w(d)),i[8](null),T&&T.d(),_&&_.d(q),B(m),y=!1,_e(N)}}}function dr(i){let e,t,n;function l(s){i[15](s)}let r={title:i[2],onSubmit:i[3],onClose:i[4],canSubmit:i[1].name!=="",$$slots:{default:[cr]},$$scope:{ctx:i}};return i[0]!==void 0&&(r.isOpen=i[0]),e=new on({props:r}),ue.push(()=>Me(e,"isOpen",l)),{c(){j(e.$$.fragment)},m(s,o){V(e,s,o),n=!0},p(s,[o]){const a={};o&4&&(a.title=s[2]),o&8&&(a.onSubmit=s[3]),o&16&&(a.onClose=s[4]),o&2&&(a.canSubmit=s[1].name!==""),o&65762&&(a.$$scope={dirty:o,ctx:s}),!t&&o&1&&(t=!0,a.isOpen=s[0],Se(()=>t=!1)),e.$set(a)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){B(e,s)}}}function hr(i,e,t){let{isOpen:n}=e,{title:l}=e,{data:r}=e,{onSubmit:s=()=>{}}=e,{onClose:o=()=>{}}=e,{isNew:a=!1}=e,u=!1,c;function f(N){ue[N?"unshift":"push"](()=>{c=N,t(6,c)})}function d(){r.name=this.value,t(1,r)}const h=()=>{t(1,r.name=r.name.trim(),r),t(7,u=r.name==="")},g=()=>t(7,u=r.name===""&&u);function m(){r.description=this.value,t(1,r)}function b(){r.isAbsolute=this.checked,t(1,r)}function M(N){i.$$.not_equal(r.hue,N)&&(r.hue=N,t(1,r))}function y(N){n=N,t(0,n)}return i.$$set=N=>{"isOpen"in N&&t(0,n=N.isOpen),"title"in N&&t(2,l=N.title),"data"in N&&t(1,r=N.data),"onSubmit"in N&&t(3,s=N.onSubmit),"onClose"in N&&t(4,o=N.onClose),"isNew"in N&&t(5,a=N.isNew)},i.$$.update=()=>{i.$$.dirty&1&&t(7,u=!n),i.$$.dirty&65&&c&&n&&c.focus()},[n,r,l,s,o,a,c,u,f,d,h,g,m,b,M,y]}class ul extends re{constructor(e){super(),le(this,e,hr,dr,ie,{isOpen:0,title:2,data:1,onSubmit:3,onClose:4,isNew:5})}}function En(i){let e;return{c(){e=O("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>',p(e,"class","clock-icon-container svelte-177igwe")},m(t,n){k(t,e,n)},d(t){t&&w(e)}}}function mr(i){let e,t,n;return{c(){e=O("button"),e.innerHTML='<div class="options-icon-container svelte-177igwe"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg></div>',p(e,"slot","button"),p(e,"title","Sequence options"),p(e,"class","chip-button options svelte-177igwe")},m(l,r){k(l,e,r),t||(n=K(e,"click",function(){Xe(i[15])&&i[15].apply(this,arguments)}),t=!0)},p(l,r){i=l},d(l){l&&w(e),t=!1,n()}}}function pr(i){let e,t,n,l,r;return{c(){e=O("button"),e.textContent="Edit",t=H(),n=O("button"),n.textContent="Delete"},m(s,o){k(s,e,o),k(s,t,o),k(s,n,o),l||(r=[K(e,"click",i[7]),K(n,"click",i[9])],l=!0)},p:ne,d(s){s&&(w(e),w(t),w(n)),l=!1,_e(r)}}}function gr(i){let e,t,n=i[0].name+"",l,r;return{c(){e=O("p"),t=te('Delete the sequence named "'),l=te(n),r=te('"?')},m(s,o){k(s,e,o),D(e,t),D(e,l),D(e,r)},p(s,o){o&1&&n!==(n=s[0].name+"")&&Ae(l,n)},d(s){s&&w(e)}}}function _r(i){let e,t,n,l,r=i[0].name+"",s,o,a,u,c,f,d,h,g,m,b,M,y,N,T,_=i[0].isAbsolute&&En();u=new rn({props:{closeCondition:i[1]||i[2],align:"top",$$slots:{buttons:[pr],button:[mr,({toggleDropdown:U})=>({15:U}),({toggleDropdown:U})=>U?32768:0]},$$scope:{ctx:i}}});function J(U){i[10](U)}let Y={title:"Delete sequence",onSubmit:i[6],$$slots:{default:[gr]},$$scope:{ctx:i}};i[1]!==void 0&&(Y.isOpen=i[1]),f=new on({props:Y}),ue.push(()=>Me(f,"isOpen",J));function q(U){i[11](U)}function C(U){i[12](U)}let I={title:"Edit sequence",onSubmit:i[8]};return i[2]!==void 0&&(I.isOpen=i[2]),i[3]!==void 0&&(I.data=i[3]),g=new ul({props:I}),ue.push(()=>Me(g,"isOpen",q)),ue.push(()=>Me(g,"data",C)),{c(){e=O("div"),t=O("button"),_&&_.c(),n=H(),l=O("div"),s=te(r),a=H(),j(u.$$.fragment),c=H(),j(f.$$.fragment),h=H(),j(g.$$.fragment),p(t,"title",o="Open "+i[0].name+" sequence"),p(t,"class","chip-button open svelte-177igwe"),p(e,"class","outer svelte-177igwe"),Ne(e,"opened",i[4].openedSequence===i[0])},m(U,L){k(U,e,L),D(e,t),_&&_.m(t,null),D(t,n),D(t,l),D(l,s),D(e,a),V(u,e,null),D(e,c),V(f,e,null),D(e,h),V(g,e,null),y=!0,N||(T=K(t,"click",i[5]),N=!0)},p(U,[L]){U[0].isAbsolute?_||(_=En(),_.c(),_.m(t,n)):_&&(_.d(1),_=null),(!y||L&1)&&r!==(r=U[0].name+"")&&Ae(s,r),(!y||L&1&&o!==(o="Open "+U[0].name+" sequence"))&&p(t,"title",o);const W={};L&6&&(W.closeCondition=U[1]||U[2]),L&98306&&(W.$$scope={dirty:L,ctx:U}),u.$set(W);const G={};L&65537&&(G.$$scope={dirty:L,ctx:U}),!d&&L&2&&(d=!0,G.isOpen=U[1],Se(()=>d=!1)),f.$set(G);const oe={};!m&&L&4&&(m=!0,oe.isOpen=U[2],Se(()=>m=!1)),!b&&L&8&&(b=!0,oe.data=U[3],Se(()=>b=!1)),g.$set(oe),(!y||L&17)&&Ne(e,"opened",U[4].openedSequence===U[0])},i(U){y||(v(u.$$.fragment,U),v(f.$$.fragment,U),v(g.$$.fragment,U),U&&ge(()=>{y&&(M||(M=et(e,dt,{duration:200,axis:"x"},!0)),M.run(1))}),y=!0)},o(U){S(u.$$.fragment,U),S(f.$$.fragment,U),S(g.$$.fragment,U),U&&(M||(M=et(e,dt,{duration:200,axis:"x"},!1)),M.run(0)),y=!1},d(U){U&&w(e),_&&_.d(),B(u),B(f),B(g),U&&M&&M.end(),N=!1,T()}}}function br(i,e,t){let n,l;de(i,Pe,y=>t(13,n=y)),de(i,ce,y=>t(4,l=y));let{sequence:r}=e,s=!1,o=!1,a=f();function u(){ve(ce,l.openedSequence=r,l)}function c(){r.manager.children.delete(r.id),ce.set(l),l.openedSequence===r&&(l.sequenceManager.children.size>0?ve(ce,l.openedSequence=l.sequenceManager.children.values().next().value,l):ve(ce,l.openedSequence=void 0,l))}function f(){return{name:r.name??"",description:r.description??"",hue:r.hue}}function d(){t(3,a=f()),t(2,o=!0)}function h(){t(0,r.name=a.name,r),t(0,r.description=a.description,r),t(0,r.hue=a.hue,r),ce.set(l),ve(Pe,n++,n)}const g=()=>t(1,s=!0);function m(y){s=y,t(1,s)}function b(y){o=y,t(2,o)}function M(y){a=y,t(3,a)}return i.$$set=y=>{"sequence"in y&&t(0,r=y.sequence)},[r,s,o,a,l,u,c,d,h,g,m,b,M]}class vr extends re{constructor(e){super(),le(this,e,br,_r,ie,{sequence:0})}}function An(i,e,t){const n=i.slice();return n[8]=e[t],n}function Ln(i,e){let t,n,l;return n=new vr({props:{sequence:e[8]}}),{key:i,first:null,c(){t=Z(),j(n.$$.fragment),this.first=t},m(r,s){k(r,t,s),V(n,r,s),l=!0},p(r,s){e=r;const o={};s&4&&(o.sequence=e[8]),n.$set(o)},i(r){l||(v(n.$$.fragment,r),l=!0)},o(r){S(n.$$.fragment,r),l=!1},d(r){r&&w(t),B(n,r)}}}function wr(i){let e,t,n;return{c(){e=Te("svg"),t=Te("line"),n=Te("line"),p(t,"x1","12"),p(t,"y1","5"),p(t,"x2","12"),p(t,"y2","19"),p(n,"x1","5"),p(n,"y1","12"),p(n,"x2","19"),p(n,"y2","12"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","24"),p(e,"height","24"),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke","currentColor"),p(e,"stroke-width","2"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round")},m(l,r){k(l,e,r),D(e,t),D(e,n)},d(l){l&&w(e)}}}function kr(i){let e;return{c(){e=te("+ New sequence")},m(t,n){k(t,e,n)},d(t){t&&w(e)}}}function Sr(i){let e,t=[],n=new Map,l,r,s,o,a,u,c,f,d,h=Q(i[2].sequenceManager.children.values());const g=_=>_[8].id;for(let _=0;_<h.length;_+=1){let J=An(i,h,_),Y=g(J);n.set(Y,t[_]=Ln(Y,J))}function m(_,J){return _[2].sequenceManager.children.size===0?kr:wr}let b=m(i),M=b(i);function y(_){i[6](_)}function N(_){i[7](_)}let T={title:"New sequence",onSubmit:i[3],isNew:!0};return i[0]!==void 0&&(T.isOpen=i[0]),i[1]!==void 0&&(T.data=i[1]),o=new ul({props:T}),ue.push(()=>Me(o,"isOpen",y)),ue.push(()=>Me(o,"data",N)),{c(){e=O("div");for(let _=0;_<t.length;_+=1)t[_].c();l=H(),r=O("button"),M.c(),s=H(),j(o.$$.fragment),p(r,"title","Add new sequence"),p(r,"class","svelte-9nldt2"),P(r,"font-size",i[2].sequenceManager.children.size>0?"1.6rem":"1.3rem"),p(e,"class","container svelte-9nldt2")},m(_,J){k(_,e,J);for(let Y=0;Y<t.length;Y+=1)t[Y]&&t[Y].m(e,null);D(e,l),D(e,r),M.m(r,null),D(e,s),V(o,e,null),c=!0,f||(d=K(r,"click",i[4]),f=!0)},p(_,[J]){J&4&&(h=Q(_[2].sequenceManager.children.values()),$(),t=Qe(t,J,g,1,_,h,n,e,$e,Ln,l,An),x()),b!==(b=m(_))&&(M.d(1),M=b(_),M&&(M.c(),M.m(r,null))),J&4&&P(r,"font-size",_[2].sequenceManager.children.size>0?"1.6rem":"1.3rem");const Y={};!a&&J&1&&(a=!0,Y.isOpen=_[0],Se(()=>a=!1)),!u&&J&2&&(u=!0,Y.data=_[1],Se(()=>u=!1)),o.$set(Y)},i(_){if(!c){for(let J=0;J<h.length;J+=1)v(t[J]);v(o.$$.fragment,_),c=!0}},o(_){for(let J=0;J<t.length;J+=1)S(t[J]);S(o.$$.fragment,_),c=!1},d(_){_&&w(e);for(let J=0;J<t.length;J+=1)t[J].d();M.d(),B(o),f=!1,d()}}}function Pn(){return{name:"",description:"",isAbsolute:!1,hue:Math.floor(Math.random()*360)}}function Mr(i,e,t){let n;de(i,ce,f=>t(2,n=f));let{timelineWidth:l=0}=e,r=!1,s=Pn();function o(){const d=new Le(n.sequenceManager,s.name,s.description,[],s.isAbsolute,(s.isAbsolute?new Date().getTime()/1e3:0)-.5*l/10,10,void 0,void 0,void 0,s.hue);ce.set(n),ve(ce,n.openedSequence=d,n)}function a(){t(1,s=Pn()),t(0,r=!0)}function u(f){r=f,t(0,r)}function c(f){s=f,t(1,s)}return i.$$set=f=>{"timelineWidth"in f&&t(5,l=f.timelineWidth)},[r,s,n,o,a,l,u,c]}class yr extends re{constructor(e){super(),le(this,e,Mr,Sr,ie,{timelineWidth:5})}}function Or(i){let e,t;const n=i[6].default,l=Ue(n,i,i[5],null);return{c(){e=O("div"),l&&l.c(),p(e,"class","container svelte-nk9gmi"),P(e,"transform",`translateX(${i[1]}px)`),P(e,"width",`${i[0]}px`)},m(r,s){k(r,e,s),l&&l.m(e,null),t=!0},p(r,[s]){l&&l.p&&(!t||s&32)&&Ye(l,n,r,r[5],t?He(n,r[5],s,null):ze(r[5]),null),s&2&&P(e,"transform",`translateX(${r[1]}px)`),s&1&&P(e,"width",`${r[0]}px`)},i(r){t||(v(l,r),t=!0)},o(r){S(l,r),t=!1},d(r){r&&w(e),l&&l.d(r)}}}function Dr(i,e,t){let n,l,{$$slots:r={},$$scope:s}=e,{offset:o}=e,{duration:a}=e,{sequence:u}=e;return i.$$set=c=>{"offset"in c&&t(2,o=c.offset),"duration"in c&&t(3,a=c.duration),"sequence"in c&&t(4,u=c.sequence),"$$scope"in c&&t(5,s=c.$$scope)},i.$$.update=()=>{i.$$.dirty&20&&t(1,n=(o-u.offset)*u.scale),i.$$.dirty&24&&t(0,l=a*u.scale)},[l,n,o,a,u,s,r]}class an extends re{constructor(e){super(),le(this,e,Dr,Or,ie,{offset:2,duration:3,sequence:4})}}var fl={};(function(i){(function(){var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function t(o){return l(s(o),arguments)}function n(o,a){return t.apply(null,[o].concat(a||[]))}function l(o,a){var u=1,c=o.length,f,d="",h,g,m,b,M,y,N,T;for(h=0;h<c;h++)if(typeof o[h]=="string")d+=o[h];else if(typeof o[h]=="object"){if(m=o[h],m.keys)for(f=a[u],g=0;g<m.keys.length;g++){if(f==null)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[g],m.keys[g-1]));f=f[m.keys[g]]}else m.param_no?f=a[m.param_no]:f=a[u++];if(e.not_type.test(m.type)&&e.not_primitive.test(m.type)&&f instanceof Function&&(f=f()),e.numeric_arg.test(m.type)&&typeof f!="number"&&isNaN(f))throw new TypeError(t("[sprintf] expecting number but found %T",f));switch(e.number.test(m.type)&&(N=f>=0),m.type){case"b":f=parseInt(f,10).toString(2);break;case"c":f=String.fromCharCode(parseInt(f,10));break;case"d":case"i":f=parseInt(f,10);break;case"j":f=JSON.stringify(f,null,m.width?parseInt(m.width):0);break;case"e":f=m.precision?parseFloat(f).toExponential(m.precision):parseFloat(f).toExponential();break;case"f":f=m.precision?parseFloat(f).toFixed(m.precision):parseFloat(f);break;case"g":f=m.precision?String(Number(f.toPrecision(m.precision))):parseFloat(f);break;case"o":f=(parseInt(f,10)>>>0).toString(8);break;case"s":f=String(f),f=m.precision?f.substring(0,m.precision):f;break;case"t":f=String(!!f),f=m.precision?f.substring(0,m.precision):f;break;case"T":f=Object.prototype.toString.call(f).slice(8,-1).toLowerCase(),f=m.precision?f.substring(0,m.precision):f;break;case"u":f=parseInt(f,10)>>>0;break;case"v":f=f.valueOf(),f=m.precision?f.substring(0,m.precision):f;break;case"x":f=(parseInt(f,10)>>>0).toString(16);break;case"X":f=(parseInt(f,10)>>>0).toString(16).toUpperCase();break}e.json.test(m.type)?d+=f:(e.number.test(m.type)&&(!N||m.sign)?(T=N?"+":"-",f=f.toString().replace(e.sign,"")):T="",M=m.pad_char?m.pad_char==="0"?"0":m.pad_char.charAt(1):" ",y=m.width-(T+f).length,b=m.width&&y>0?M.repeat(y):"",d+=m.align?T+f+b:M==="0"?T+b+f:b+T+f)}return d}var r=Object.create(null);function s(o){if(r[o])return r[o];for(var a=o,u,c=[],f=0;a;){if((u=e.text.exec(a))!==null)c.push(u[0]);else if((u=e.modulo.exec(a))!==null)c.push("%");else if((u=e.placeholder.exec(a))!==null){if(u[2]){f|=1;var d=[],h=u[2],g=[];if((g=e.key.exec(h))!==null)for(d.push(g[1]);(h=h.substring(g[0].length))!=="";)if((g=e.key_access.exec(h))!==null)d.push(g[1]);else if((g=e.index_access.exec(h))!==null)d.push(g[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");u[2]=d}else f|=2;if(f===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");c.push({placeholder:u[0],param_no:u[1],keys:u[2],sign:u[3],pad_char:u[4],align:u[5],width:u[6],precision:u[7],type:u[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");a=a.substring(u[0].length)}return r[o]=c}i.sprintf=t,i.vsprintf=n,typeof window<"u"&&(window.sprintf=t,window.vsprintf=n)})()})(fl);function Un(i,e,t){const n=i.slice();return n[7]=e[t][0],n[8]=e[t][1],n[9]=e[t][2],n}function Hn(i){let e;return{c(){e=O("div"),p(e,"class","override-shadow svelte-jxap3j")},m(t,n){k(t,e,n)},d(t){t&&w(e)}}}function Nr(i){let e,t;return{c(){e=Te("svg"),t=Te("path"),p(t,"d","M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","1em"),p(e,"height","1em"),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke","currentColor"),p(e,"stroke-width","2"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round")},m(n,l){k(n,e,l),D(e,t)},d(n){n&&w(e)}}}function Yn(i){let e,t=Q(i[0].child.action.displayParams),n=[];for(let l=0;l<t.length;l+=1)n[l]=Jn(Un(i,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Z()},m(l,r){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,r);k(l,e,r)},p(l,r){if(r&65){t=Q(l[0].child.action.displayParams);let s;for(s=0;s<t.length;s+=1){const o=Un(l,t,s);n[s]?n[s].p(o,r):(n[s]=Jn(o),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){l&&w(e),je(n,l)}}}function zn(i){var a;let e,t,n,l=i[6](i[7],(a=i[0].child.parameterStates.get(i[7].id))==null?void 0:a.value,i[8],i[9])+"",r,s,o=i[8]!==""&&Fn(i);return{c(){e=O("p"),o&&o.c(),t=H(),n=O("span"),r=te(l),s=H(),p(n,"class","parameter-value svelte-jxap3j"),p(e,"class","parameter svelte-jxap3j")},m(u,c){k(u,e,c),o&&o.m(e,null),D(e,t),D(e,n),D(n,r),D(e,s)},p(u,c){var f;u[8]!==""?o?o.p(u,c):(o=Fn(u),o.c(),o.m(e,t)):o&&(o.d(1),o=null),c&1&&l!==(l=u[6](u[7],(f=u[0].child.parameterStates.get(u[7].id))==null?void 0:f.value,u[8],u[9])+"")&&Ae(r,l)},d(u){u&&w(e),o&&o.d()}}}function Fn(i){let e=(i[8]??i[7].name)+"",t,n;return{c(){t=te(e),n=te(":")},m(l,r){k(l,t,r),k(l,n,r)},p(l,r){r&1&&e!==(e=(l[8]??l[7].name)+"")&&Ae(t,e)},d(l){l&&(w(t),w(n))}}}function Jn(i){let e=i[0].child.getActiveParameters().has(i[7]),t,n=e&&zn(i);return{c(){n&&n.c(),t=Z()},m(l,r){n&&n.m(l,r),k(l,t,r)},p(l,r){r&1&&(e=l[0].child.getActiveParameters().has(l[7])),e?n?n.p(l,r):(n=zn(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(l){l&&w(t),n&&n.d(l)}}}function qr(i){let e,t,n,l,r,s,o=i[4].name+"",a,u,c,f,d,h=i[0].layerMode===Ce.Override&&!i[2]&&Hn(),g=i[5]&&Nr(),m=i[0].child instanceof tt&&Yn(i);return{c(){h&&h.c(),e=H(),t=O("div"),n=O("div"),l=H(),r=O("div"),s=O("div"),a=te(o),u=H(),g&&g.c(),c=H(),m&&m.c(),f=H(),d=O("div"),p(n,"class","spacer svelte-jxap3j"),p(s,"class","label svelte-jxap3j"),p(r,"class","column svelte-jxap3j"),p(d,"class","spacer svelte-jxap3j"),p(t,"class","container svelte-jxap3j"),Ne(t,"disabled",i[1]),Ne(t,"shadow",i[2]),Ne(t,"highlight",i[3]),P(t,"background-color",`hsl(${i[4].hue}deg var(--component-saturation) var(--component-lightness))`)},m(b,M){h&&h.m(b,M),k(b,e,M),k(b,t,M),D(t,n),D(t,l),D(t,r),D(r,s),D(s,a),D(s,u),g&&g.m(s,null),D(r,c),m&&m.m(r,null),D(t,f),D(t,d)},p(b,[M]){b[0].layerMode===Ce.Override&&!b[2]?h||(h=Hn(),h.c(),h.m(e.parentNode,e)):h&&(h.d(1),h=null),b[0].child instanceof tt?m?m.p(b,M):(m=Yn(b),m.c(),m.m(r,null)):m&&(m.d(1),m=null),M&2&&Ne(t,"disabled",b[1]),M&4&&Ne(t,"shadow",b[2]),M&8&&Ne(t,"highlight",b[3])},i:ne,o:ne,d(b){b&&(w(e),w(t)),h&&h.d(b),g&&g.d(),m&&m.d()}}}function Cr(i,e,t){var c;let{component:n}=e,{disabled:l=!1}=e,{shadow:r=!1}=e,{highlight:s=!1}=e,o=n.child.getManageableChild(),a=(((c=n.validate().solved)==null?void 0:c.repetitions)??0)>1;function u(f,d,h,g){const m=f.getDisplayValue(d);if(g===void 0){let b=String(m);return f instanceof Ge&&f.unit!==void 0&&(b+=" "+f.unit),b}else return fl.sprintf(g,m)}return i.$$set=f=>{"component"in f&&t(0,n=f.component),"disabled"in f&&t(1,l=f.disabled),"shadow"in f&&t(2,r=f.shadow),"highlight"in f&&t(3,s=f.highlight)},[n,l,r,s,o,a,u]}class un extends re{constructor(e){super(),le(this,e,Cr,qr,ie,{component:0,disabled:1,shadow:2,highlight:3})}}const cl=360,A={DAY:86400,HOUR:3600,MINUTE:60,SECOND:1,YEAR:365*86400,MONTH:30*86400,WEEK:7*86400,DAY_MWF:7/3*86400};class Re{constructor(e,t,n,l,r){z(this,"titleInterval");z(this,"labelInterval");z(this,"tileInterval");z(this,"getTitle");z(this,"getLabel");this.titleInterval=e,this.labelInterval=t,this.tileInterval=n,this.getTitle=l,this.getLabel=r}intervalDuration(e){return e[0]*e[1]}getIntervals(e,t,n,l,r=!1){if(n===void 0)return[];const s=this.intervalDuration(n),o=[],a=Math.floor(e/s),u=Math.ceil(t/s);for(let c=a;c<u;c++){const f=c*s;(f>=e&&f<t||r&&c==a)&&o.push([f,l(f),s])}return o}getTitleIntervals(e,t){return this.getIntervals(e,t,this.titleInterval,this.getTitle,!0)}getLabelIntervals(e,t){return this.getIntervals(e,t,this.labelInterval,this.getLabel,!1)}getTileIntervals(e,t){return this.getIntervals(e,t,this.tileInterval,n=>n/this.intervalDuration(this.tileInterval),!0)}}class dl{constructor(e){z(this,"timescales");this.timescales=e}bestTimescale(e,t){let n,l;for(const r of this.timescales){const s=Math.abs(r.intervalDuration(r.labelInterval)*t-e);(n===void 0||s<n)&&(n=s,l=r)}if(l===void 0)throw new Error("No best timescale found. Make sure timescales array is not empty.");return l}shiftIndex(e,t){const n=this.timescales.indexOf(e)+t;return n<=0?this.timescales[0]:n>=this.timescales.length-1?this.timescales[this.timescales.length-1]:this.timescales[n]}}const pe=(i,e=!1)=>t=>{const n=[[86400,"d"],[3600,"h"],[60,"m"],[1,"s"]],l=[];let r=!1;for(let s=0;s<i;s++){const[o,a]=n[s],u=Math.floor(t/o);r=r||u>0,l.push(r||s==i-1?`${u}${a}`:""),t%=o}return e?l[i-1]:l.join("")},hl=new dl([new Re(void 0,[A.DAY,1],[A.DAY,2],i=>"",pe(1,!0)),new Re([A.DAY,1],[A.HOUR,6],[A.DAY,1],pe(1),pe(2,!0)),new Re([A.DAY,1],[A.HOUR,2],[A.HOUR,6],pe(1),pe(2,!0)),new Re([A.DAY,1],[A.HOUR,1],[A.HOUR,2],pe(1),pe(2,!0)),new Re([A.HOUR,1],[A.MINUTE,15],[A.HOUR,1],pe(2),pe(3,!0)),new Re([A.HOUR,1],[A.MINUTE,5],[A.MINUTE,15],pe(2),pe(3,!0)),new Re([A.HOUR,1],[A.MINUTE,1],[A.MINUTE,5],pe(2),pe(3,!0)),new Re([A.MINUTE,1],[A.SECOND,15],[A.MINUTE,1],pe(3),pe(4,!0)),new Re([A.MINUTE,1],[A.SECOND,5],[A.SECOND,15],pe(3),pe(4,!0)),new Re([A.MINUTE,1],[A.SECOND,1],[A.SECOND,5],pe(3),pe(4,!0))]);class ke extends Re{constructor(){super(...arguments);z(this,"dateIntervalStartFunctions",new Map([[A.YEAR,(t,n)=>new Date(t.getFullYear()-t.getFullYear()%n,0)],[A.MONTH,(t,n)=>new Date(t.getFullYear(),t.getMonth()-t.getMonth()%n)],[A.WEEK,(t,n)=>new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()+(t.getDay()===0?-6:1))],[A.DAY_MWF,(t,n)=>{for(t.setHours(0,0,0,0);![1,3,5].includes(t.getDay());)t.setDate(t.getDate()-1);return t}],[A.DAY,(t,n)=>(t.setHours(0,0,0,0),t)],[A.HOUR,(t,n)=>(t.setHours(t.getHours()-t.getHours()%n,0,0,0),t)],[A.MINUTE,(t,n)=>(t.setMinutes(t.getMinutes()-t.getMinutes()%n,0,0),t)],[A.SECOND,(t,n)=>(t.setSeconds(t.getSeconds()-t.getSeconds()%n,0),t)]]));z(this,"dateIncrementFunctions",new Map([[A.YEAR,(t,n)=>(t.setFullYear(t.getFullYear()+n),t)],[A.MONTH,(t,n)=>(t.setMonth(t.getMonth()+n),t)],[A.WEEK,(t,n)=>(t.setDate(t.getDate()+7*n),t)],[A.DAY_MWF,(t,n)=>{for(t.setDate(t.getDate()+1);![1,3,5].includes(t.getDay());)t.setDate(t.getDate()+1);return t}],[A.DAY,(t,n)=>(t.setDate(t.getDate()+n),t)],[A.HOUR,(t,n)=>(t.setHours(t.getHours()+n),t)],[A.MINUTE,(t,n)=>(t.setMinutes(t.getMinutes()+n),t)],[A.SECOND,(t,n)=>(t.setSeconds(t.getSeconds()+n),t)]]))}getIntervals(t,n,l,r,s=!1){if(l===void 0)return[];const o=[],a=this.dateIntervalStartFunctions.get(l[0]),u=this.dateIncrementFunctions.get(l[0]);if(a===void 0||u===void 0)throw new Error(`Unknown absolute timestamp interval: ${l[0]} seconds`);const c=a(new Date(t*1e3),l[1]),f=c.getTime()/1e3;let d=new Date(c.getTime()),h=d.getTime()/1e3;for(;h<n;)(h>=t&&h<n||s&&h==f)&&o.push([h,r(h),0]),d=u(d,l[1]),h=d.getTime()/1e3;o.push([h,r(h),0]);for(let g=0;g<o.length-1;g++)o[g][2]=o[g+1][0]-o[g][0];return o.pop(),o}}function se(i){return e=>i(new Date(e*1e3)).toString()}const ml=new dl([new ke(void 0,[A.YEAR,1],[A.YEAR,2],i=>"",se(i=>i.getFullYear())),new ke([A.YEAR,1],[A.MONTH,3],[A.YEAR,1],se(i=>i.getFullYear()),se(i=>i.toLocaleDateString("default",{month:"short"}))),new ke([A.YEAR,1],[A.MONTH,1],[A.MONTH,3],se(i=>i.getFullYear()),se(i=>i.toLocaleDateString("default",{month:"short"}))),new ke([A.MONTH,1],[A.WEEK,1],[A.MONTH,1],se(i=>i.toLocaleDateString("default",{year:"numeric",month:"long"})),se(i=>`${i.getMonth()+1}/${i.getDate()}`)),new ke([A.MONTH,1],[A.DAY_MWF,1],[A.WEEK,1],se(i=>i.toLocaleDateString("default",{year:"numeric",month:"long"})),se(i=>`${i.getMonth()+1}/${i.getDate()}`)),new ke([A.MONTH,1],[A.DAY,1],[A.DAY_MWF,1],se(i=>i.toLocaleDateString("default",{year:"numeric",month:"long"})),se(i=>`${i.getMonth()+1}/${i.getDate()}`)),new ke([A.DAY,1],[A.HOUR,6],[A.DAY,1],se(i=>i.toLocaleDateString("default",{year:"numeric",month:"long",day:"numeric"})),se(i=>i.toLocaleTimeString("default",{hour:"numeric"}))),new ke([A.DAY,1],[A.HOUR,2],[A.HOUR,6],se(i=>i.toLocaleDateString("default",{year:"numeric",month:"long",day:"numeric"})),se(i=>i.toLocaleTimeString("default",{hour:"numeric"}))),new ke([A.DAY,1],[A.HOUR,1],[A.HOUR,2],se(i=>i.toLocaleDateString("default",{year:"numeric",month:"long",day:"numeric"})),se(i=>i.toLocaleTimeString("default",{hour:"numeric"}))),new ke([A.DAY,1],[A.MINUTE,15],[A.HOUR,1],se(i=>i.toLocaleDateString("default",{year:"numeric",month:"long",day:"numeric"})),se(i=>i.toLocaleTimeString("default",{hour:"numeric",minute:"2-digit"}))),new ke([A.DAY,1],[A.MINUTE,5],[A.MINUTE,15],se(i=>i.toLocaleDateString("default",{year:"numeric",month:"long",day:"numeric"})),se(i=>i.toLocaleTimeString("default",{hour:"numeric",minute:"2-digit"}))),new ke([A.DAY,1],[A.MINUTE,1],[A.MINUTE,5],se(i=>i.toLocaleDateString("default",{year:"numeric",month:"long",day:"numeric"})),se(i=>i.toLocaleTimeString("default",{hour:"numeric",minute:"2-digit"}))),new ke([A.MINUTE,1],[A.SECOND,15],[A.MINUTE,1],se(i=>i.toLocaleDateString("default",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})),se(i=>i.toLocaleTimeString("default",{second:"numeric"}))),new ke([A.MINUTE,1],[A.SECOND,5],[A.SECOND,15],se(i=>i.toLocaleDateString("default",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})),se(i=>i.toLocaleTimeString("default",{second:"numeric"}))),new ke([A.MINUTE,1],[A.SECOND,1],[A.SECOND,5],se(i=>i.toLocaleDateString("default",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})),se(i=>i.toLocaleTimeString("default",{second:"numeric"})))]);function Rn(i){let e;const t=i[14].default,n=Ue(t,i,i[16],null);return{c(){n&&n.c()},m(l,r){n&&n.m(l,r),e=!0},p(l,r){n&&n.p&&(!e||r[0]&65536)&&Ye(n,t,l,l[16],e?He(t,l[16],r,null):ze(l[16]),null)},i(l){e||(v(n,l),e=!0)},o(l){S(n,l),e=!1},d(l){n&&n.d(l)}}}function Vn(i){let e,t;return e=new sn({props:{target:"body",$$slots:{default:[Tr]},$$scope:{ctx:i}}}),{c(){j(e.$$.fragment)},m(n,l){V(e,n,l),t=!0},p(n,l){const r={};l[0]&65726&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(v(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Bn(i){let e,t,n,l,r=!i[7]&&!i[5]&&Wn(i);return n=new un({props:{component:i[2],disabled:i[7]||i[5],shadow:i[1],highlight:!0}}),{c(){r&&r.c(),e=H(),t=O("div"),j(n.$$.fragment),p(t,"class","dragContainer svelte-vuxm4g"),P(t,"left",`${i[3].left}px`),P(t,"top",`${i[3].top}px`),P(t,"width",`${i[3].width}px`),P(t,"height",`${i[3].height}px`)},m(s,o){r&&r.m(s,o),k(s,e,o),k(s,t,o),V(n,t,null),l=!0},p(s,o){!s[7]&&!s[5]?r?(r.p(s,o),o[0]&160&&v(r,1)):(r=Wn(s),r.c(),v(r,1),r.m(e.parentNode,e)):r&&($(),S(r,1,1,()=>{r=null}),x());const a={};o[0]&4&&(a.component=s[2]),o[0]&160&&(a.disabled=s[7]||s[5]),o[0]&2&&(a.shadow=s[1]),n.$set(a),o[0]&8&&P(t,"left",`${s[3].left}px`),o[0]&8&&P(t,"top",`${s[3].top}px`),o[0]&8&&P(t,"width",`${s[3].width}px`),o[0]&8&&P(t,"height",`${s[3].height}px`)},i(s){l||(v(r),v(n.$$.fragment,s),l=!0)},o(s){S(r),S(n.$$.fragment,s),l=!1},d(s){s&&(w(e),w(t)),r&&r.d(s),B(n)}}}function Wn(i){let e,t,n;return t=new un({props:{component:i[2]}}),{c(){e=O("div"),j(t.$$.fragment),p(e,"class","previewContainer svelte-vuxm4g"),P(e,"left",`${i[4].left}px`),P(e,"top",`${i[4].top}px`),P(e,"width",`${i[4].width}px`),P(e,"height",`${i[4].height}px`)},m(l,r){k(l,e,r),V(t,e,null),n=!0},p(l,r){const s={};r[0]&4&&(s.component=l[2]),t.$set(s),r[0]&16&&P(e,"left",`${l[4].left}px`),r[0]&16&&P(e,"top",`${l[4].top}px`),r[0]&16&&P(e,"width",`${l[4].width}px`),r[0]&16&&P(e,"height",`${l[4].height}px`)},i(l){n||(v(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&w(e),B(t)}}}function Tr(i){let e,t,n,l,r=i[1]&&Bn(i);return{c(){e=O("div"),r&&r.c(),p(e,"class","dragArea svelte-vuxm4g")},m(s,o){k(s,e,o),r&&r.m(e,null),t=!0,n||(l=[K(e,"mousemove",i[9]),K(e,"mouseup",i[10])],n=!0)},p(s,o){s[1]?r?(r.p(s,o),o[0]&2&&v(r,1)):(r=Bn(s),r.c(),v(r,1),r.m(e,null)):r&&($(),S(r,1,1,()=>{r=null}),x())},i(s){t||(v(r),t=!0)},o(s){S(r),t=!1},d(s){s&&w(e),r&&r.d(),n=!1,_e(l)}}}function Ir(i){let e,t,n,l,r,s,o=(!(i[0]&&i[1])||i[6])&&Rn(i),a=i[2]!==void 0&&Vn(i);return{c(){e=O("div"),o&&o.c(),t=H(),a&&a.c(),n=Z(),p(e,"class","dragParent")},m(u,c){k(u,e,c),o&&o.m(e,null),k(u,t,c),a&&a.m(u,c),k(u,n,c),l=!0,r||(s=K(e,"mousedown",i[15]),r=!0)},p(u,c){!(u[0]&&u[1])||u[6]?o?(o.p(u,c),c[0]&67&&v(o,1)):(o=Rn(u),o.c(),v(o,1),o.m(e,null)):o&&($(),S(o,1,1,()=>{o=null}),x()),u[2]!==void 0?a?(a.p(u,c),c[0]&4&&v(a,1)):(a=Vn(u),a.c(),v(a,1),a.m(n.parentNode,n)):a&&($(),S(a,1,1,()=>{a=null}),x())},i(u){l||(v(o),v(a),l=!0)},o(u){S(o),S(a),l=!1},d(u){u&&(w(e),w(t),w(n)),o&&o.d(),a&&a.d(u),r=!1,s()}}}const Bt=25,Er=0,jn=10;function Ar(i,e,t){let n,l,r;de(i,Pe,X=>t(24,n=X)),de(i,pt,X=>t(25,l=X)),de(i,ce,X=>t(26,r=X));let{$$slots:s={},$$scope:o}=e,{getComponent:a}=e,{hideChildOnDrag:u=!1}=e,{sequence:c}=e,{removeComponent:f}=e,d,h,g,m,b,M,y,N,T,_,J,Y=!0,q,C;const I=c!=null&&c.isAbsolute?ml:hl;function U(X,be){if(c===void 0||m===void 0)return[];const he=Math.max(0,c.offset),me=c.offset+be.width/c.scale,ae=Ee=>Ee+m>he&&Ee<me,ye=I.shiftIndex(I.bestTimescale(cl,c.scale),2),Oe=(Ee,Fe)=>ye.getLabelIntervals(Ee,Fe).map(([nt,Rt])=>[nt,Er]).filter(([nt,Rt])=>ae(nt)),Ke=c.layers[X].validate(T?void 0:d);if(Ke.error===ol.Empty)return Oe(Math.max(0,he-m),me);if(Ke.childBounds===void 0)return[];let fe=[],we=0;for(const[Ee,Fe]of Ke.childBounds){if(we===void 0)break;const Je=Ee,nt=Fe;Je!==void 0&&Je-we>=m&&(ae(we)&&fe.push([we,Bt]),ae(Je-m)&&fe.push([Je-m,Bt]),fe=[...fe,...Oe(Math.max(he,we),Math.min(me,Je-m))]),we=nt}return we!==void 0&&ae(we)&&(fe=[...fe,[we,Bt],...Oe(Math.max(he,we),me)]),fe}function L(X,be){if(c===void 0)return;let he,me=0;for(const[ae,ye]of be){const Oe=Math.abs(X-ae);Oe<=ye/c.scale&&ye>me?(he=ae,me=ye):(he===void 0||Oe<Math.abs(X-he))&&me===0&&(he=ae)}return he}function W(X){return Math.abs(X.clientX-(q.x+g[0]))>=jn||Math.abs(X.clientY-(q.y+g[1]))>=jn}function G(X){c!==void 0&&(X?(c.layers.push(new Jt([])),t(11,c)):t(11,c.layers=c.layers.filter(be=>be.children.size>0),c))}function oe(X){X.preventDefault(),t(2,d=a()),!(c===void 0||d===void 0)&&(l.set(c,d),m=(d==null?void 0:d.getDuration()[1])??5,q=X.target.closest(".dragParent > *").getBoundingClientRect(),g=[X.clientX-q.x,X.clientY-q.y],J=void 0,t(1,C=!1),t(6,T=X.altKey),E(X))}function E(X){if(c===void 0)return;let be=m*c.scale,he=c.layerHeight;t(1,C=W(X));const me=20;let ae=g[0];be<me*2?ae=be/2:ae=Math.min(be-me,Math.max(me,ae));let ye=C?X.clientX-ae:q.x,Oe=g[1];Oe=Math.min(he-me,Math.max(me,Oe));let Ke=C?X.clientY-Oe:q.y;t(3,h=new DOMRect(ye,Ke,be,he));const fe=document.getElementById("timeline").getBoundingClientRect();if(X.clientX<fe.left||X.clientX>fe.right||X.clientY<fe.top||X.clientY>fe.bottom){t(7,Y=!0);return}t(7,Y=!1);const we=ye-fe.left,Ee=Ke-fe.top;M=Math.round((fe.height/2+c.scroll-Ee)/c.layerHeight-1),M=Math.max(0,Math.min(c.layers.length-1,M)),J!==M&&(J=M,_=U(J,fe));const Fe=L(we/c.scale+c.offset,_);if(Fe===void 0){t(5,N=!0);return}else t(5,N=!1);y=Fe,t(4,b=new DOMRect(fe.left+(y-c.offset)*c.scale,fe.height/2+fe.top-(M+1)*c.layerHeight+c.scroll,be,he))}function R(X){c===void 0||d===void 0||(Y&&l.set(c,void 0),!N&&!T&&f(),!Y&&!N&&(T&&(t(2,d=ht.fromJSON(sl(d.toJSON()),{actionManager:r.actionSet.actionManager,parameterManager:r.actionSet.parameterManager,sequenceManager:r.sequenceManager})),l.set(c,d)),d.props.selectedConstraints.includes("end")&&t(2,d.props.constraints.end+=y-d.props.constraints.start,d),t(2,d.props.constraints.start=y,d),c.layers[M].children.add(d)),ve(Pe,n++,n),t(2,d=void 0),t(1,C=!1),t(6,T=!1),G(C))}const ee=X=>oe(X);return i.$$set=X=>{"getComponent"in X&&t(12,a=X.getComponent),"hideChildOnDrag"in X&&t(0,u=X.hideChildOnDrag),"sequence"in X&&t(11,c=X.sequence),"removeComponent"in X&&t(13,f=X.removeComponent),"$$scope"in X&&t(16,o=X.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&2&&G(C)},[u,C,d,h,b,N,T,Y,oe,E,R,c,a,f,s,ee,o]}class pl extends re{constructor(e){super(),le(this,e,Ar,Ir,ie,{getComponent:12,hideChildOnDrag:0,sequence:11,removeComponent:13},null,[-1,-1])}}function Lr(i){let e,t,n;return t=new un({props:{component:i[2],highlight:i[5]}}),{c(){e=O("div"),j(t.$$.fragment),p(e,"class","container svelte-ul6d45"),P(e,"left",`${(i[3]-i[0])/i[1]*100}%`),P(e,"width",`${(i[4]-i[3])/i[1]*100}%`)},m(l,r){k(l,e,r),V(t,e,null),n=!0},p(l,[r]){const s={};r&4&&(s.component=l[2]),r&32&&(s.highlight=l[5]),t.$set(s),r&11&&P(e,"left",`${(l[3]-l[0])/l[1]*100}%`),r&26&&P(e,"width",`${(l[4]-l[3])/l[1]*100}%`)},i(l){n||(v(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&w(e),B(t)}}}function Pr(i,e,t){let n,l,r;de(i,ce,f=>t(6,l=f)),de(i,pt,f=>t(7,r=f));let{offset:s}=e,{tileDuration:o}=e,{component:a}=e,{start:u}=e,{end:c}=e;return i.$$set=f=>{"offset"in f&&t(0,s=f.offset),"tileDuration"in f&&t(1,o=f.tileDuration),"component"in f&&t(2,a=f.component),"start"in f&&t(3,u=f.start),"end"in f&&t(4,c=f.end)},i.$$.update=()=>{i.$$.dirty&196&&t(5,n=r.get(l.openedSequence)===a)},[s,o,a,u,c,n,l,r]}class Ur extends re{constructor(e){super(),le(this,e,Pr,Lr,ie,{offset:0,tileDuration:1,component:2,start:3,end:4})}}function Xn(i,e,t){const n=i.slice();return n[13]=e[t][0],n[14]=e[t][1],n[15]=e[t][2],n}function Hr(i){let e,t,n;return e=new Ur({props:{offset:i[1],tileDuration:i[2],component:i[13],start:i[14],end:i[15]}}),{c(){j(e.$$.fragment),t=H()},m(l,r){V(e,l,r),k(l,t,r),n=!0},p(l,r){const s={};r&2&&(s.offset=l[1]),r&4&&(s.tileDuration=l[2]),r&16&&(s.component=l[13]),r&16&&(s.start=l[14]),r&16&&(s.end=l[15]),e.$set(s)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){l&&w(t),B(e,l)}}}function Kn(i,e){let t,n,l,r;function s(){return e[9](e[13])}function o(){return e[10](e[13])}function a(c){e[11](c)}let u={getComponent:s,hideChildOnDrag:!0,removeComponent:o,$$slots:{default:[Hr]},$$scope:{ctx:e}};return e[0]!==void 0&&(u.sequence=e[0]),n=new pl({props:u}),ue.push(()=>Me(n,"sequence",a)),{key:i,first:null,c(){t=Z(),j(n.$$.fragment),this.first=t},m(c,f){k(c,t,f),V(n,c,f),r=!0},p(c,f){e=c;const d={};f&16&&(d.getComponent=s),f&16&&(d.removeComponent=o),f&262166&&(d.$$scope={dirty:f,ctx:e}),!l&&f&1&&(l=!0,d.sequence=e[0],Se(()=>l=!1)),n.$set(d)},i(c){r||(v(n.$$.fragment,c),r=!0)},o(c){S(n.$$.fragment,c),r=!1},d(c){c&&w(t),B(n,c)}}}function Yr(i){let e,t=[],n=new Map,l,r=Q(i[4]);const s=o=>o[13];for(let o=0;o<r.length;o+=1){let a=Xn(i,r,o),u=s(a);n.set(u,t[o]=Kn(u,a))}return{c(){e=O("div");for(let o=0;o<t.length;o+=1)t[o].c();p(e,"class","container svelte-1dymnu0"),P(e,"transform",`translateY(${-i[3]*100}%)`),P(e,"background-color",`var(--gray-${i[3]%2==0?"93":"95"})`)},m(o,a){k(o,e,a);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);l=!0},p(o,[a]){a&55&&(r=Q(o[4]),$(),t=Qe(t,a,s,1,o,r,n,e,$e,Kn,null,Xn),x()),a&8&&P(e,"transform",`translateY(${-o[3]*100}%)`),a&8&&P(e,"background-color",`var(--gray-${o[3]%2==0?"93":"95"})`)},i(o){if(!l){for(let a=0;a<r.length;a+=1)v(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)S(t[a]);l=!1},d(o){o&&w(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function zr(i,e,t){let n,{offset:l}=e,{duration:r}=e,{layer:s}=e,{index:o}=e,{tileIndex:a}=e,{tilesEnd:u}=e,{sequence:c}=e;function f(b,M){const y=[];for(const N of s.children){const T=N.validate();if(T.solved===void 0)continue;let _;if(T.solved.start===void 0)if(M==0)_=l;else continue;else _=T.solved.start;let J;T.solved.end===void 0?J=b:J=Math.min(b,T.solved.end),(_>=l||J>l&&M===0)&&_<l+r&&y.push([N,Math.max(l,_),J])}return y}function d(b){s.children.delete(b)}const h=b=>b,g=b=>d(b);function m(b){c=b,t(0,c)}return i.$$set=b=>{"offset"in b&&t(1,l=b.offset),"duration"in b&&t(2,r=b.duration),"layer"in b&&t(6,s=b.layer),"index"in b&&t(3,o=b.index),"tileIndex"in b&&t(7,a=b.tileIndex),"tilesEnd"in b&&t(8,u=b.tilesEnd),"sequence"in b&&t(0,c=b.sequence)},i.$$.update=()=>{i.$$.dirty&384&&t(4,n=f(u,a))},[c,l,r,o,n,d,s,a,u,h,g,m]}class Fr extends re{constructor(e){super(),le(this,e,zr,Yr,ie,{offset:1,duration:2,layer:6,index:3,tileIndex:7,tilesEnd:8,sequence:0})}}function Gn(i,e,t){const n=i.slice();return n[6]=e[t],n[8]=t,n}function Qn(i){let e,t,n;function l(s){i[5](s)}let r={offset:i[1],duration:i[2],layer:i[6],index:i[8],tileIndex:i[3],tilesEnd:i[4]};return i[0]!==void 0&&(r.sequence=i[0]),e=new Fr({props:r}),ue.push(()=>Me(e,"sequence",l)),{c(){j(e.$$.fragment)},m(s,o){V(e,s,o),n=!0},p(s,o){const a={};o&2&&(a.offset=s[1]),o&4&&(a.duration=s[2]),o&1&&(a.layer=s[6]),o&8&&(a.tileIndex=s[3]),o&16&&(a.tilesEnd=s[4]),!t&&o&1&&(t=!0,a.sequence=s[0],Se(()=>t=!1)),e.$set(a)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){B(e,s)}}}function Jr(i){let e,t,n=Q(i[0].layers),l=[];for(let s=0;s<n.length;s+=1)l[s]=Qn(Gn(i,n,s));const r=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=O("div");for(let s=0;s<l.length;s+=1)l[s].c();p(e,"class","container svelte-k69jkv")},m(s,o){k(s,e,o);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null);t=!0},p(s,[o]){if(o&31){n=Q(s[0].layers);let a;for(a=0;a<n.length;a+=1){const u=Gn(s,n,a);l[a]?(l[a].p(u,o),v(l[a],1)):(l[a]=Qn(u),l[a].c(),v(l[a],1),l[a].m(e,null))}for($(),a=n.length;a<l.length;a+=1)r(a);x()}},i(s){if(!t){for(let o=0;o<n.length;o+=1)v(l[o]);t=!0}},o(s){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)S(l[o]);t=!1},d(s){s&&w(e),je(l,s)}}}function Rr(i,e,t){let{offset:n}=e,{duration:l}=e,{sequence:r}=e,{tileIndex:s}=e,{tilesEnd:o}=e;function a(u){r=u,t(0,r)}return i.$$set=u=>{"offset"in u&&t(1,n=u.offset),"duration"in u&&t(2,l=u.duration),"sequence"in u&&t(0,r=u.sequence),"tileIndex"in u&&t(3,s=u.tileIndex),"tilesEnd"in u&&t(4,o=u.tilesEnd)},[r,n,l,s,o,a]}class Vr extends re{constructor(e){super(),le(this,e,Rr,Jr,ie,{offset:1,duration:2,sequence:0,tileIndex:3,tilesEnd:4})}}function Zn(i){let e,t,n,l,r,s;return{c(){e=O("div"),t=O("div"),n=O("div"),n.innerHTML='<div class="patch svelte-1a939ah"></div>',l=H(),r=O("p"),s=te(i[0]),p(n,"class","tick svelte-1a939ah"),P(n,"border-color",i[1]>0?"var(--gray-50)":void 0),P(n,"min-height",i[1]>0?"1rem":void 0),P(n,"height",i[1]>0?void 0:"100%"),p(r,"class","label svelte-1a939ah"),P(r,"text-align",i[5]),p(t,"class","container-inner svelte-1a939ah"),p(e,"class","container svelte-1a939ah"),P(e,"transform",`translateX(${(i[2]-i[3])/i[4]*100}%)`)},m(o,a){k(o,e,a),D(e,t),D(t,n),D(t,l),D(t,r),D(r,s)},p(o,a){a&2&&P(n,"border-color",o[1]>0?"var(--gray-50)":void 0),a&2&&P(n,"min-height",o[1]>0?"1rem":void 0),a&2&&P(n,"height",o[1]>0?void 0:"100%"),a&1&&Ae(s,o[0]),a&32&&P(r,"text-align",o[5]),a&28&&P(e,"transform",`translateX(${(o[2]-o[3])/o[4]*100}%)`)},d(o){o&&w(e)}}}function Br(i){let e,t=i[2]>=0&&Zn(i);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,[l]){n[2]>=0?t?t.p(n,l):(t=Zn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){n&&w(e),t&&t.d(n)}}}function Wr(i,e,t){let{label:n}=e,{level:l=0}=e,{offset:r}=e,{tileOffset:s}=e,{tileDuration:o}=e,{align:a="left"}=e;return i.$$set=u=>{"label"in u&&t(0,n=u.label),"level"in u&&t(1,l=u.level),"offset"in u&&t(2,r=u.offset),"tileOffset"in u&&t(3,s=u.tileOffset),"tileDuration"in u&&t(4,o=u.tileDuration),"align"in u&&t(5,a=u.align)},[n,l,r,s,o,a]}class fn extends re{constructor(e){super(),le(this,e,Wr,Br,ie,{label:0,level:1,offset:2,tileOffset:3,tileDuration:4,align:5})}}function $n(i,e,t){const n=i.slice();return n[6]=e[t][0],n[7]=e[t][1],n}function xn(i,e,t){const n=i.slice();return n[10]=e[t][0],n[7]=e[t][1],n}function ei(i){let e,t;return e=new fn({props:{label:"",level:1,offset:i[10],tileOffset:i[0],tileDuration:i[1]}}),{c(){j(e.$$.fragment)},m(n,l){V(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.tileOffset=n[0]),l&2&&(r.tileDuration=n[1]),e.$set(r)},i(n){t||(v(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function ti(i){let e,t;return e=new fn({props:{label:i[7],offset:i[6],tileOffset:i[0],tileDuration:i[1]}}),{c(){j(e.$$.fragment)},m(n,l){V(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.tileOffset=n[0]),l&2&&(r.tileDuration=n[1]),e.$set(r)},i(n){t||(v(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function jr(i){let e,t,n,l,r,s,o=Q(i[3]),a=[];for(let h=0;h<o.length;h+=1)a[h]=ei(xn(i,o,h));const u=h=>S(a[h],1,1,()=>{a[h]=null});let c=Q(i[2]),f=[];for(let h=0;h<c.length;h+=1)f[h]=ti($n(i,c,h));const d=h=>S(f[h],1,1,()=>{f[h]=null});return{c(){e=O("div"),t=O("div"),n=O("div");for(let h=0;h<a.length;h+=1)a[h].c();l=H(),r=O("div");for(let h=0;h<f.length;h+=1)f[h].c();p(n,"class","ticks svelte-1ppp383"),p(t,"class","ticks-container svelte-1ppp383"),p(r,"class","labels svelte-1ppp383"),p(e,"class","container svelte-1ppp383")},m(h,g){k(h,e,g),D(e,t),D(t,n);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(n,null);D(e,l),D(e,r);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(r,null);s=!0},p(h,[g]){if(g&11){o=Q(h[3]);let m;for(m=0;m<o.length;m+=1){const b=xn(h,o,m);a[m]?(a[m].p(b,g),v(a[m],1)):(a[m]=ei(b),a[m].c(),v(a[m],1),a[m].m(n,null))}for($(),m=o.length;m<a.length;m+=1)u(m);x()}if(g&7){c=Q(h[2]);let m;for(m=0;m<c.length;m+=1){const b=$n(h,c,m);f[m]?(f[m].p(b,g),v(f[m],1)):(f[m]=ti(b),f[m].c(),v(f[m],1),f[m].m(r,null))}for($(),m=c.length;m<f.length;m+=1)d(m);x()}},i(h){if(!s){for(let g=0;g<o.length;g+=1)v(a[g]);for(let g=0;g<c.length;g+=1)v(f[g]);s=!0}},o(h){a=a.filter(Boolean);for(let g=0;g<a.length;g+=1)S(a[g]);f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)S(f[g]);s=!1},d(h){h&&w(e),je(a,h),je(f,h)}}}function Xr(i,e,t){let{offset:n}=e,{duration:l}=e,{timescale:r}=e,{timescaleSet:s}=e,o=r.getLabelIntervals(n,n+l),a=s.shiftIndex(r,1).getLabelIntervals(n,n+l);return i.$$set=u=>{"offset"in u&&t(0,n=u.offset),"duration"in u&&t(1,l=u.duration),"timescale"in u&&t(4,r=u.timescale),"timescaleSet"in u&&t(5,s=u.timescaleSet)},[n,l,o,a,r,s]}class Kr extends re{constructor(e){super(),le(this,e,Xr,jr,ie,{offset:0,duration:1,timescale:4,timescaleSet:5})}}function ni(i,e,t){const n=i.slice();return n[21]=e[t][0],n[22]=e[t][1],n[23]=e[t][2],n}function ii(i,e,t){const n=i.slice();return n[21]=e[t][0],n[26]=e[t][1],n[23]=e[t][2],n}function li(i,e,t){const n=i.slice();return n[21]=e[t][0],n[29]=e[t][1],n[23]=e[t][2],n[31]=t,n}function Gr(i){let e,t,n,l;function r(o){i[15](o)}let s={offset:i[21],duration:i[23],tileIndex:i[5].length-i[31]-1,tilesEnd:i[9]};return i[0]!==void 0&&(s.sequence=i[0]),e=new Vr({props:s}),ue.push(()=>Me(e,"sequence",r)),{c(){j(e.$$.fragment),n=H()},m(o,a){V(e,o,a),k(o,n,a),l=!0},p(o,a){const u={};a[0]&32&&(u.offset=o[21]),a[0]&32&&(u.duration=o[23]),a[0]&32&&(u.tileIndex=o[5].length-o[31]-1),a[0]&512&&(u.tilesEnd=o[9]),!t&&a[0]&1&&(t=!0,u.sequence=o[0],Se(()=>t=!1)),e.$set(u)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){S(e.$$.fragment,o),l=!1},d(o){o&&w(n),B(e,o)}}}function ri(i,e){let t,n,l;return n=new an({props:{offset:e[21],duration:e[23],sequence:e[0],$$slots:{default:[Gr]},$$scope:{ctx:e}}}),{key:i,first:null,c(){t=Z(),j(n.$$.fragment),this.first=t},m(r,s){k(r,t,s),V(n,r,s),l=!0},p(r,s){e=r;const o={};s[0]&32&&(o.offset=e[21]),s[0]&32&&(o.duration=e[23]),s[0]&1&&(o.sequence=e[0]),s[0]&545|s[1]&2&&(o.$$scope={dirty:s,ctx:e}),n.$set(o)},i(r){l||(v(n.$$.fragment,r),l=!0)},o(r){S(n.$$.fragment,r),l=!1},d(r){r&&w(t),B(n,r)}}}function Qr(i){let e,t,n;return e=new fn({props:{label:i[26],offset:i[21],tileOffset:i[21],tileDuration:i[14](i[21],i[23]),align:i[14](i[21],i[23])<i[4]-i[3]?"left":"center"}}),{c(){j(e.$$.fragment),t=H()},m(l,r){V(e,l,r),k(l,t,r),n=!0},p(l,r){const s={};r[0]&1024&&(s.label=l[26]),r[0]&1024&&(s.offset=l[21]),r[0]&1024&&(s.tileOffset=l[21]),r[0]&1024&&(s.tileDuration=l[14](l[21],l[23])),r[0]&1048&&(s.align=l[14](l[21],l[23])<l[4]-l[3]?"left":"center"),e.$set(s)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){l&&w(t),B(e,l)}}}function si(i,e){let t,n,l;return n=new an({props:{offset:Math.max(e[3],e[21]),duration:e[14](e[21],e[23]),sequence:e[0],$$slots:{default:[Qr]},$$scope:{ctx:e}}}),{key:i,first:null,c(){t=Z(),j(n.$$.fragment),this.first=t},m(r,s){k(r,t,s),V(n,r,s),l=!0},p(r,s){e=r;const o={};s[0]&1032&&(o.offset=Math.max(e[3],e[21])),s[0]&1024&&(o.duration=e[14](e[21],e[23])),s[0]&1&&(o.sequence=e[0]),s[0]&1048|s[1]&2&&(o.$$scope={dirty:s,ctx:e}),n.$set(o)},i(r){l||(v(n.$$.fragment,r),l=!0)},o(r){S(n.$$.fragment,r),l=!1},d(r){r&&w(t),B(n,r)}}}function Zr(i){let e,t,n;return e=new Kr({props:{offset:i[21],duration:i[23],timescale:i[6],timescaleSet:i[7]}}),{c(){j(e.$$.fragment),t=H()},m(l,r){V(e,l,r),k(l,t,r),n=!0},p(l,r){const s={};r[0]&32&&(s.offset=l[21]),r[0]&32&&(s.duration=l[23]),r[0]&64&&(s.timescale=l[6]),r[0]&128&&(s.timescaleSet=l[7]),e.$set(s)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){l&&w(t),B(e,l)}}}function oi(i,e){let t,n,l;return n=new an({props:{offset:e[21],duration:e[23],sequence:e[0],$$slots:{default:[Zr]},$$scope:{ctx:e}}}),{key:i,first:null,c(){t=Z(),j(n.$$.fragment),this.first=t},m(r,s){k(r,t,s),V(n,r,s),l=!0},p(r,s){e=r;const o={};s[0]&32&&(o.offset=e[21]),s[0]&32&&(o.duration=e[23]),s[0]&1&&(o.sequence=e[0]),s[0]&224|s[1]&2&&(o.$$scope={dirty:s,ctx:e}),n.$set(o)},i(r){l||(v(n.$$.fragment,r),l=!0)},o(r){S(n.$$.fragment,r),l=!1},d(r){r&&w(t),B(n,r)}}}function $r(i){let e,t,n=[],l=new Map,r,s,o,a,u=[],c=new Map,f,d,h=[],g=new Map,m,b,M,y,N=Q(i[5].toReversed());const T=C=>`${C[21]} ${C[6].tileInterval} ${C[12]} ${C[0].id}`;for(let C=0;C<N.length;C+=1){let I=li(i,N,C),U=T(I);l.set(U,n[C]=ri(U,I))}let _=Q(i[10]);const J=C=>`${C[21]} ${C[6].titleInterval}`;for(let C=0;C<_.length;C+=1){let I=ii(i,_,C),U=J(I);c.set(U,u[C]=si(U,I))}let Y=Q(i[5]);const q=C=>`${C[21]} ${C[6].tileInterval}`;for(let C=0;C<Y.length;C+=1){let I=ni(i,Y,C),U=q(I);g.set(U,h[C]=oi(U,I))}return{c(){e=O("div"),t=O("div");for(let C=0;C<n.length;C+=1)n[C].c();r=H(),s=O("div"),o=H(),a=O("div");for(let C=0;C<u.length;C+=1)u[C].c();f=H(),d=O("div");for(let C=0;C<h.length;C+=1)h[C].c();p(t,"class","timelineTiles svelte-4qirzt"),P(t,"transform",`translateY(${i[0].scroll}px)`),P(t,"height",`${i[0].layerHeight}px`),p(s,"class","timescaleBg svelte-4qirzt"),p(a,"class","titleTiles svelte-4qirzt"),p(d,"class","timescaleTiles svelte-4qirzt"),p(e,"id","timeline"),p(e,"class","container svelte-4qirzt"),ge(()=>i[17].call(e))},m(C,I){k(C,e,I),D(e,t);for(let U=0;U<n.length;U+=1)n[U]&&n[U].m(t,null);D(e,r),D(e,s),D(e,o),D(e,a);for(let U=0;U<u.length;U+=1)u[U]&&u[U].m(a,null);D(e,f),D(e,d);for(let U=0;U<h.length;U+=1)h[U]&&h[U].m(d,null);i[16](e),m=Ct(e,i[17].bind(e)),b=!0,M||(y=[K(e,"wheel",i[13]),K(e,"click",i[18])],M=!0)},p(C,I){I[0]&4705&&(N=Q(C[5].toReversed()),$(),n=Qe(n,I,T,1,C,N,l,t,$e,ri,null,li),x()),I[0]&1&&P(t,"transform",`translateY(${C[0].scroll}px)`),I[0]&1&&P(t,"height",`${C[0].layerHeight}px`),I[0]&17497&&(_=Q(C[10]),$(),u=Qe(u,I,J,1,C,_,c,a,$e,si,null,ii),x()),I[0]&225&&(Y=Q(C[5]),$(),h=Qe(h,I,q,1,C,Y,g,d,$e,oi,null,ni),x())},i(C){if(!b){for(let I=0;I<N.length;I+=1)v(n[I]);for(let I=0;I<_.length;I+=1)v(u[I]);for(let I=0;I<Y.length;I+=1)v(h[I]);b=!0}},o(C){for(let I=0;I<n.length;I+=1)S(n[I]);for(let I=0;I<u.length;I+=1)S(u[I]);for(let I=0;I<h.length;I+=1)S(h[I]);b=!1},d(C){C&&w(e);for(let I=0;I<n.length;I+=1)n[I].d();for(let I=0;I<u.length;I+=1)u[I].d();for(let I=0;I<h.length;I+=1)h[I].d();i[16](null),m(),M=!1,_e(y)}}}function xr(i){if(i.length===0)return 0;{const e=i[i.length-1];return e[0]+e[2]}}function es(i,e,t){let n,l,r,s,o,a,u,c,f;de(i,pt,q=>t(11,c=q)),de(i,Pe,q=>t(12,f=q));let{sequence:d}=e,{width:h=0}=e,g,m=0;function b(q){q!==0&&t(0,d.offset=Math.max(q/d.scale*-.5,d.offset),d)}function M(q,C,I){q!==0&&t(0,d.scroll=Math.max(q*-.5+C,Math.min(q*.5+C*(I-1),d.scroll)),d)}function y(q){if(q.preventDefault(),q.ctrlKey){const C=Math.pow(2,-q.deltaY/1500);t(0,d.offset+=(1-1/C)*((q.clientX-g.getBoundingClientRect().left)/d.scale),d),t(0,d.scale*=C,d),b(h)}else q.shiftKey?(t(0,d.offset+=q.deltaY/d.scale*.75,d),b(h)):q.altKey?(t(0,d.layerHeight-=q.deltaY/10,d),t(0,d.layerHeight=Math.max(100,Math.min(300,d.layerHeight)),d)):(t(0,d.scroll-=q.deltaY/2,d),M(m,d.layerHeight,d.layers.length))}function N(q,C){const I=Math.max(n,q),U=C??Number.MAX_VALUE;return Math.min(l-Math.max(n,I),U,q+U-I)}function T(q){d=q,t(0,d)}function _(q){ue[q?"unshift":"push"](()=>{g=q,t(8,g)})}function J(){h=this.clientWidth,m=this.clientHeight,t(1,h),t(2,m)}const Y=()=>{c.set(d,void 0),pt.set(c)};return i.$$set=q=>{"sequence"in q&&t(0,d=q.sequence),"width"in q&&t(1,h=q.width)},i.$$.update=()=>{i.$$.dirty[0]&3&&b(h),i.$$.dirty[0]&5&&M(m,d.layerHeight,d.layers.length),i.$$.dirty[0]&1&&t(3,n=d.offset),i.$$.dirty[0]&11&&t(4,l=n+h/d.scale),i.$$.dirty[0]&1&&t(7,r=d.isAbsolute?ml:hl),i.$$.dirty[0]&129&&t(6,s=r.bestTimescale(cl,d.scale)),i.$$.dirty[0]&88&&t(10,o=s.getTitleIntervals(n,l)),i.$$.dirty[0]&88&&t(5,a=s.getTileIntervals(n,l)),i.$$.dirty[0]&32&&t(9,u=xr(a))},[d,h,m,n,l,a,s,r,g,u,o,c,f,y,N,T,_,J,Y]}class ts extends re{constructor(e){super(),le(this,e,es,$r,ie,{sequence:0,width:1},null,[-1,-1])}}const lt=1024,Ut=1280;function ns(i){let e;const t=i[1].default,n=Ue(t,i,i[2],null);return{c(){n&&n.c()},m(l,r){n&&n.m(l,r),e=!0},p(l,r){n&&n.p&&(!e||r&4)&&Ye(n,t,l,l[2],e?He(t,l[2],r,null):ze(l[2]),null)},i(l){e||(v(n,l),e=!0)},o(l){S(n,l),e=!1},d(l){n&&n.d(l)}}}function is(i){let e,t,n;return t=new ll({props:{width:"100%",height:"100%",$$slots:{default:[ns]},$$scope:{ctx:i}}}),{c(){e=O("div"),j(t.$$.fragment),p(e,"class","container svelte-1es34mx"),P(e,"width",i[0]?"100%":void 0)},m(l,r){k(l,e,r),V(t,e,null),n=!0},p(l,[r]){const s={};r&4&&(s.$$scope={dirty:r,ctx:l}),t.$set(s),r&1&&P(e,"width",l[0]?"100%":void 0)},i(l){n||(v(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&w(e),B(t)}}}function ls(i,e,t){let{$$slots:n={},$$scope:l}=e,{fullWidth:r=!1}=e;return i.$$set=s=>{"fullWidth"in s&&t(0,r=s.fullWidth),"$$scope"in s&&t(2,l=s.$$scope)},[r,n,l]}class cn extends re{constructor(e){super(),le(this,e,ls,is,ie,{fullWidth:0})}}function ai(i){let e,t,n,l;const r=i[5].default,s=Ue(r,i,i[4],null);return{c(){e=O("div"),s&&s.c(),p(e,"id",t=`${i[1]}-body`),p(e,"class","body svelte-k6fapt")},m(o,a){k(o,e,a),s&&s.m(e,null),l=!0},p(o,a){s&&s.p&&(!l||a&16)&&Ye(s,r,o,o[4],l?He(r,o[4],a,null):ze(o[4]),null),(!l||a&2&&t!==(t=`${o[1]}-body`))&&p(e,"id",t)},i(o){l||(v(s,o),o&&ge(()=>{l&&(n||(n=et(e,dt,{duration:300},!0)),n.run(1))}),l=!0)},o(o){S(s,o),o&&(n||(n=et(e,dt,{duration:300},!1)),n.run(0)),l=!1},d(o){o&&w(e),s&&s.d(o),o&&n&&n.end()}}}function rs(i){let e,t,n,l,r,s,o,a,u,c,f,d,h,g,m,b=i[2]&&ai(i);return{c(){e=O("div"),t=O("button"),n=O("h3"),l=te(i[0]),r=H(),s=O("div"),o=Te("svg"),a=Te("path"),d=H(),b&&b.c(),p(n,"class","svelte-k6fapt"),p(a,"d","M15 18l-6-6 6-6"),p(o,"class",u=_n(i[2]?"rotated":"")+" svelte-k6fapt"),p(o,"xmlns","http://www.w3.org/2000/svg"),p(o,"width","24"),p(o,"height","24"),p(o,"viewBox","0 0 24 24"),p(o,"fill","none"),p(o,"stroke","currentColor"),p(o,"stroke-width","2"),p(o,"stroke-linecap","round"),p(o,"stroke-linejoin","round"),p(s,"class","arrow-container svelte-k6fapt"),p(t,"class","heading svelte-k6fapt"),p(t,"title",c=i[2]?"Collapse section":"Expand section"),p(t,"aria-expanded",i[2]),p(t,"aria-controls",f=`${i[1]}-body`),p(e,"class","section svelte-k6fapt")},m(M,y){k(M,e,y),D(e,t),D(t,n),D(n,l),D(t,r),D(t,s),D(s,o),D(o,a),D(e,d),b&&b.m(e,null),h=!0,g||(m=K(t,"click",i[3]),g=!0)},p(M,[y]){(!h||y&1)&&Ae(l,M[0]),(!h||y&4&&u!==(u=_n(M[2]?"rotated":"")+" svelte-k6fapt"))&&p(o,"class",u),(!h||y&4&&c!==(c=M[2]?"Collapse section":"Expand section"))&&p(t,"title",c),(!h||y&4)&&p(t,"aria-expanded",M[2]),(!h||y&2&&f!==(f=`${M[1]}-body`))&&p(t,"aria-controls",f),M[2]?b?(b.p(M,y),y&4&&v(b,1)):(b=ai(M),b.c(),v(b,1),b.m(e,null)):b&&($(),S(b,1,1,()=>{b=null}),x())},i(M){h||(v(b),h=!0)},o(M){S(b),h=!1},d(M){M&&w(e),b&&b.d(),g=!1,m()}}}function ss(i,e,t){let{$$slots:n={},$$scope:l}=e,{title:r}=e,{name:s}=e;const o=`${s}-expanded`;let a=!0;localStorage.getItem(o)?a=localStorage.getItem(o)==String(!0):a=!0;const u=()=>{t(2,a=!a),s&&localStorage.setItem(o,String(a))};return i.$$set=c=>{"title"in c&&t(0,r=c.title),"name"in c&&t(1,s=c.name),"$$scope"in c&&t(4,l=c.$$scope)},[r,s,a,u,l,n]}class dn extends re{constructor(e){super(),le(this,e,ss,rs,ie,{title:0,name:1})}}function ui(i,e,t){const n=i.slice();return n[8]=e[t][0],n[9]=e[t][1],n}function fi(i){let e,t,n;function l(){return i[6](i[9])}function r(o){i[7](o)}let s={getComponent:l,removeComponent:fs,$$slots:{default:[os]},$$scope:{ctx:i}};return i[3].openedSequence!==void 0&&(s.sequence=i[3].openedSequence),e=new pl({props:s}),ue.push(()=>Me(e,"sequence",r)),{c(){j(e.$$.fragment)},m(o,a){V(e,o,a),n=!0},p(o,a){i=o;const u={};a&4&&(u.getComponent=l),a&4108&&(u.$$scope={dirty:a,ctx:i}),!t&&a&8&&(t=!0,u.sequence=i[3].openedSequence,Se(()=>t=!1)),e.$set(u)},i(o){n||(v(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function os(i){let e,t=i[9].name+"",n,l;return{c(){e=O("div"),n=te(t),l=H(),p(e,"class","component svelte-fh7wct"),Ne(e,"disabled",i[3].openedSequence===void 0),P(e,"background-color",`hsl(${i[9].hue}deg var(--component-saturation) var(--component-lightness))`)},m(r,s){k(r,e,s),D(e,n),k(r,l,s)},p(r,s){s&4&&t!==(t=r[9].name+"")&&Ae(n,t),s&8&&Ne(e,"disabled",r[3].openedSequence===void 0),s&4&&P(e,"background-color",`hsl(${r[9].hue}deg var(--component-saturation) var(--component-lightness))`)},d(r){r&&(w(e),w(l))}}}function ci(i,e){let t,n=!(e[9]instanceof Le&&(e[9]===e[3].openedSequence||e[4].includes(e[9])||(e[9].getDuration(!1)??0)===0)),l,r,s=n&&fi(e);return{key:i,first:null,c(){t=Z(),s&&s.c(),l=Z(),this.first=t},m(o,a){k(o,t,a),s&&s.m(o,a),k(o,l,a),r=!0},p(o,a){e=o,a&28&&(n=!(e[9]instanceof Le&&(e[9]===e[3].openedSequence||e[4].includes(e[9])||(e[9].getDuration(!1)??0)===0))),n?s?(s.p(e,a),a&28&&v(s,1)):(s=fi(e),s.c(),v(s,1),s.m(l.parentNode,l)):s&&($(),S(s,1,1,()=>{s=null}),x())},i(o){r||(v(s),r=!0)},o(o){S(s),r=!1},d(o){o&&(w(t),w(l)),s&&s.d(o)}}}function as(i){let e=[],t=new Map,n,l,r=Q(i[2].children.entries());const s=o=>o[8];for(let o=0;o<r.length;o+=1){let a=ui(i,r,o),u=s(a);t.set(u,e[o]=ci(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=Z()},m(o,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,a);k(o,n,a),l=!0},p(o,a){a&60&&(r=Q(o[2].children.entries()),$(),e=Qe(e,a,s,1,o,r,t,n.parentNode,$e,ci,n,ui),x())},i(o){if(!l){for(let a=0;a<r.length;a+=1)v(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)S(e[a]);l=!1},d(o){o&&w(n);for(let a=0;a<e.length;a+=1)e[a].d(o)}}}function us(i){let e,t;return e=new dn({props:{title:i[0],name:i[1],$$slots:{default:[as]},$$scope:{ctx:i}}}),{c(){j(e.$$.fragment)},m(n,l){V(e,n,l),t=!0},p(n,[l]){const r={};l&1&&(r.title=n[0]),l&2&&(r.name=n[1]),l&4124&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(v(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}const fs=()=>{};function cs(i,e,t){let n,l;de(i,ce,f=>t(3,l=f));let{title:r}=e,{name:s}=e,{manager:o}=e;function a(f){if(l.openedSequence===void 0)return;const d=new Ot({start:l.openedSequence.isAbsolute?new Date().getTime()/1e3:0,repetitions:1,interval:5},["start","repetitions","interval"],void 0,void 0,void 0,l.openedSequence.isAbsolute?"YYYY-MM-DD HH:MM:SS":"seconds");if(f instanceof De)return new ht(f.newState(),d,Ce.Coincide);if(f instanceof Le)return new ht(f,d,Ce.Coincide)}const u=f=>a(f);function c(f){i.$$.not_equal(l.openedSequence,f)&&(l.openedSequence=f,ce.set(l))}return i.$$set=f=>{"title"in f&&t(0,r=f.title),"name"in f&&t(1,s=f.name),"manager"in f&&t(2,o=f.manager)},i.$$.update=()=>{var f;i.$$.dirty&8&&t(4,n=((f=l.openedSequence)==null?void 0:f.getDependants())??[])},[r,s,o,l,n,a,u,c]}class Ht extends re{constructor(e){super(),le(this,e,cs,us,ie,{title:0,name:1,manager:2})}}const ds=i=>({toggleDropdown:i&64}),di=i=>({toggleDropdown:i[6]});function hs(i){let e,t,n,l,r,s,o;return{c(){e=O("button"),t=te(i[2]),n=H(),l=Te("svg"),r=Te("path"),p(r,"d","M6 9l6 6 6-6"),p(l,"xmlns","http://www.w3.org/2000/svg"),p(l,"width","1.3em"),p(l,"height","1.3em"),p(l,"viewBox","0 0 24 24"),p(l,"fill","none"),p(l,"stroke","currentColor"),p(l,"stroke-width","2"),p(l,"stroke-linecap","round"),p(l,"stroke-linejoin","round"),p(e,"slot","button"),p(e,"title",i[1]),p(e,"class","select-dropdown-button svelte-1w71hwl"),e.disabled=i[3]},m(a,u){k(a,e,u),D(e,t),D(e,n),D(e,l),D(l,r),s||(o=K(e,"click",function(){Xe(i[6])&&i[6].apply(this,arguments)}),s=!0)},p(a,u){i=a,u&4&&Ae(t,i[2]),u&2&&p(e,"title",i[1]),u&8&&(e.disabled=i[3])},d(a){a&&w(e),s=!1,o()}}}function ms(i){let e;const t=i[4].buttons,n=Ue(t,i,i[5],di);return{c(){n&&n.c()},m(l,r){n&&n.m(l,r),e=!0},p(l,r){n&&n.p&&(!e||r&96)&&Ye(n,t,l,l[5],e?He(t,l[5],r,ds):ze(l[5]),di)},i(l){e||(v(n,l),e=!0)},o(l){S(n,l),e=!1},d(l){n&&n.d(l)}}}function ps(i){let e,t,n,l,r;return l=new rn({props:{fullWidth:!0,lighter:!0,$$slots:{buttons:[ms,({toggleDropdown:s})=>({6:s}),({toggleDropdown:s})=>s?64:0],button:[hs,({toggleDropdown:s})=>({6:s}),({toggleDropdown:s})=>s?64:0]},$$scope:{ctx:i}}}),{c(){e=O("div"),t=te(i[0]),n=te(`:\r
  `),j(l.$$.fragment),p(e,"class","select-dropdown svelte-1w71hwl")},m(s,o){k(s,e,o),D(e,t),D(e,n),V(l,e,null),r=!0},p(s,[o]){(!r||o&1)&&Ae(t,s[0]);const a={};o&110&&(a.$$scope={dirty:o,ctx:s}),l.$set(a)},i(s){r||(v(l.$$.fragment,s),r=!0)},o(s){S(l.$$.fragment,s),r=!1},d(s){s&&w(e),B(l)}}}function gs(i,e,t){let{$$slots:n={},$$scope:l}=e,{label:r}=e,{buttonTitle:s}=e,{dropdownText:o}=e,{disabled:a=!1}=e;return i.$$set=u=>{"label"in u&&t(0,r=u.label),"buttonTitle"in u&&t(1,s=u.buttonTitle),"dropdownText"in u&&t(2,o=u.dropdownText),"disabled"in u&&t(3,a=u.disabled),"$$scope"in u&&t(5,l=u.$$scope)},[r,s,o,a,n,l]}class St extends re{constructor(e){super(),le(this,e,gs,ps,ie,{label:0,buttonTitle:1,dropdownText:2,disabled:3})}}function hi(i,e,t){const n=i.slice();return n[12]=e[t],n}function mi(i,e,t){const n=i.slice();return n[16]=e[t],n}function _s(i){let e,t,n;function l(o,a){if(o[3]instanceof Ge)return Ms;if(o[3]instanceof kt)return Ss;if(typeof o[1].value=="number")return ks;if(typeof o[1].value=="string")return ws;if(typeof o[1].value=="boolean")return vs}let r=l(i),s=r&&r(i);return{c(){e=O("label"),t=O("div"),t.textContent=`${i[3].name}:`,n=H(),s&&s.c(),p(t,"class","label svelte-1san4q5"),p(e,"class","horizontal")},m(o,a){k(o,e,a),D(e,t),D(e,n),s&&s.m(e,null)},p(o,a){r===(r=l(o))&&s?s.p(o,a):(s&&s.d(1),s=r&&r(o),s&&(s.c(),s.m(e,null)))},i:ne,o:ne,d(o){o&&w(e),s&&s.d()}}}function bs(i){let e,t;return e=new St({props:{label:i[3].name,buttonTitle:`Options for ${i[3].name}`,dropdownText:i[1].parameter.getDisplayValue(i[1].value).toString(),$$slots:{buttons:[ys,({toggleDropdown:n})=>({15:n}),({toggleDropdown:n})=>n?32768:0]},$$scope:{ctx:i}}}),{c(){j(e.$$.fragment)},m(n,l){V(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.dropdownText=n[1].parameter.getDisplayValue(n[1].value).toString()),l&557058&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(v(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function vs(i){let e,t,n,l;return{c(){e=O("input"),p(e,"type","checkbox"),e.checked=t=i[1].value},m(r,s){k(r,e,s),n||(l=K(e,"change",i[10]),n=!0)},p(r,s){s&2&&t!==(t=r[1].value)&&(e.checked=t)},d(r){r&&w(e),n=!1,l()}}}function ws(i){let e,t,n,l;return{c(){e=O("input"),p(e,"type","text"),e.value=t=i[1].value,p(e,"placeholder",`Value of ${i[3].name}`)},m(r,s){k(r,e,s),n||(l=K(e,"change",i[9]),n=!0)},p(r,s){s&2&&t!==(t=r[1].value)&&e.value!==t&&(e.value=t)},d(r){r&&w(e),n=!1,l()}}}function ks(i){let e,t,n,l;return{c(){e=O("input"),p(e,"type","number"),e.value=t=i[1].value,p(e,"placeholder",`Value of ${i[3].name}`)},m(r,s){k(r,e,s),n||(l=K(e,"change",i[8]),n=!0)},p(r,s){s&2&&t!==(t=r[1].value)&&e.value!==t&&(e.value=t)},d(r){r&&w(e),n=!1,l()}}}function Ss(i){let e,t,n,l;return{c(){e=O("input"),p(e,"type","text"),p(e,"minlength",i[3].minLength),p(e,"maxlength",i[3].maxLength),e.value=t=i[1].value,p(e,"placeholder",`Value of ${i[3].name}`)},m(r,s){k(r,e,s),n||(l=K(e,"change",i[7]),n=!0)},p(r,s){s&2&&t!==(t=r[1].value)&&e.value!==t&&(e.value=t)},d(r){r&&w(e),n=!1,l()}}}function Ms(i){let e,t,n,l=(i[3].unit??"")+"",r,s,o;return{c(){e=O("input"),n=H(),r=te(l),p(e,"type","number"),p(e,"step",i[3].step),p(e,"min",i[3].min),p(e,"max",i[3].max),e.value=t=i[1].value,p(e,"placeholder",`Value of ${i[3].name}`)},m(a,u){k(a,e,u),k(a,n,u),k(a,r,u),s||(o=K(e,"change",i[6]),s=!0)},p(a,u){u&2&&t!==(t=a[1].value)&&e.value!==t&&(e.value=t)},d(a){a&&(w(e),w(n),w(r)),s=!1,o()}}}function pi(i){let e,t,n;function l(){return i[5](i[16],i[15])}return{c(){e=O("button"),e.textContent=`${i[3].getDisplayValue(i[16])} `},m(r,s){k(r,e,s),t||(n=K(e,"click",l),t=!0)},p(r,s){i=r},d(r){r&&w(e),t=!1,n()}}}function gi(i){let e,t=i[1].value!==i[16]&&pi(i);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,l){n[1].value!==n[16]?t?t.p(n,l):(t=pi(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&w(e),t&&t.d(n)}}}function ys(i){let e,t=Q(i[3].nested.keys()),n=[];for(let l=0;l<t.length;l+=1)n[l]=gi(mi(i,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Z()},m(l,r){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,r);k(l,e,r)},p(l,r){if(r&32794){t=Q(l[3].nested.keys());let s;for(s=0;s<t.length;s+=1){const o=mi(l,t,s);n[s]?n[s].p(o,r):(n[s]=gi(o),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){l&&w(e),je(n,l)}}}function _i(i){let e,t=[],n=new Map,l,r=Q(i[3].nested.get(i[1].value)??[]);const s=o=>o[12].id;for(let o=0;o<r.length;o+=1){let a=hi(i,r,o),u=s(a);n.set(u,t[o]=bi(u,a))}return{c(){e=O("div");for(let o=0;o<t.length;o+=1)t[o].c();p(e,"class","nested svelte-1san4q5")},m(o,a){k(o,e,a);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);l=!0},p(o,a){a&15&&(r=Q(o[3].nested.get(o[1].value)??[]),$(),t=Qe(t,a,s,1,o,r,n,e,$e,bi,null,hi),x())},i(o){if(!l){for(let a=0;a<r.length;a+=1)v(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)S(t[a]);l=!1},d(o){o&&w(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function bi(i,e){let t,n,l;return n=new gl({props:{actionState:e[0],parameterState:e[2](e[0],e[12]),getParameterState:e[2]}}),{key:i,first:null,c(){t=Z(),j(n.$$.fragment),this.first=t},m(r,s){k(r,t,s),V(n,r,s),l=!0},p(r,s){e=r;const o={};s&1&&(o.actionState=e[0]),s&7&&(o.parameterState=e[2](e[0],e[12])),s&4&&(o.getParameterState=e[2]),n.$set(o)},i(r){l||(v(n.$$.fragment,r),l=!0)},o(r){S(n.$$.fragment,r),l=!1},d(r){r&&w(t),B(n,r)}}}function Os(i){let e,t,n,l,r=i[3]instanceof Ie&&(i[3].nested.get(i[1].value)??[]).length>0,s;const o=[bs,_s],a=[];function u(f,d){return f[3]instanceof Ie?0:1}t=u(i),n=a[t]=o[t](i);let c=r&&_i(i);return{c(){e=O("div"),n.c(),l=H(),c&&c.c(),p(e,"class","container svelte-1san4q5")},m(f,d){k(f,e,d),a[t].m(e,null),D(e,l),c&&c.m(e,null),s=!0},p(f,[d]){n.p(f,d),d&2&&(r=f[3]instanceof Ie&&(f[3].nested.get(f[1].value)??[]).length>0),r?c?(c.p(f,d),d&2&&v(c,1)):(c=_i(f),c.c(),v(c,1),c.m(e,null)):c&&($(),S(c,1,1,()=>{c=null}),x())},i(f){s||(v(n),v(c),s=!0)},o(f){S(n),S(c),s=!1},d(f){f&&w(e),a[t].d(),c&&c.d()}}}function Ds(i,e,t){let n;de(i,Pe,m=>t(11,n=m));let{actionState:l}=e,{parameterState:r}=e,{getParameterState:s}=e,o=r.parameter;function a(m,b,M,y){if(b===void 0){if(M===void 0||y===void 0)return;const T=M.target;b=y(T.type==="checkbox"?T.checked:T.value)}const N=m.parameter.validate(b);if(N.error===rl.None)m.value=b,ve(Pe,n++,n);else{if(M===void 0)return;const T=M.target;N.fixed?(m.value=N.fixed,T.value=String(N.fixed),ve(Pe,n++,n)):T.value=String(m.value)}}const u=(m,b)=>{a(r,m),b()},c=m=>a(r,void 0,m,Number),f=m=>a(r,void 0,m,String),d=m=>a(r,void 0,m,Number),h=m=>a(r,void 0,m,String),g=m=>a(r,void 0,m,Boolean);return i.$$set=m=>{"actionState"in m&&t(0,l=m.actionState),"parameterState"in m&&t(1,r=m.parameterState),"getParameterState"in m&&t(2,s=m.getParameterState)},[l,r,s,o,a,u,c,f,d,h,g]}class gl extends re{constructor(e){super(),le(this,e,Ds,Os,ie,{actionState:0,parameterState:1,getParameterState:2})}}function vi(i,e,t){const n=i.slice();return n[3]=e[t],n}function wi(i){let e,t,n,l;const r=[qs,Ns],s=[];function o(a,u){return a[0].child instanceof Le?0:a[0].child instanceof tt?1:-1}return~(e=o(i))&&(t=s[e]=r[e](i)),{c(){t&&t.c(),n=Z()},m(a,u){~e&&s[e].m(a,u),k(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&s[e].p(a,u):(t&&($(),S(s[c],1,1,()=>{s[c]=null}),x()),~e?(t=s[e],t?t.p(a,u):(t=s[e]=r[e](a),t.c()),v(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(v(t),l=!0)},o(a){S(t),l=!1},d(a){a&&w(n),~e&&s[e].d(a)}}}function Ns(i){let e,t,n,l;const r=[Ts,Cs],s=[];function o(a,u){return a[0].child.action.parameters.length===0?0:1}return e=o(i),t=s[e]=r[e](i),{c(){t.c(),n=Z()},m(a,u){s[e].m(a,u),k(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?s[e].p(a,u):($(),S(s[c],1,1,()=>{s[c]=null}),x(),t=s[e],t?t.p(a,u):(t=s[e]=r[e](a),t.c()),v(t,1),t.m(n.parentNode,n))},i(a){l||(v(t),l=!0)},o(a){S(t),l=!1},d(a){a&&w(n),s[e].d(a)}}}function qs(i){let e;return{c(){e=te("Sequence has no parameters.")},m(t,n){k(t,e,n)},p:ne,i:ne,o:ne,d(t){t&&w(e)}}}function Cs(i){let e,t,n=Q(i[0].child.action.parameters),l=[];for(let s=0;s<n.length;s+=1)l[s]=ki(vi(i,n,s));const r=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Z()},m(s,o){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(s,o);k(s,e,o),t=!0},p(s,o){if(o&1){n=Q(s[0].child.action.parameters);let a;for(a=0;a<n.length;a+=1){const u=vi(s,n,a);l[a]?(l[a].p(u,o),v(l[a],1)):(l[a]=ki(u),l[a].c(),v(l[a],1),l[a].m(e.parentNode,e))}for($(),a=n.length;a<l.length;a+=1)r(a);x()}},i(s){if(!t){for(let o=0;o<n.length;o+=1)v(l[o]);t=!0}},o(s){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)S(l[o]);t=!1},d(s){s&&w(e),je(l,s)}}}function Ts(i){let e;return{c(){e=te("Action has no parameters.")},m(t,n){k(t,e,n)},p:ne,i:ne,o:ne,d(t){t&&w(e)}}}function ki(i){let e,t;return e=new gl({props:{actionState:i[0].child,parameterState:Wt(i[0].child,i[3]),getParameterState:Wt}}),{c(){j(e.$$.fragment)},m(n,l){V(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.actionState=n[0].child),l&1&&(r.parameterState=Wt(n[0].child,n[3])),e.$set(r)},i(n){t||(v(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Is(i){let e,t,n=i[0]!==void 0&&wi(i);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),k(l,e,r),t=!0},p(l,r){l[0]!==void 0?n?(n.p(l,r),r&1&&v(n,1)):(n=wi(l),n.c(),v(n,1),n.m(e.parentNode,e)):n&&($(),S(n,1,1,()=>{n=null}),x())},i(l){t||(v(n),t=!0)},o(l){S(n),t=!1},d(l){l&&w(e),n&&n.d(l)}}}function Es(i){let e,t;return e=new dn({props:{title:"Parameters",name:"properties-parameters",$$slots:{default:[Is]},$$scope:{ctx:i}}}),{c(){j(e.$$.fragment)},m(n,l){V(e,n,l),t=!0},p(n,[l]){const r={};l&65&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(v(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function As(i,e){if(e!==void 0)return i.get(e)}function Wt(i,e){const t=i.parameterStates.get(e.id);if(t===void 0)throw new Error(`ParameterState does not exist for Parameter with ID ${e.id}`);return t}function Ls(i,e,t){let n,l;de(i,ce,s=>t(1,n=s)),de(i,pt,s=>t(2,l=s));let r;return i.$$.update=()=>{i.$$.dirty&6&&t(0,r=As(l,n.openedSequence))},[r,n,l]}class hn extends re{constructor(e){super(),le(this,e,Ls,Es,ie,{})}}function Si(i,e,t){const n=i.slice();return n[26]=e[t],n}function Mi(i,e,t){const n=i.slice();return n[26]=e[t],n}function yi(i,e,t){const n=i.slice();return n[26]=e[t],n}function Oi(i,e,t){const n=i.slice();return n[33]=e[t],n[35]=t,n}function Di(i,e,t){const n=i.slice();return n[26]=e[t],n}function Ni(i,e,t){const n=i.slice();return n[38]=e[t][0],n[39]=e[t][1],n}function qi(i){let e,t,n,l,r,s,o,a,u,c,f,d,h,g,m,b=[],M=new Map,y,N,T,_,J,Y,q,C,I,U=Q(Object.entries(i[2].constraints)),L=[];for(let E=0;E<U.length;E+=1)L[E]=Ci(Ni(i,U,E));let W=i[0].child instanceof Le&&Ti(i),G=Q({length:3});const oe=E=>[E[35],E[1]];for(let E=0;E<G.length;E+=1){let R=Oi(i,G,E),ee=oe(R);M.set(ee,b[E]=Ai(ee,R))}return N=new St({props:{label:"Time unit",buttonTitle:"Time unit options",dropdownText:i[0].props.unit,$$slots:{buttons:[Us,({toggleDropdown:E})=>({25:E}),({toggleDropdown:E})=>[E?33554432:0]]},$$scope:{ctx:i}}}),_=new St({props:{label:"Duration unit",buttonTitle:"Duration unit options",dropdownText:i[0].props.durationUnit,$$slots:{buttons:[Hs,({toggleDropdown:E})=>({25:E}),({toggleDropdown:E})=>[E?33554432:0]]},$$scope:{ctx:i}}}),Y=new St({props:{label:"Layering mode",buttonTitle:"Layering mode options",dropdownText:Ce[i[0].layerMode],$$slots:{buttons:[Ys,({toggleDropdown:E})=>({25:E}),({toggleDropdown:E})=>[E?33554432:0]]},$$scope:{ctx:i}}}),{c(){var E,R;for(let ee=0;ee<L.length;ee+=1)L[ee].c();e=H(),t=O("div"),n=O("label"),l=O("input"),o=te(`\r
        Interval includes child duration`),a=H(),u=O("label"),c=O("input"),h=te(`\r
        Include trailing interval`),g=H(),W&&W.c(),m=H();for(let ee=0;ee<b.length;ee+=1)b[ee].c();y=H(),j(N.$$.fragment),T=H(),j(_.$$.fragment),J=H(),j(Y.$$.fragment),p(l,"type","checkbox"),l.checked=r=i[2].includeChildDuration,l.disabled=s=((E=i[7]("includeChildDuration",!i[2].includeChildDuration))==null?void 0:E.error)!==We.None,p(n,"class","horizontal svelte-1i5tlk4"),p(c,"type","checkbox"),c.checked=f=i[2].trailingInterval,c.disabled=d=((R=i[7]("trailingInterval",!i[2].includeChildDuration))==null?void 0:R.error)!==We.None,p(u,"class","horizontal svelte-1i5tlk4"),p(t,"class","boolean-options svelte-1i5tlk4")},m(E,R){for(let ee=0;ee<L.length;ee+=1)L[ee]&&L[ee].m(E,R);k(E,e,R),k(E,t,R),D(t,n),D(n,l),D(n,o),D(t,a),D(t,u),D(u,c),D(u,h),D(t,g),W&&W.m(t,null),k(E,m,R);for(let ee=0;ee<b.length;ee+=1)b[ee]&&b[ee].m(E,R);k(E,y,R),V(N,E,R),k(E,T,R),V(_,E,R),k(E,J,R),V(Y,E,R),q=!0,C||(I=[K(l,"change",i[17]),K(c,"change",i[18])],C=!0)},p(E,R){var he,me;if(R[0]&8727){U=Q(Object.entries(E[2].constraints));let ae;for(ae=0;ae<U.length;ae+=1){const ye=Ni(E,U,ae);L[ae]?L[ae].p(ye,R):(L[ae]=Ci(ye),L[ae].c(),L[ae].m(e.parentNode,e))}for(;ae<L.length;ae+=1)L[ae].d(1);L.length=U.length}(!q||R[0]&4&&r!==(r=E[2].includeChildDuration))&&(l.checked=r),(!q||R[0]&4&&s!==(s=((he=E[7]("includeChildDuration",!E[2].includeChildDuration))==null?void 0:he.error)!==We.None))&&(l.disabled=s),(!q||R[0]&4&&f!==(f=E[2].trailingInterval))&&(c.checked=f),(!q||R[0]&4&&d!==(d=((me=E[7]("trailingInterval",!E[2].includeChildDuration))==null?void 0:me.error)!==We.None))&&(c.disabled=d),E[0].child instanceof Le?W?W.p(E,R):(W=Ti(E),W.c(),W.m(t,null)):W&&(W.d(1),W=null),R[0]&33555042&&(G=Q({length:3}),$(),b=Qe(b,R,oe,1,E,G,M,y.parentNode,$e,Ai,y,Oi),x());const ee={};R[0]&1&&(ee.dropdownText=E[0].props.unit),R[0]&33554433|R[1]&2048&&(ee.$$scope={dirty:R,ctx:E}),N.$set(ee);const X={};R[0]&1&&(X.dropdownText=E[0].props.durationUnit),R[0]&33554433|R[1]&2048&&(X.$$scope={dirty:R,ctx:E}),_.$set(X);const be={};R[0]&1&&(be.dropdownText=Ce[E[0].layerMode]),R[0]&33554441|R[1]&2048&&(be.$$scope={dirty:R,ctx:E}),Y.$set(be)},i(E){if(!q){for(let R=0;R<G.length;R+=1)v(b[R]);v(N.$$.fragment,E),v(_.$$.fragment,E),v(Y.$$.fragment,E),q=!0}},o(E){for(let R=0;R<b.length;R+=1)S(b[R]);S(N.$$.fragment,E),S(_.$$.fragment,E),S(Y.$$.fragment,E),q=!1},d(E){E&&(w(e),w(t),w(m),w(y),w(T),w(J)),je(L,E),W&&W.d();for(let R=0;R<b.length;R+=1)b[R].d(E);B(N,E),B(_,E),B(Y,E),C=!1,_e(I)}}}function Ci(i){let e,t=i[9](i[38])+"",n,l,r,s,o,a,u,c,f,d,h=i[13](i[38])+"",g,m,b;function M(...y){return i[16](i[38],...y)}return{c(){e=O("label"),n=te(t),l=te(`:\r
        `),r=O("input"),d=H(),g=te(h),p(r,"type",s=i[0].props.isUnitNumeric(i[38])?"number":"text"),p(r,"step",o=i[0].props.isUnitNumeric(i[38])?"any":void 0),p(r,"min",a=i[0].props.isUnitNumeric(i[38])?0:void 0),r.value=u=i[0].props.toUnitString(i[39],i[38]),r.disabled=c=!i[1].includes(i[38]),p(r,"placeholder",f=i[38]==="repetitions"?"Number of repetitions":`${i[9](i[38])}${i[38]==="start"||i[38]==="end"?" time":""} in ${i[13](i[38],!0)}`),p(e,"class","horizontal")},m(y,N){k(y,e,N),D(e,n),D(e,l),D(e,r),D(e,d),D(e,g),m||(b=K(r,"change",M),m=!0)},p(y,N){i=y,N[0]&4&&t!==(t=i[9](i[38])+"")&&Ae(n,t),N[0]&5&&s!==(s=i[0].props.isUnitNumeric(i[38])?"number":"text")&&p(r,"type",s),N[0]&5&&o!==(o=i[0].props.isUnitNumeric(i[38])?"any":void 0)&&p(r,"step",o),N[0]&5&&a!==(a=i[0].props.isUnitNumeric(i[38])?0:void 0)&&p(r,"min",a),N[0]&5&&u!==(u=i[0].props.toUnitString(i[39],i[38]))&&r.value!==u&&(r.value=u),N[0]&6&&c!==(c=!i[1].includes(i[38]))&&(r.disabled=c),N[0]&4&&f!==(f=i[38]==="repetitions"?"Number of repetitions":`${i[9](i[38])}${i[38]==="start"||i[38]==="end"?" time":""} in ${i[13](i[38],!0)}`)&&p(r,"placeholder",f),N[0]&4&&h!==(h=i[13](i[38])+"")&&Ae(g,h)},d(y){y&&w(e),m=!1,b()}}}function Ti(i){let e,t,n,l,r,s,o;return{c(){var a;e=O("label"),t=O("input"),r=te(`\r
          Keep leading space`),p(t,"type","checkbox"),t.checked=n=i[2].keepLeading,t.disabled=l=((a=i[7]("keepLeading",!i[2].keepLeading))==null?void 0:a.error)!==We.None,p(e,"class","horizontal svelte-1i5tlk4")},m(a,u){k(a,e,u),D(e,t),D(e,r),s||(o=K(t,"change",i[19]),s=!0)},p(a,u){var c;u[0]&4&&n!==(n=a[2].keepLeading)&&(t.checked=n),u[0]&4&&l!==(l=((c=a[7]("keepLeading",!a[2].keepLeading))==null?void 0:c.error)!==We.None)&&(t.disabled=l)},d(a){a&&w(e),s=!1,o()}}}function Ii(i){let e,t,n;function l(){return i[20](i[26],i[35],i[25])}return{c(){e=O("button"),e.textContent=`${i[9](i[26])}`},m(r,s){k(r,e,s),t||(n=K(e,"click",l),t=!0)},p(r,s){i=r},d(r){r&&w(e),t=!1,n()}}}function Ei(i,e){let t,n,l=e[1][e[35]]!==e[26]&&Ii(e);return{key:i,first:null,c(){t=Z(),l&&l.c(),n=Z(),this.first=t},m(r,s){k(r,t,s),l&&l.m(r,s),k(r,n,s)},p(r,s){e=r,e[1][e[35]]!==e[26]?l?l.p(e,s):(l=Ii(e),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(r){r&&(w(t),w(n)),l&&l.d(r)}}}function Ps(i){let e=[],t=new Map,n,l=Q(i[5](i[35]));const r=s=>[s[26],s[1]];for(let s=0;s<l.length;s+=1){let o=Di(i,l,s),a=r(o);t.set(a,e[s]=Ei(a,o))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();n=Z()},m(s,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(s,o);k(s,n,o)},p(s,o){o[0]&33555042&&(l=Q(s[5](s[35])),e=Qe(e,o,r,1,s,l,t,n.parentNode,Ul,Ei,n,Di))},d(s){s&&w(n);for(let o=0;o<e.length;o+=1)e[o].d(s)}}}function Ai(i,e){let t,n,l;return n=new St({props:{label:`Constraint ${e[35]+1}`,buttonTitle:`Constraint ${e[35]+1} options`,dropdownText:e[9](e[1][e[35]]),disabled:e[5](e[35]).length<=1,$$slots:{buttons:[Ps,({toggleDropdown:r})=>({25:r}),({toggleDropdown:r})=>[r?33554432:0]]},$$scope:{ctx:e}}}),{key:i,first:null,c(){t=Z(),j(n.$$.fragment),this.first=t},m(r,s){k(r,t,s),V(n,r,s),l=!0},p(r,s){e=r;const o={};s[0]&2&&(o.dropdownText=e[9](e[1][e[35]])),s[0]&33554434|s[1]&2048&&(o.$$scope={dirty:s,ctx:e}),n.$set(o)},i(r){l||(v(n.$$.fragment,r),l=!0)},o(r){S(n.$$.fragment,r),l=!1},d(r){r&&w(t),B(n,r)}}}function Li(i){let e,t,n;function l(){return i[21](i[26],i[25])}return{c(){e=O("button"),e.textContent=`${i[26]}`},m(r,s){k(r,e,s),t||(n=K(e,"click",l),t=!0)},p(r,s){i=r},d(r){r&&w(e),t=!1,n()}}}function Pi(i){let e,t=i[0].props.unit!==i[26]&&Li(i);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,l){n[0].props.unit!==n[26]?t?t.p(n,l):(t=Li(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&w(e),t&&t.d(n)}}}function Us(i){let e,t=Q(i[10]()),n=[];for(let l=0;l<t.length;l+=1)n[l]=Pi(yi(i,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Z()},m(l,r){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,r);k(l,e,r)},p(l,r){if(r[0]&33557505){t=Q(l[10]());let s;for(s=0;s<t.length;s+=1){const o=yi(l,t,s);n[s]?n[s].p(o,r):(n[s]=Pi(o),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){l&&w(e),je(n,l)}}}function Ui(i){let e,t,n;function l(){return i[22](i[26],i[25])}return{c(){e=O("button"),e.textContent=`${i[26]}`},m(r,s){k(r,e,s),t||(n=K(e,"click",l),t=!0)},p(r,s){i=r},d(r){r&&w(e),t=!1,n()}}}function Hi(i){let e,t=i[0].props.durationUnit!==i[26]&&Ui(i);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,l){n[0].props.durationUnit!==n[26]?t?t.p(n,l):(t=Ui(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&w(e),t&&t.d(n)}}}function Hs(i){let e,t=Q(Fi()),n=[];for(let l=0;l<t.length;l+=1)n[l]=Hi(Mi(i,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Z()},m(l,r){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,r);k(l,e,r)},p(l,r){if(r[0]&33558529){t=Q(Fi());let s;for(s=0;s<t.length;s+=1){const o=Mi(l,t,s);n[s]?n[s].p(o,r):(n[s]=Hi(o),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){l&&w(e),je(n,l)}}}function Yi(i){let e,t,n;function l(){return i[23](i[26],i[25])}return{c(){e=O("button"),e.textContent=`${Ce[i[26]]}`},m(r,s){k(r,e,s),t||(n=K(e,"click",l),t=!0)},p(r,s){i=r},d(r){r&&w(e),t=!1,n()}}}function zi(i){let e,t=i[0].layerMode!==i[26]&&Yi(i);return{c(){t&&t.c(),e=Z()},m(n,l){t&&t.m(n,l),k(n,e,l)},p(n,l){n[0].layerMode!==n[26]?t?t.p(n,l):(t=Yi(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&w(e),t&&t.d(n)}}}function Ys(i){let e,t=Q([Ce.Override,Ce.Coincide]),n=[];for(let l=0;l<2;l+=1)n[l]=zi(Si(i,t,l));return{c(){for(let l=0;l<2;l+=1)n[l].c();e=Z()},m(l,r){for(let s=0;s<2;s+=1)n[s]&&n[s].m(l,r);k(l,e,r)},p(l,r){if(r[0]&33554441){t=Q([Ce.Override,Ce.Coincide]);let s;for(s=0;s<2;s+=1){const o=Si(l,t,s);n[s]?n[s].p(o,r):(n[s]=zi(o),n[s].c(),n[s].m(e.parentNode,e))}for(;s<2;s+=1)n[s].d(1)}},d(l){l&&w(e),je(n,l)}}}function zs(i){let e,t,n=i[0]!==void 0&&i[2]!==void 0&&qi(i);return{c(){n&&n.c(),e=Z()},m(l,r){n&&n.m(l,r),k(l,e,r),t=!0},p(l,r){l[0]!==void 0&&l[2]!==void 0?n?(n.p(l,r),r[0]&5&&v(n,1)):(n=qi(l),n.c(),v(n,1),n.m(e.parentNode,e)):n&&($(),S(n,1,1,()=>{n=null}),x())},i(l){t||(v(n),t=!0)},o(l){S(n),t=!1},d(l){l&&w(e),n&&n.d(l)}}}function Fs(i){let e,t;return e=new dn({props:{title:"Repetition",name:"properties-repitition",$$slots:{default:[zs]},$$scope:{ctx:i}}}),{c(){j(e.$$.fragment)},m(n,l){V(e,n,l),t=!0},p(n,l){const r={};l[0]&15|l[1]&2048&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(v(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Js(i,e){if(e!==void 0)return i.get(e)}function Fi(){return["seconds","minutes","hours","HH:MM:SS"]}function Rs(i,e,t){let n,l,r;de(i,ce,L=>t(14,n=L)),de(i,Pe,L=>t(3,l=L)),de(i,pt,L=>t(15,r=L));let s,o,a;function u(L,W){if(L===void 0)return;const G=s==null?void 0:s.validate();if((G==null?void 0:G.solved)!==void 0)return new Ot(G.solved,W,L.props.includeChildDuration,L.props.trailingInterval,L.props.keepLeading,L.props.unit,L.props.durationUnit)}function c(L,W){if(s===void 0||o===void 0)return;const G=s.child.getDuration(o.keepLeading);if(G===void 0)return;const oe=o.constraints[W],E=L.target,R=o.fromUnitString(E.value,W);if(E.value===""||R===void 0){E.value=o.toUnitString(oe,W);return}t(2,o.constraints[W]=R,o);const ee=o.validate(G);if(ee.error!==We.None){t(2,o.constraints[W]=oe,o),E.value=o.toUnitString(oe,W);return}ee.solved!==void 0&&t(2,o.constraints=ee.solved,o),t(0,s.props=o,s),ve(Pe,l++,l)}function f(L){let W;return L===0?W=Object.keys(ut[0]):W=ut[L-1][a[L-1]],W}function d(L,W){t(1,a[W]=L,a);for(const[G,oe]of a.entries()){const E=f(G);E.includes(oe)||t(1,a[G]=E[0],a)}}function h(L,W){if(s===void 0||o===void 0)return;const G=s.child.getDuration(!1);if(G===void 0)return;const oe=o,E=oe[L];oe[L]=W;const R=oe.validate(G);return oe[L]=E,R}function g(L,W){if(s===void 0||o===void 0)return;const G=L.target,oe=h(W,G.checked);oe===void 0||oe.solved===void 0?G.checked=!G.checked:(t(2,o[W]=G.checked,o),t(2,o.constraints=oe.solved,o)),t(0,s.props=o,s),ve(Pe,l++,l)}const m=L=>L[0].toUpperCase()+L.substring(1);function b(){return n.openedSequence===void 0?[]:n.openedSequence.isAbsolute?["YYYY-MM-DD HH:MM:SS","unix time"]:["seconds","minutes","hours","HH:MM:SS"]}function M(L){s===void 0||o===void 0||(t(2,o.unit=L,o),t(0,s.props=o,s))}function y(L){s===void 0||o===void 0||(t(2,o.durationUnit=L,o),t(0,s.props=o,s))}function N(L,W=!1){if(s===void 0||L==="repetitions")return"";const G=s.props.constraintUnit(L);return(G==="YYYY-MM-DD HH:MM:SS"||G==="HH:MM:SS")&&!W?"":G}const T=(L,W)=>c(W,L),_=L=>g(L,"includeChildDuration"),J=L=>g(L,"trailingInterval"),Y=L=>g(L,"keepLeading"),q=(L,W,G)=>{d(L,W),G()},C=(L,W)=>{M(L),W()},I=(L,W)=>{y(L),W()},U=(L,W)=>{s!==void 0&&(t(0,s.layerMode=L,s),ve(Pe,l++,l),W())};return i.$$.update=()=>{i.$$.dirty[0]&49152&&t(0,s=Js(r,n.openedSequence)),i.$$.dirty[0]&1&&t(1,a=[...(s==null?void 0:s.props.selectedConstraints)??[]]),i.$$.dirty[0]&3&&t(2,o=u(s,a))},[s,a,o,l,c,f,d,h,g,m,b,M,y,N,n,r,T,_,J,Y,q,C,I,U]}class mn extends re{constructor(e){super(),le(this,e,Rs,Fs,ie,{},null,[-1,-1])}}function Ji(i){let e,t,n;return t=new cn({props:{$$slots:{default:[Vs]},$$scope:{ctx:i}}}),{c(){e=O("div"),j(t.$$.fragment),p(e,"class","leftPanes")},m(l,r){k(l,e,r),V(t,e,null),n=!0},p(l,r){const s={};r&37&&(s.$$scope={dirty:r,ctx:l}),t.$set(s)},i(l){n||(v(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&w(e),B(t)}}}function Ri(i){let e,t,n,l;return e=new hn({}),n=new mn({}),{c(){j(e.$$.fragment),t=H(),j(n.$$.fragment)},m(r,s){V(e,r,s),k(r,t,s),V(n,r,s),l=!0},i(r){l||(v(e.$$.fragment,r),v(n.$$.fragment,r),l=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),l=!1},d(r){r&&w(t),B(e,r),B(n,r)}}}function Vs(i){let e,t,n,l,r,s;e=new Ht({props:{title:"Actions",name:"components-actions",manager:i[2].actionSet.actionManager}}),n=new Ht({props:{title:"Sequences",name:"components-sequences",manager:i[2].sequenceManager}});let o=i[0]<Ut&&Ri();return{c(){j(e.$$.fragment),t=H(),j(n.$$.fragment),l=H(),o&&o.c(),r=Z()},m(a,u){V(e,a,u),k(a,t,u),V(n,a,u),k(a,l,u),o&&o.m(a,u),k(a,r,u),s=!0},p(a,u){const c={};u&4&&(c.manager=a[2].actionSet.actionManager),e.$set(c);const f={};u&4&&(f.manager=a[2].sequenceManager),n.$set(f),a[0]<Ut?o?u&1&&v(o,1):(o=Ri(),o.c(),v(o,1),o.m(r.parentNode,r)):o&&($(),S(o,1,1,()=>{o=null}),x())},i(a){s||(v(e.$$.fragment,a),v(n.$$.fragment,a),v(o),s=!0)},o(a){S(e.$$.fragment,a),S(n.$$.fragment,a),S(o),s=!1},d(a){a&&(w(t),w(l),w(r)),B(e,a),B(n,a),o&&o.d(a)}}}function Vi(i){let e,t,n,l;function r(a){i[3](a)}function s(a){i[4](a)}let o={};return i[2].openedSequence!==void 0&&(o.sequence=i[2].openedSequence),i[1]!==void 0&&(o.width=i[1]),e=new ts({props:o}),ue.push(()=>Me(e,"sequence",r)),ue.push(()=>Me(e,"width",s)),{c(){j(e.$$.fragment)},m(a,u){V(e,a,u),l=!0},p(a,u){const c={};!t&&u&4&&(t=!0,c.sequence=a[2].openedSequence,Se(()=>t=!1)),!n&&u&2&&(n=!0,c.width=a[1],Se(()=>n=!1)),e.$set(c)},i(a){l||(v(e.$$.fragment,a),l=!0)},o(a){S(e.$$.fragment,a),l=!1},d(a){B(e,a)}}}function Bi(i){let e,t;return e=new cn({props:{$$slots:{default:[Bs]},$$scope:{ctx:i}}}),{c(){j(e.$$.fragment)},m(n,l){V(e,n,l),t=!0},i(n){t||(v(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Bs(i){let e,t,n,l;return e=new hn({}),n=new mn({}),{c(){j(e.$$.fragment),t=H(),j(n.$$.fragment)},m(r,s){V(e,r,s),k(r,t,s),V(n,r,s),l=!0},i(r){l||(v(e.$$.fragment,r),v(n.$$.fragment,r),l=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),l=!1},d(r){r&&w(t),B(e,r),B(n,r)}}}function Wi(i){let e,t,n;return t=new cn({props:{fullWidth:!0,$$slots:{default:[Ws]},$$scope:{ctx:i}}}),{c(){e=O("div"),j(t.$$.fragment)},m(l,r){k(l,e,r),V(t,e,null),n=!0},p(l,r){const s={};r&36&&(s.$$scope={dirty:r,ctx:l}),t.$set(s)},i(l){n||(v(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&w(e),B(t)}}}function Ws(i){let e,t,n,l,r,s,o,a;return e=new Ht({props:{title:"Actions",name:"components-actions",manager:i[2].actionSet.actionManager}}),n=new Ht({props:{title:"Sequences",name:"components-sequences",manager:i[2].sequenceManager}}),r=new hn({}),o=new mn({}),{c(){j(e.$$.fragment),t=H(),j(n.$$.fragment),l=H(),j(r.$$.fragment),s=H(),j(o.$$.fragment)},m(u,c){V(e,u,c),k(u,t,c),V(n,u,c),k(u,l,c),V(r,u,c),k(u,s,c),V(o,u,c),a=!0},p(u,c){const f={};c&4&&(f.manager=u[2].actionSet.actionManager),e.$set(f);const d={};c&4&&(d.manager=u[2].sequenceManager),n.$set(d)},i(u){a||(v(e.$$.fragment,u),v(n.$$.fragment,u),v(r.$$.fragment,u),v(o.$$.fragment,u),a=!0)},o(u){S(e.$$.fragment,u),S(n.$$.fragment,u),S(r.$$.fragment,u),S(o.$$.fragment,u),a=!1},d(u){u&&(w(t),w(l),w(s)),B(e,u),B(n,u),B(r,u),B(o,u)}}}function js(i){let e,t,n,l,r,s,o,a,u,c=i[0]>=lt&&Ji(i);l=new yr({props:{timelineWidth:i[1]}});let f=i[2].openedSequence!==void 0&&Vi(i),d=i[0]>=Ut&&Bi(i),h=i[0]<lt&&Wi(i);return{c(){e=O("div"),c&&c.c(),t=H(),n=O("div"),j(l.$$.fragment),r=H(),f&&f.c(),s=H(),d&&d.c(),o=H(),h&&h.c(),a=Z(),p(n,"class","timeline svelte-b4gfse"),p(e,"class","panes svelte-b4gfse"),P(e,"height",i[0]<lt?"60vh":void 0)},m(g,m){k(g,e,m),c&&c.m(e,null),D(e,t),D(e,n),V(l,n,null),D(n,r),f&&f.m(n,null),D(e,s),d&&d.m(e,null),k(g,o,m),h&&h.m(g,m),k(g,a,m),u=!0},p(g,[m]){g[0]>=lt?c?(c.p(g,m),m&1&&v(c,1)):(c=Ji(g),c.c(),v(c,1),c.m(e,t)):c&&($(),S(c,1,1,()=>{c=null}),x());const b={};m&2&&(b.timelineWidth=g[1]),l.$set(b),g[2].openedSequence!==void 0?f?(f.p(g,m),m&4&&v(f,1)):(f=Vi(g),f.c(),v(f,1),f.m(n,null)):f&&($(),S(f,1,1,()=>{f=null}),x()),g[0]>=Ut?d?m&1&&v(d,1):(d=Bi(g),d.c(),v(d,1),d.m(e,null)):d&&($(),S(d,1,1,()=>{d=null}),x()),m&1&&P(e,"height",g[0]<lt?"60vh":void 0),g[0]<lt?h?(h.p(g,m),m&1&&v(h,1)):(h=Wi(g),h.c(),v(h,1),h.m(a.parentNode,a)):h&&($(),S(h,1,1,()=>{h=null}),x())},i(g){u||(v(c),v(l.$$.fragment,g),v(f),v(d),v(h),u=!0)},o(g){S(c),S(l.$$.fragment,g),S(f),S(d),S(h),u=!1},d(g){g&&(w(e),w(o),w(a)),c&&c.d(),B(l),f&&f.d(),d&&d.d(),h&&h.d(g)}}}function Xs(i,e,t){let n;de(i,ce,a=>t(2,n=a));let{width:l}=e,r=0;function s(a){i.$$.not_equal(n.openedSequence,a)&&(n.openedSequence=a,ce.set(n))}function o(a){r=a,t(1,r)}return i.$$set=a=>{"width"in a&&t(0,l=a.width)},[l,r,n,s,o]}class _l extends re{constructor(e){super(),le(this,e,Xs,js,ie,{width:0})}}function Ks(i){let e,t;return{c(){e=O("p"),t=te(i[4])},m(n,l){k(n,e,l),D(e,t)},p(n,l){l&16&&Ae(t,n[4])},d(n){n&&w(e)}}}function Gs(i){let e,t,n,l,r,s,o;function a(c){i[16](c)}let u={title:i[3],showActions:!1,$$slots:{default:[Ks]},$$scope:{ctx:i}};return i[0]!==void 0&&(u.isOpen=i[0]),n=new on({props:u}),ue.push(()=>Me(n,"isOpen",a)),{c(){e=O("input"),t=H(),j(n.$$.fragment),p(e,"type","file"),p(e,"accept",".sqp,application/json"),P(e,"position","absolute"),P(e,"visibility","hidden")},m(c,f){k(c,e,f),i[15](e),k(c,t,f),V(n,c,f),r=!0,s||(o=[K(e,"change",i[8]),K(e,"cancel",i[9])],s=!0)},p(c,f){const d={};f&8&&(d.title=c[3]),f&524304&&(d.$$scope={dirty:f,ctx:c}),!l&&f&1&&(l=!0,d.isOpen=c[0],Se(()=>l=!1)),n.$set(d)},i(c){r||(v(n.$$.fragment,c),r=!0)},o(c){S(n.$$.fragment,c),r=!1},d(c){c&&(w(e),w(t)),i[15](null),B(n,c),s=!1,_e(o)}}}function Qs(i){let e,t,n;return{c(){e=O("button"),e.textContent="File",p(e,"class","menu-button"),p(e,"slot","button"),p(e,"title","File options")},m(l,r){k(l,e,r),t||(n=K(e,"click",function(){Xe(i[18])&&i[18].apply(this,arguments)}),t=!0)},p(l,r){i=l},d(l){l&&w(e),t=!1,n()}}}function Zs(i){let e,t,n,l,r,s=i[5].openedSequence!==void 0&&ji(i);return{c(){e=O("button"),e.textContent="Download",t=H(),s&&s.c(),n=Z()},m(o,a){k(o,e,a),k(o,t,a),s&&s.m(o,a),k(o,n,a),l||(r=K(e,"click",i[13]),l=!0)},p(o,a){o[5].openedSequence!==void 0?s?s.p(o,a):(s=ji(o),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(o){o&&(w(e),w(t),w(n)),s&&s.d(o),l=!1,r()}}}function $s(i){let e,t,n,l,r,s,o,a,u,c=i[5].openedSequence!==void 0&&Xi(i);return{c(){e=O("button"),t=te("Save"),l=H(),r=O("button"),r.textContent="Save as...",s=H(),c&&c.c(),o=Z(),e.disabled=n=!i[6]},m(f,d){k(f,e,d),D(e,t),k(f,l,d),k(f,r,d),k(f,s,d),c&&c.m(f,d),k(f,o,d),a||(u=[K(e,"click",i[10]),K(r,"click",i[11])],a=!0)},p(f,d){d&64&&n!==(n=!f[6])&&(e.disabled=n),f[5].openedSequence!==void 0?c?c.p(f,d):(c=Xi(f),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},d(f){f&&(w(e),w(l),w(r),w(s),w(o)),c&&c.d(f),a=!1,_e(u)}}}function ji(i){let e,t,n;return{c(){e=O("button"),e.textContent="Export sequence"},m(l,r){k(l,e,r),t||(n=K(e,"click",i[14]),t=!0)},p:ne,d(l){l&&w(e),t=!1,n()}}}function Xi(i){let e,t,n;return{c(){e=O("button"),e.textContent="Export sequence..."},m(l,r){k(l,e,r),t||(n=K(e,"click",i[12]),t=!0)},p:ne,d(l){l&&w(e),t=!1,n()}}}function xs(i){let e,t,n,l,r;function s(u,c){return"showSaveFilePicker"in window?$s:Zs}let a=s()(i);return{c(){e=O("button"),e.textContent="Open",t=H(),a.c(),n=Z()},m(u,c){k(u,e,c),k(u,t,c),a.m(u,c),k(u,n,c),l||(r=K(e,"click",i[7]),l=!0)},p(u,c){a.p(u,c)},d(u){u&&(w(e),w(t),w(n)),a.d(u),l=!1,r()}}}function eo(i){let e,t,n;function l(s){i[17](s)}let r={closeCondition:i[0],$$slots:{buttons:[xs],button:[Qs,({toggleDropdown:s})=>({18:s}),({toggleDropdown:s})=>s?262144:0],default:[Gs]},$$scope:{ctx:i}};return i[1]!==void 0&&(r.showOptions=i[1]),e=new rn({props:r}),ue.push(()=>Me(e,"showOptions",l)),{c(){j(e.$$.fragment)},m(s,o){V(e,s,o),n=!0},p(s,[o]){const a={};o&1&&(a.closeCondition=s[0]),o&786557&&(a.$$scope={dirty:o,ctx:s}),!t&&o&2&&(t=!0,a.showOptions=s[1],Se(()=>t=!1)),e.$set(a)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){B(e,s)}}}function to(i,e,t){let n,l;de(i,ce,_=>t(5,n=_)),de(i,vt,_=>t(6,l=_));let r=!1,s,o,a="",u="";async function c(){if(t(1,s=!1),t(3,a="Open location..."),t(4,u="Choose project file to open using the popup window."),t(0,r=!0),"showSaveFilePicker"in window){const _={id:"project",types:[{description:"Sequent project file",accept:{"application/json":[".sqp"]}}]};if(ve(vt,[l]=await window.showOpenFilePicker(_),l),!l)return;const Y=await(await l.getFile()).text();ve(ce,n=mt.fromJSON(JSON.parse(Y)),n),t(0,r=!1)}else o.click()}async function f(){var _;t(0,r=!1),o.files&&((_=o.files)==null?void 0:_.length)!==0&&ve(ce,n=mt.fromJSON(JSON.parse(await o.files[0].text())),n)}function d(){t(0,r=!1)}async function h(){if(!l)throw Error("File handle is undefined.");const _=await l.createWritable();await _.write(Kt(n)),await _.close(),t(1,s=!1)}async function g(){t(1,s=!1),t(3,a="Select file location..."),t(4,u="Choose where to save the project file using the popup window."),t(0,r=!0);const _={id:"project",suggestedName:`${n.name}.sqp`,types:[{description:"Sequent project file",accept:{"application/json":[".sqp"]}}]};try{ve(vt,l=await window.showSaveFilePicker(_),l)}catch{}await h(),t(0,r=!1)}async function m(){if(n.openedSequence===void 0)return;t(1,s=!1),t(3,a="Select file location..."),t(4,u="Choose where to save the sequence file using the popup window."),t(0,r=!0);const _={id:"project",suggestedName:`${n.openedSequence.name}.seq`,types:[{description:"Sequent sequence file",accept:{"application/json":[".seq"]}}]};try{ve(vt,l=await window.showSaveFilePicker(_),l)}catch{}if(!l)throw Error("File handle is undefined.");const J=await l.createWritable();await J.write(n.openedSequence.render().export(n.openedSequence.isAbsolute)),await J.close(),t(0,r=!1)}function b(){var _=document.createElement("a");_.href=URL.createObjectURL(new Blob([Kt(n)],{type:"application/json"})),_.download=`${n.name}.sqp`,_.click(),t(1,s=!1)}function M(){if(n.openedSequence!==void 0){var _=document.createElement("a");_.href=URL.createObjectURL(new Blob([n.openedSequence.render().export(n.openedSequence.isAbsolute)],{type:"application/json"})),_.download=`${n.openedSequence.name}.seq`,_.click(),t(1,s=!1)}}function y(_){ue[_?"unshift":"push"](()=>{o=_,t(2,o)})}function N(_){r=_,t(0,r)}function T(_){s=_,t(1,s)}return[r,s,o,a,u,n,l,c,f,d,h,g,m,b,M,y,N,T]}class no extends re{constructor(e){super(),le(this,e,to,eo,ie,{})}}function io(i){let e,t;return{c(){e=Te("svg"),t=Te("path"),p(t,"d","M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","32"),p(e,"height","32"),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke","currentColor"),p(e,"stroke-width","2"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round")},m(n,l){k(n,e,l),D(e,t)},d(n){n&&w(e)}}}function lo(i){let e,t,n;return{c(){e=Te("svg"),t=Te("circle"),n=Te("path"),p(t,"cx","12"),p(t,"cy","12"),p(t,"r","5"),p(n,"d","M12 1v2M12 21v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","32"),p(e,"height","32"),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke","currentColor"),p(e,"stroke-width","2"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round")},m(l,r){k(l,e,r),D(e,t),D(e,n)},d(l){l&&w(e)}}}function ro(i){let e,t,n;function l(o,a){return o[0]=="light"?lo:io}let r=l(i),s=r(i);return{c(){e=O("button"),s.c(),p(e,"title","Switch theme"),p(e,"class","svelte-19gt07j")},m(o,a){k(o,e,a),s.m(e,null),t||(n=K(e,"click",i[1]),t=!0)},p(o,[a]){r!==(r=l(o))&&(s.d(1),s=r(o),s&&(s.c(),s.m(e,null)))},i:ne,o:ne,d(o){o&&w(e),s.d(),t=!1,n()}}}function so(i,e,t){let{theme:n=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}=e;const l=()=>{const s=window.document.documentElement.classList;n=="dark"?s.add("dark"):s.remove("dark")},r=()=>{t(0,n=n=="light"?"dark":"light"),localStorage.setItem("theme",n),l()};return l(),i.$$set=s=>{"theme"in s&&t(0,n=s.theme)},[n,r]}class oo extends re{constructor(e){super(),le(this,e,so,ro,ie,{theme:0})}}function ao(i){let e,t,n,l,r,s,o,a;return l=new no({}),o=new oo({}),{c(){e=O("div"),t=O("h1"),t.textContent="Sequent Editor",n=H(),j(l.$$.fragment),r=H(),s=O("div"),j(o.$$.fragment),p(t,"class","svelte-1nyte9d"),p(s,"class","theme-button svelte-1nyte9d"),p(e,"class","title svelte-1nyte9d")},m(u,c){k(u,e,c),D(e,t),D(e,n),V(l,e,null),D(e,r),D(e,s),V(o,s,null),a=!0},p:ne,i(u){a||(v(l.$$.fragment,u),v(o.$$.fragment,u),a=!0)},o(u){S(l.$$.fragment,u),S(o.$$.fragment,u),a=!1},d(u){u&&w(e),B(l),B(o)}}}class uo extends re{constructor(e){super(),le(this,e,null,ao,ie,{})}}function fo(i){let e,t;return e=new _l({props:{width:i[0]}}),{c(){j(e.$$.fragment)},m(n,l){V(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.width=n[0]),e.$set(r)},i(n){t||(v(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function co(i){let e,t,n;return t=new ll({props:{width:"100%",height:"100%",$$slots:{default:[ho]},$$scope:{ctx:i}}}),{c(){e=O("div"),j(t.$$.fragment),p(e,"class","scrollContainer svelte-t629eq")},m(l,r){k(l,e,r),V(t,e,null),n=!0},p(l,r){const s={};r&5&&(s.$$scope={dirty:r,ctx:l}),t.$set(s)},i(l){n||(v(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&w(e),B(t)}}}function ho(i){let e,t;return e=new _l({props:{width:i[0]}}),{c(){j(e.$$.fragment)},m(n,l){V(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.width=n[0]),e.$set(r)},i(n){t||(v(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function mo(i){let e,t,n,l,r,s,o;t=new uo({});const a=[co,fo],u=[];function c(f,d){return f[0]<lt?0:1}return l=c(i),r=u[l]=a[l](i),{c(){e=O("main"),j(t.$$.fragment),n=H(),r.c(),p(e,"class","svelte-t629eq"),ge(()=>i[1].call(e))},m(f,d){k(f,e,d),V(t,e,null),D(e,n),u[l].m(e,null),s=Ct(e,i[1].bind(e)),o=!0},p(f,[d]){let h=l;l=c(f),l===h?u[l].p(f,d):($(),S(u[h],1,1,()=>{u[h]=null}),x(),r=u[l],r?r.p(f,d):(r=u[l]=a[l](f),r.c()),v(r,1),r.m(e,null))},i(f){o||(v(t.$$.fragment,f),v(r),o=!0)},o(f){S(t.$$.fragment,f),S(r),o=!1},d(f){f&&w(e),B(t),u[l].d(),s()}}}function po(i,e,t){let n=0;function l(){n=this.clientWidth,t(0,n)}return[n,l]}class go extends re{constructor(e){super(),le(this,e,po,mo,ie,{})}}new go({target:document.getElementById("app")});
